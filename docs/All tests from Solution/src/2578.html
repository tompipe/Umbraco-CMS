<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\umbraco.datalayer\Utility\Table\DefaultTable.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.Collections;
using System.Collections.Generic;

namespace umbraco.DataLayer.Utility.Table
{
    /// &lt;summary&gt;
    /// Default implementation of the &lt;see cref=&quot;DefaultTable&quot;/&gt; interface.
    /// &lt;/summary&gt;
    [Obsolete(&quot;The legacy installers are no longer used and will be removed from the codebase in the future&quot;)]
    public class DefaultTable : ITable
    {
        #region Private Fields

        /// &lt;summary&gt;List of table fields.&lt;/summary&gt;
        private List&lt;IField&gt; m_Fields;

        #endregion

        #region Public Constructors

        /// &lt;summary&gt;
        /// Initializes a new instance of the &lt;see cref=&quot;DefaultTable&quot;/&gt; class.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;name&quot;&gt;The table name.&lt;/param&gt;
        public DefaultTable(string name)
        {
            if (String.IsNullOrEmpty(name))
                throw new ArgumentNullException(&quot;name&quot;);

            Name = name;
            m_Fields = new List&lt;IField&gt;();
        }

        #endregion

        #region ITable Members

        /// &lt;summary&gt;
        /// Gets the name of the table.
        /// &lt;/summary&gt;
        /// &lt;value&gt;The name of the table.&lt;/value&gt;
        public virtual string Name { get; protected set; }

        /// &lt;summary&gt;
        /// Adds the field to the table.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;field&quot;&gt;The field.&lt;/param&gt;
        public virtual void AddField(IField field)
        {
            if (field == null)
                throw new ArgumentNullException(&quot;field&quot;);
            if (FindField(field.Name) != null)
                throw new ArgumentException(String.Format(&quot;A field named &#39;{0}&#39; already exists in table &#39;{1}&#39;.&quot;,
                                                          field.Name, this.Name));
            m_Fields.Add(field);
        }

        /// &lt;summary&gt;
        /// Creates a new field.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;name&quot;&gt;The name.&lt;/param&gt;
        /// &lt;param name=&quot;dataType&quot;&gt;The field data type.&lt;/param&gt;
        /// &lt;returns&gt;A new field.&lt;/returns&gt;
        public virtual IField CreateField(string name, Type dataType)
        {
            return CreateField(name, dataType, 0);
        }

        /// &lt;summary&gt;
        /// Creates a new field.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;name&quot;&gt;The name.&lt;/param&gt;
        /// &lt;param name=&quot;dataType&quot;&gt;The field data type.&lt;/param&gt;
        /// &lt;param name=&quot;properties&quot;&gt;The properties.&lt;/param&gt;
        /// &lt;returns&gt;A new field.&lt;/returns&gt;
        public virtual IField CreateField(string name, Type dataType, FieldProperties properties)
        {
            return CreateField(name, dataType, 0, properties);
        }

        /// &lt;summary&gt;
        /// Creates a new field.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;name&quot;&gt;The name.&lt;/param&gt;
        /// &lt;param name=&quot;dataType&quot;&gt;The field data type.&lt;/param&gt;
        /// &lt;param name=&quot;size&quot;&gt;The size.&lt;/param&gt;
        /// &lt;returns&gt;A new field.&lt;/returns&gt;
        public virtual IField CreateField(string name, Type dataType, int size)
        {
            return CreateField(name, dataType, size, FieldProperties.None);
        }

        /// &lt;summary&gt;
        /// Creates a new field.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;name&quot;&gt;The name.&lt;/param&gt;
        /// &lt;param name=&quot;dataType&quot;&gt;The field data type.&lt;/param&gt;
        /// &lt;param name=&quot;size&quot;&gt;The size.&lt;/param&gt;
        /// &lt;param name=&quot;properties&quot;&gt;The properties.&lt;/param&gt;
        /// &lt;returns&gt;A new field.&lt;/returns&gt;
        public virtual IField CreateField(string name, Type dataType, int size, FieldProperties properties)
        {
            return new DefaultField(name, dataType, size, properties);
        }

        /// &lt;summary&gt;
        /// Finds the field with the specified name.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;name&quot;&gt;The name.&lt;/param&gt;
        /// &lt;returns&gt;The field, or &lt;c&gt;null&lt;/c&gt; if a field with the specified name doesn&#39;t exist.&lt;/returns&gt;
        public IField FindField(string name)
        {
            return FindField(f =&gt; f.Name == name);
        }

        /// &lt;summary&gt;
        /// Finds the first field satisfiying the matcher.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;matcher&quot;&gt;The matcher.&lt;/param&gt;
        /// &lt;returns&gt;
        /// The first field found, or &lt;c&gt;null&lt;/c&gt; if no field matches.
        /// &lt;/returns&gt;
        public IField FindField(Predicate&lt;IField&gt; matcher)
        {
            foreach (IField field in this)
                if (matcher(field))
                    return field;
            return null;
        }

        /// &lt;summary&gt;
        /// Finds all fields satisfiying the matcher.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;matcher&quot;&gt;The matcher.&lt;/param&gt;
        /// &lt;returns&gt;A list of all matching fields.&lt;/returns&gt;
        public IList&lt;IField&gt; FindFields(Predicate&lt;IField&gt; matcher)
        {
            List&lt;IField&gt; matchingFields = new List&lt;IField&gt;();
            foreach (IField field in this)
                if (matcher(field))
                    matchingFields.Add(field);
            return matchingFields;
        }

        #endregion

        #region IEnumerable&lt;IField&gt; Members

        /// &lt;summary&gt;
        /// Returns an enumerator that iterates through the collection.
        /// &lt;/summary&gt;
        /// &lt;returns&gt;
        /// A &lt;see cref=&quot;T:System.Collections.Generic.IEnumerator`1&quot;/&gt; that can be used to iterate through the collection.
        /// &lt;/returns&gt;
        public virtual IEnumerator&lt;IField&gt; GetEnumerator()
        {
            return m_Fields.GetEnumerator();
        }

        #endregion

        #region IEnumerable Members

        /// &lt;summary&gt;
        /// Returns an enumerator that iterates through a collection.
        /// &lt;/summary&gt;
        /// &lt;returns&gt;
        /// An &lt;see cref=&quot;T:System.Collections.IEnumerator&quot;/&gt; object that can be used to iterate through the collection.
        /// &lt;/returns&gt;
        IEnumerator IEnumerable.GetEnumerator()
        {
            return GetEnumerator();
        }

        #endregion

        #region object Members

        /// &lt;summary&gt;
        /// Returns a &lt;see cref=&quot;T:System.String&quot;/&gt; that represents the current &lt;see cref=&quot;T:System.Object&quot;/&gt;.
        /// &lt;/summary&gt;
        /// &lt;returns&gt;
        /// A &lt;see cref=&quot;T:System.String&quot;/&gt; that represents the current &lt;see cref=&quot;T:System.Object&quot;/&gt;.
        /// &lt;/returns&gt;
        public override string ToString()
        {
            return String.Format(&quot;{0} ({1} fields)&quot;, Name, m_Fields.Count);
        }

        #endregion
    }
}



    </pre>
    <script type="text/javascript">
      highlightRanges([[26,9,26,41,0],[27,9,27,10,0],[28,13,28,44,0],[29,17,29,57,0],[31,13,31,25,0],[32,13,32,43,0],[33,9,33,10,0],[43,38,43,42,0],[43,43,43,57,0],[50,9,50,10,0],[51,13,51,31,0],[52,17,52,58,0],[53,13,53,47,0],[54,17,55,83,0],[56,13,56,33,0],[57,9,57,10,0],[66,9,66,10,0],[67,13,67,51,0],[68,9,68,10,0],[78,9,78,10,0],[79,13,79,63,0],[80,9,80,10,0],[90,9,90,10,0],[91,13,91,76,0],[92,9,92,10,0],[103,9,103,10,0],[104,13,104,71,0],[105,9,105,10,0],[113,9,113,10,0],[114,13,114,35,0],[114,35,114,49,0],[114,49,114,51,0],[114,13,114,51,0],[115,9,115,10,0],[125,9,125,10,0],[126,13,126,20,0],[126,22,126,34,0],[126,35,126,37,0],[126,38,126,42,0],[127,17,127,36,0],[128,21,128,34,0],[129,13,129,25,0],[130,9,130,10,0],[138,9,138,10,0],[139,13,139,62,0],[140,13,140,20,0],[140,22,140,34,0],[140,35,140,37,0],[140,38,140,42,0],[141,17,141,36,0],[142,21,142,47,0],[143,13,143,35,0],[144,9,144,10,0],[157,9,157,10,0],[158,13,158,45,0],[159,9,159,10,0],[172,9,172,10,0],[173,13,173,36,0],[174,9,174,10,0],[187,9,187,10,0],[188,13,188,76,0],[189,9,189,10,0]]);
    </script>
  </body>
</html>