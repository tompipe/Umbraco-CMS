<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\Umbraco.Tests\IO\IOHelperTest.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using NUnit.Framework;
using Umbraco.Core.IO;

namespace Umbraco.Tests.IO
{
    
    
    /// &lt;summary&gt;
    ///This is a test class for IOHelperTest and is intended
    ///to contain all IOHelperTest Unit Tests
    ///&lt;/summary&gt;
    [TestFixture()]
    public class IOHelperTest
    {

        [TestCase(&quot;~/Scripts&quot;, &quot;/Scripts&quot;, null)]
        [TestCase(&quot;/Scripts&quot;, &quot;/Scripts&quot;, null)]
        [TestCase(&quot;../Scripts&quot;, &quot;/Scripts&quot;, typeof(ArgumentException))]
		public void IOHelper_ResolveUrl(string input, string expected, Type expectedExceptionType)
		{
            if (expectedExceptionType != null)
            {
                Assert.Throws(expectedExceptionType, () =&gt; IOHelper.ResolveUrl(input));
            }
            else
            {
                var result = IOHelper.ResolveUrl(input);
                Assert.AreEqual(expected, result);                
            }
		}

        /// &lt;summary&gt;
        ///A test for MapPath verifying that HttpContext method (which includes vdirs) matches non-HttpContext method
        ///&lt;/summary&gt;
        [Test]
        public void IOHelper_MapPathTestVDirTraversal()
        {
            //System.Diagnostics.Debugger.Break();

            Assert.AreEqual(IOHelper.MapPath(SystemDirectories.Bin, true), IOHelper.MapPath(SystemDirectories.Bin, false));
            Assert.AreEqual(IOHelper.MapPath(SystemDirectories.Config, true), IOHelper.MapPath(SystemDirectories.Config, false));
            Assert.AreEqual(IOHelper.MapPath(SystemDirectories.Css, true), IOHelper.MapPath(SystemDirectories.Css, false));
            Assert.AreEqual(IOHelper.MapPath(SystemDirectories.Data, true), IOHelper.MapPath(SystemDirectories.Data, false));
            Assert.AreEqual(IOHelper.MapPath(SystemDirectories.Install, true), IOHelper.MapPath(SystemDirectories.Install, false));
            Assert.AreEqual(IOHelper.MapPath(SystemDirectories.Masterpages, true), IOHelper.MapPath(SystemDirectories.Masterpages, false));
            Assert.AreEqual(IOHelper.MapPath(SystemDirectories.Media, true), IOHelper.MapPath(SystemDirectories.Media, false));
            Assert.AreEqual(IOHelper.MapPath(SystemDirectories.Packages, true), IOHelper.MapPath(SystemDirectories.Packages, false));
            Assert.AreEqual(IOHelper.MapPath(SystemDirectories.Preview, true), IOHelper.MapPath(SystemDirectories.Preview, false));
            Assert.AreEqual(IOHelper.MapPath(SystemDirectories.MacroScripts, true), IOHelper.MapPath(SystemDirectories.MacroScripts, false));
            Assert.AreEqual(IOHelper.MapPath(SystemDirectories.Root, true), IOHelper.MapPath(SystemDirectories.Root, false));
            Assert.AreEqual(IOHelper.MapPath(SystemDirectories.Scripts, true), IOHelper.MapPath(SystemDirectories.Scripts, false));
            Assert.AreEqual(IOHelper.MapPath(SystemDirectories.Umbraco, true), IOHelper.MapPath(SystemDirectories.Umbraco, false));
            Assert.AreEqual(IOHelper.MapPath(SystemDirectories.UmbracoClient, true), IOHelper.MapPath(SystemDirectories.UmbracoClient, false));
            Assert.AreEqual(IOHelper.MapPath(SystemDirectories.UserControls, true), IOHelper.MapPath(SystemDirectories.UserControls, false));
            Assert.AreEqual(IOHelper.MapPath(SystemDirectories.WebServices, true), IOHelper.MapPath(SystemDirectories.WebServices, false));
            Assert.AreEqual(IOHelper.MapPath(SystemDirectories.Xslt, true), IOHelper.MapPath(SystemDirectories.Xslt, false));
        }
    }
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[21,3,21,4,1],[22,13,22,47,1],[23,13,23,14,1],[24,17,24,60,1],[24,60,24,86,1],[24,86,24,88,1],[24,17,24,88,1],[25,13,25,14,1],[27,13,27,14,1],[28,17,28,57,1],[29,17,29,51,1],[30,13,30,14,1],[31,3,31,4,1],[38,9,38,10,1],[41,13,41,124,1],[42,13,42,130,1],[43,13,43,124,1],[44,13,44,126,1],[45,13,45,132,1],[46,13,46,140,1],[47,13,47,128,1],[48,13,48,134,1],[49,13,49,132,1],[50,13,50,142,1],[51,13,51,126,1],[52,13,52,132,1],[53,13,53,132,1],[54,13,54,144,1],[55,13,55,142,1],[56,13,56,140,1],[57,13,57,126,1],[58,9,58,10,1]]);
    </script>
  </body>
</html>