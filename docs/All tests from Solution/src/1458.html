<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\Umbraco.Core\Sync\ServerSyncWebServiceClient.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System.Collections.Generic;
using System.Web.Services;
using Umbraco.Core.IO;

namespace Umbraco.Core.Sync
{
    /// &lt;summary&gt;
    /// The client Soap service for making distrubuted cache calls between servers
    /// &lt;/summary&gt;
    [WebServiceBinding(Name = &quot;CacheRefresherSoap&quot;, Namespace = &quot;http://umbraco.org/webservices/&quot;)]
    internal class ServerSyncWebServiceClient : System.Web.Services.Protocols.SoapHttpClientProtocol
    {

        /// &lt;remarks/&gt;
        public ServerSyncWebServiceClient()
        {
            // only set the url if the httpcontext is present, else it&#39;s set by the cache dispatcher methods (when using distributed calls)
            if (System.Web.HttpContext.Current != null)
                this.Url = &quot;http://&quot; + System.Web.HttpContext.Current.Request.ServerVariables[&quot;SERVER_NAME&quot;] + IOHelper.ResolveUrl(SystemDirectories.WebServices) + &quot;/cacheRefresher.asmx&quot;;

        }

        /// &lt;remarks/&gt;
        [System.Web.Services.Protocols.SoapDocumentMethodAttribute(&quot;http://umbraco.org/webservices/BulkRefresh&quot;, RequestNamespace = &quot;http://umbraco.org/webservices/&quot;, ResponseNamespace = &quot;http://umbraco.org/webservices/&quot;, Use = System.Web.Services.Description.SoapBindingUse.Literal, ParameterStyle = System.Web.Services.Protocols.SoapParameterStyle.Wrapped)]
        public void BulkRefresh(RefreshInstruction[] instructions, string appId, string login, string password)
        {
            this.Invoke(&quot;BulkRefresh&quot;, new object[] {
													   instructions,
                                                       appId,
													   login,
													   password});
        }

        /// &lt;remarks/&gt;
        public System.IAsyncResult BeginBulkRefresh(RefreshInstruction[] instructions, string appId, string login, string password, System.AsyncCallback callback, object asyncState)
        {
            return this.BeginInvoke(&quot;BulkRefresh&quot;, new object[] {
																   instructions,
                                                                   appId,
																   login,
																   password}, callback, asyncState);
        }

        /// &lt;remarks/&gt;
        public void EndBulkRefresh(System.IAsyncResult asyncResult)
        {
            this.EndInvoke(asyncResult);
        }

        /// &lt;remarks/&gt;
        [System.Web.Services.Protocols.SoapDocumentMethodAttribute(&quot;http://umbraco.org/webservices/RefreshAll&quot;, RequestNamespace = &quot;http://umbraco.org/webservices/&quot;, ResponseNamespace = &quot;http://umbraco.org/webservices/&quot;, Use = System.Web.Services.Description.SoapBindingUse.Literal, ParameterStyle = System.Web.Services.Protocols.SoapParameterStyle.Wrapped)]
        public void RefreshAll(System.Guid uniqueIdentifier, string Login, string Password)
        {
            this.Invoke(&quot;RefreshAll&quot;, new object[] {
													   uniqueIdentifier,
													   Login,
													   Password});
        }

        /// &lt;remarks/&gt;
        public System.IAsyncResult BeginRefreshAll(System.Guid uniqueIdentifier, string Login, string Password, System.AsyncCallback callback, object asyncState)
        {
            return this.BeginInvoke(&quot;RefreshAll&quot;, new object[] {
																   uniqueIdentifier,
																   Login,
																   Password}, callback, asyncState);
        }

        /// &lt;remarks/&gt;
        public void EndRefreshAll(System.IAsyncResult asyncResult)
        {
            this.EndInvoke(asyncResult);
        }
        
        /// &lt;remarks/&gt;
        [System.Web.Services.Protocols.SoapDocumentMethodAttribute(&quot;http://umbraco.org/webservices/RefreshByJson&quot;, RequestNamespace = &quot;http://umbraco.org/webservices/&quot;, ResponseNamespace = &quot;http://umbraco.org/webservices/&quot;, Use = System.Web.Services.Description.SoapBindingUse.Literal, ParameterStyle = System.Web.Services.Protocols.SoapParameterStyle.Wrapped)]
        public void RefreshByJson(System.Guid uniqueIdentifier, string jsonPayload, string Login, string Password)
        {
            this.Invoke(&quot;RefreshByJson&quot;, new object[] {
														  uniqueIdentifier,
														  jsonPayload,
														  Login,
														  Password});
        }

        /// &lt;remarks/&gt;
        public System.IAsyncResult BeginRefreshByJson(System.Guid uniqueIdentifier, string jsonPayload, string Login, string Password, System.AsyncCallback callback, object asyncState)
        {
            return this.BeginInvoke(&quot;RefreshByJson&quot;, new object[] {
																	  uniqueIdentifier,
																	  jsonPayload,
																	  Login,
																	  Password}, callback, asyncState);
        }

        /// &lt;remarks/&gt;
        public void EndRefreshByJson(System.IAsyncResult asyncResult)
        {
            this.EndInvoke(asyncResult);
        }

        /// &lt;remarks/&gt;
        [System.Web.Services.Protocols.SoapDocumentMethodAttribute(&quot;http://umbraco.org/webservices/RefreshByGuid&quot;, RequestNamespace = &quot;http://umbraco.org/webservices/&quot;, ResponseNamespace = &quot;http://umbraco.org/webservices/&quot;, Use = System.Web.Services.Description.SoapBindingUse.Literal, ParameterStyle = System.Web.Services.Protocols.SoapParameterStyle.Wrapped)]
        public void RefreshByGuid(System.Guid uniqueIdentifier, System.Guid Id, string Login, string Password)
        {
            this.Invoke(&quot;RefreshByGuid&quot;, new object[] {
														  uniqueIdentifier,
														  Id,
														  Login,
														  Password});
        }

        /// &lt;remarks/&gt;
        public System.IAsyncResult BeginRefreshByGuid(System.Guid uniqueIdentifier, System.Guid Id, string Login, string Password, System.AsyncCallback callback, object asyncState)
        {
            return this.BeginInvoke(&quot;RefreshByGuid&quot;, new object[] {
																	  uniqueIdentifier,
																	  Id,
																	  Login,
																	  Password}, callback, asyncState);
        }

        /// &lt;remarks/&gt;
        public void EndRefreshByGuid(System.IAsyncResult asyncResult)
        {
            this.EndInvoke(asyncResult);
        }

        /// &lt;remarks/&gt;
        [System.Web.Services.Protocols.SoapDocumentMethodAttribute(&quot;http://umbraco.org/webservices/RefreshById&quot;, 
            RequestNamespace = &quot;http://umbraco.org/webservices/&quot;, 
            ResponseNamespace = &quot;http://umbraco.org/webservices/&quot;, 
            Use = System.Web.Services.Description.SoapBindingUse.Literal, 
            ParameterStyle = System.Web.Services.Protocols.SoapParameterStyle.Wrapped)]
        public void RefreshById(System.Guid uniqueIdentifier, int Id, string Login, string Password)
        {
            this.Invoke(&quot;RefreshById&quot;, new object[] {
														uniqueIdentifier,
														Id,
														Login,
														Password});
        }

        /// &lt;remarks/&gt;
        public System.IAsyncResult BeginRefreshById(System.Guid uniqueIdentifier, int Id, string Login, string Password, System.AsyncCallback callback, object asyncState)
        {
            return this.BeginInvoke(&quot;RefreshById&quot;, new object[] {
																	uniqueIdentifier,
																	Id,
																	Login,
																	Password}, callback, asyncState);
        }

        /// &lt;remarks/&gt;
        public void EndRefreshById(System.IAsyncResult asyncResult)
        {
            this.EndInvoke(asyncResult);
        }


        /// &lt;remarks/&gt;
        [System.Web.Services.Protocols.SoapDocumentMethodAttribute(&quot;http://umbraco.org/webservices/RefreshByIds&quot;, 
            RequestNamespace = &quot;http://umbraco.org/webservices/&quot;, 
            ResponseNamespace = &quot;http://umbraco.org/webservices/&quot;, 
            Use = System.Web.Services.Description.SoapBindingUse.Literal, 
            ParameterStyle = System.Web.Services.Protocols.SoapParameterStyle.Wrapped)]
        public void RefreshByIds(System.Guid uniqueIdentifier, string jsonIds, string Login, string Password)
        {
            this.Invoke(&quot;RefreshByIds&quot;, new object[] {
														uniqueIdentifier,
														jsonIds,
														Login,
														Password});
        }

        /// &lt;remarks/&gt;
        public System.IAsyncResult BeginRefreshByIds(System.Guid uniqueIdentifier, string jsonIds, string Login, string Password, System.AsyncCallback callback, object asyncState)
        {
            return this.BeginInvoke(&quot;RefreshByIds&quot;, new object[] {
																	uniqueIdentifier,
																	jsonIds,
																	Login,
																	Password}, callback, asyncState);
        }

        /// &lt;remarks/&gt;
        public void EndRefreshByIds(System.IAsyncResult asyncResult)
        {
            this.EndInvoke(asyncResult);
        }



        /// &lt;remarks/&gt;
        [System.Web.Services.Protocols.SoapDocumentMethodAttribute(&quot;http://umbraco.org/webservices/RemoveById&quot;, RequestNamespace = &quot;http://umbraco.org/webservices/&quot;, ResponseNamespace = &quot;http://umbraco.org/webservices/&quot;, Use = System.Web.Services.Description.SoapBindingUse.Literal, ParameterStyle = System.Web.Services.Protocols.SoapParameterStyle.Wrapped)]
        public void RemoveById(System.Guid uniqueIdentifier, int Id, string Login, string Password)
        {
            this.Invoke(&quot;RemoveById&quot;, new object[] {
														uniqueIdentifier,
														Id,
														Login,
														Password});
        }

        /// &lt;remarks/&gt;
        public System.IAsyncResult BeginRemoveById(System.Guid uniqueIdentifier, int Id, string Login, string Password, System.AsyncCallback callback, object asyncState)
        {
            return this.BeginInvoke(&quot;RemoveById&quot;, new object[] {
																	uniqueIdentifier,
																	Id,
																	Login,
																	Password}, callback, asyncState);
        }

        /// &lt;remarks/&gt;
        public void EndRemoveById(System.IAsyncResult asyncResult)
        {
            this.EndInvoke(asyncResult);
        }

        /// &lt;remarks/&gt;
        [System.Web.Services.Protocols.SoapDocumentMethodAttribute(&quot;http://umbraco.org/webservices/GetRefreshers&quot;, RequestNamespace = &quot;http://umbraco.org/webservices/&quot;, ResponseNamespace = &quot;http://umbraco.org/webservices/&quot;, Use = System.Web.Services.Description.SoapBindingUse.Literal, ParameterStyle = System.Web.Services.Protocols.SoapParameterStyle.Wrapped)]
        public System.Xml.XmlNode GetRefreshers(string Login, string Password)
        {
            object[] results = this.Invoke(&quot;GetRefreshers&quot;, new object[] {
																			 Login,
																			 Password});
            return ((System.Xml.XmlNode)(results[0]));
        }

        /// &lt;remarks/&gt;
        public System.IAsyncResult BeginGetRefreshers(string Login, string Password, System.AsyncCallback callback, object asyncState)
        {
            return this.BeginInvoke(&quot;GetRefreshers&quot;, new object[] {
																	  Login,
																	  Password}, callback, asyncState);
        }

        /// &lt;remarks/&gt;
        public System.Xml.XmlNode EndGetRefreshers(System.IAsyncResult asyncResult)
        {
            object[] results = this.EndInvoke(asyncResult);
            return ((System.Xml.XmlNode)(results[0]));
        }
    }
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[15,9,15,44,0],[16,9,16,10,0],[18,13,18,56,0],[19,17,19,188,0],[21,9,21,10,0],[26,9,26,10,0],[27,13,31,28,0],[32,9,32,10,0],[36,9,36,10,0],[37,13,41,53,0],[42,9,42,10,0],[46,9,46,10,0],[47,13,47,41,0],[48,9,48,10,0],[53,9,53,10,0],[54,13,57,28,0],[58,9,58,10,0],[62,9,62,10,0],[63,13,66,53,0],[67,9,67,10,0],[71,9,71,10,0],[72,13,72,41,0],[73,9,73,10,0],[78,9,78,10,0],[79,13,83,28,0],[84,9,84,10,0],[88,9,88,10,0],[89,13,93,53,0],[94,9,94,10,0],[98,9,98,10,0],[99,13,99,41,0],[100,9,100,10,0],[105,9,105,10,0],[106,13,110,28,0],[111,9,111,10,0],[115,9,115,10,0],[116,13,120,53,0],[121,9,121,10,0],[125,9,125,10,0],[126,13,126,41,0],[127,9,127,10,0],[136,9,136,10,0],[137,13,141,26,0],[142,9,142,10,0],[146,9,146,10,0],[147,13,151,51,0],[152,9,152,10,0],[156,9,156,10,0],[157,13,157,41,0],[158,9,158,10,0],[168,9,168,10,0],[169,13,173,26,0],[174,9,174,10,0],[178,9,178,10,0],[179,13,183,51,0],[184,9,184,10,0],[188,9,188,10,0],[189,13,189,41,0],[190,9,190,10,0],[197,9,197,10,0],[198,13,202,26,0],[203,9,203,10,0],[207,9,207,10,0],[208,13,212,51,0],[213,9,213,10,0],[217,9,217,10,0],[218,13,218,41,0],[219,9,219,10,0],[224,9,224,10,0],[225,13,227,32,0],[228,13,228,55,0],[229,9,229,10,0],[233,9,233,10,0],[234,13,236,53,0],[237,9,237,10,0],[241,9,241,10,0],[242,13,242,60,0],[243,13,243,55,0],[244,9,244,10,0]]);
    </script>
  </body>
</html>