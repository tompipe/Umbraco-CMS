<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\umbraco.cms\businesslogic\ContentItem\ContentItem.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using Umbraco.Core;

namespace umbraco.cms.businesslogic.contentitem
{
	/// &lt;summary&gt;
	/// Summary description for ContentItem.
	/// &lt;/summary&gt;
	public class ContentItem : Content
	{
		private static Guid _objectType = new Guid(Constants.ObjectTypes.ContentItem);

		public ContentItem(int id) : base(id)
		{
			//
			// TODO: Add constructor logic here
			//
		}
		public ContentItem(Guid id) : base(id)
		{
			//
			// TODO: Add constructor logic here
			//
		}


        /// &lt;summary&gt;
        /// Used to persist object changes to the database. In Version3.0 it&#39;s just a stub for future compatibility
        /// &lt;/summary&gt;

        public override void Save()
        {
            base.Save();
        }



		public static void DeleteFromType(ContentItemType cit) 
		{
            var objs = Content.getContentOfContentType(cit);
			foreach (Content c in objs) 
			{
				// due to recursive structure document might already been deleted..
				if (CMSNode.IsNode(c.UniqueId)) 
				{
					ContentItem tmp = new ContentItem(c.UniqueId);
					tmp.delete();
				}
			}
		}

		public static ContentItem MakeNew(string Name, ContentItemType cit, BusinessLogic.User u, int ParentId) 
		{			
			Guid newId = Guid.NewGuid();
			// Updated to match level from base node
			CMSNode n = new CMSNode(ParentId);
			int newLevel = n.Level;
			newLevel++;
			CMSNode.MakeNew(ParentId,_objectType, u.Id, newLevel,  Name, newId);
			ContentItem tmp = new ContentItem(newId);
			tmp.CreateContent(cit);
			return tmp;
		}

		
		new public void delete() 
		{
			foreach (ContentItem d in this.Children) 
			{
				d.delete();
			}
			base.delete();
		}
		
		new public ContentItem[] Children 
		{
			get
			{
				BusinessLogic.console.IconI[] tmp = base.Children;
				ContentItem[] retval = new ContentItem[tmp.Length];
				for (int i = 0; i &lt; tmp.Length; i++) retval[i] = new ContentItem(tmp[i].UniqueId);
				return retval;
			}
		}
	}
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[11,3,11,81,0],[13,32,13,40,0],[14,3,14,4,0],[18,3,18,4,0],[19,33,19,41,0],[20,3,20,4,0],[24,3,24,4,0],[32,9,32,10,0],[33,13,33,25,0],[34,9,34,10,0],[39,3,39,4,0],[40,13,40,61,0],[41,4,41,11,0],[41,13,41,22,0],[41,23,41,25,0],[41,26,41,30,0],[42,4,42,5,0],[44,5,44,36,0],[45,5,45,6,0],[46,6,46,52,0],[47,6,47,19,0],[48,5,48,6,0],[49,4,49,5,0],[50,3,50,4,0],[53,3,53,4,0],[54,4,54,32,0],[56,4,56,38,0],[57,4,57,27,0],[58,4,58,15,0],[59,4,59,72,0],[60,4,60,45,0],[61,4,61,27,0],[62,4,62,15,0],[63,3,63,4,0],[67,3,67,4,0],[68,4,68,11,0],[68,13,68,26,0],[68,27,68,29,0],[68,30,68,43,0],[69,4,69,5,0],[70,5,70,16,0],[71,4,71,5,0],[72,4,72,18,0],[73,3,73,4,0],[78,4,78,5,0],[79,5,79,55,0],[80,5,80,56,0],[81,10,81,19,0],[81,21,81,35,0],[81,37,81,40,0],[81,42,81,87,0],[82,5,82,19,0],[83,4,83,5,0]]);
    </script>
  </body>
</html>