<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\Umbraco.Web\umbraco.presentation\umbraco\dialogs\treePicker.aspx.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.Collections;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Web;
using System.Web.SessionState;
using System.Web.UI;
using System.Web.UI.WebControls;
using System.Web.UI.HtmlControls;
using umbraco.cms.presentation.Trees;

namespace umbraco.dialogs
{
	[Obsolete(&quot;Use the TreeControl instead. This does however get used by the TreeService when requesting the tree init url.&quot;)]
	public partial class treePicker : BasePages.UmbracoEnsuredPage
	{
		protected override void OnLoad(EventArgs e)
		{
			base.OnLoad(e);
			TreeParams = TreeRequestParams.FromQueryStrings().CreateTreeService();
			DataBind();

            if(Request.QueryString[&quot;selected&quot;] != null &amp;&amp; TreeParams.TreeType == &quot;content&quot;) 
            {
                var currContent = Services.ContentService.GetById(int.Parse(Request.QueryString[&quot;selected&quot;]));
                if (currContent != null)
                {
                    if (currContent.ParentId &gt; 0)
                        DialogTree.SelectedNodePath = currContent.Path;    
                }
            }
		}

		protected TreeService TreeParams { get; private set; }

		/// &lt;summary&gt;
		/// DialogTree control.
		/// &lt;/summary&gt;
		/// &lt;remarks&gt;
		/// Auto-generated field.
		/// To modify move field declaration from designer file to code-behind file.
		/// &lt;/remarks&gt;
		protected global::umbraco.controls.Tree.TreeControl DialogTree;

	}
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[19,3,19,4,0],[20,4,20,19,0],[21,4,21,74,0],[22,4,22,15,0],[24,13,24,92,0],[25,13,25,14,0],[26,17,26,111,0],[27,17,27,41,0],[28,17,28,18,0],[29,21,29,50,0],[30,25,30,72,0],[31,17,31,18,0],[32,13,32,14,0],[33,3,33,4,0],[35,38,35,42,0],[35,43,35,55,0]]);
    </script>
  </body>
</html>