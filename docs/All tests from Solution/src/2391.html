<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\umbraco.cms\businesslogic\relation\RelationType.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.Data;
using System.Linq;
using System.Web;
using Umbraco.Core;
using Umbraco.Core.Cache;
using umbraco.BusinessLogic;
using Umbraco.Core.Models;
using umbraco.DataLayer;
using System.Collections.Generic;
using umbraco.cms.businesslogic.web;

namespace umbraco.cms.businesslogic.relation
{
	/// &lt;summary&gt;
	/// Summary description for RelationType.
	/// &lt;/summary&gt;
    [Obsolete(&quot;Use the IRelationService instead&quot;)]
	public class RelationType
	{
		#region Declarations

	    internal IRelationType RelationTypeEntity;

		#endregion
        
		#region Constructors

	    /// &lt;summary&gt;
	    /// Internal constructor to create a new relation type
	    /// &lt;/summary&gt;
	    internal RelationType(IRelationType rt)
	    {
	        RelationTypeEntity = rt;
	    }

		public RelationType(int id)
		{
		    RelationTypeEntity = ApplicationContext.Current.Services.RelationService.GetRelationTypeById(id);
		    if (RelationTypeEntity == null) throw new NullReferenceException(&quot;No relation type found with id &quot; + id);
		}

		#endregion

		#region Properties

		public int Id
		{
            get { return RelationTypeEntity.Id; }
		}

		public string Name
		{
            get { return RelationTypeEntity.Name; }
			set { RelationTypeEntity.Name = value; }
		}

		public string Alias
		{
            get { return RelationTypeEntity.Alias; }
			set { RelationTypeEntity.Alias = value; }
		}

		public bool Dual
		{
            get { return RelationTypeEntity.IsBidirectional; }
			set { RelationTypeEntity.IsBidirectional = value; }
		}

		#endregion

		#region Methods

		/// &lt;summary&gt;
		/// Used to persist object changes to the databasey
		/// &lt;/summary&gt;
		public virtual void Save()
		{
		    ApplicationContext.Current.Services.RelationService.Save(RelationTypeEntity);
		}

        /// &lt;summary&gt;
        /// Return all relation types
        /// &lt;/summary&gt;
        /// &lt;returns&gt;&lt;/returns&gt;
        public static IEnumerable&lt;RelationType&gt; GetAll()
        {
            return ApplicationContext.Current.Services.RelationService.GetAllRelationTypes()
                .Select(x =&gt; new RelationType(x));
        }

		public static RelationType GetById(int id)
		{
		    var found = ApplicationContext.Current.Services.RelationService.GetRelationTypeById(id);
		    return found == null ? null : new RelationType(found);
		}

		public static RelationType GetByAlias(string Alias)
		{
            var found = ApplicationContext.Current.Services.RelationService.GetRelationTypeByAlias(Alias);
            return found == null ? null : new RelationType(found);
		}
        
		#endregion

	}
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[32,6,32,45,0],[33,6,33,7,0],[34,10,34,34,0],[35,6,35,7,0],[37,3,37,30,0],[38,3,38,4,0],[39,7,39,104,0],[40,7,40,38,0],[40,39,40,112,0],[41,3,41,4,0],[49,17,49,18,0],[49,19,49,48,0],[49,49,49,50,0],[54,17,54,18,0],[54,19,54,50,0],[54,51,54,52,0],[55,8,55,9,0],[55,10,55,42,0],[55,43,55,44,0],[60,17,60,18,0],[60,19,60,51,0],[60,52,60,53,0],[61,8,61,9,0],[61,10,61,43,0],[61,44,61,45,0],[66,17,66,18,0],[66,19,66,61,0],[66,62,66,63,0],[67,8,67,9,0],[67,10,67,53,0],[67,54,67,55,0],[78,3,78,4,0],[79,7,79,84,0],[80,3,80,4,0],[87,9,87,10,0],[88,13,89,30,0],[89,30,89,49,0],[89,49,89,51,0],[88,13,89,51,0],[90,9,90,10,0],[93,3,93,4,0],[94,7,94,95,0],[95,7,95,61,0],[96,3,96,4,0],[99,3,99,4,0],[100,13,100,107,0],[101,13,101,67,0],[102,3,102,4,0]]);
    </script>
  </body>
</html>