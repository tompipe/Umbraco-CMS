<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\umbraco.cms\businesslogic\Packager\Settings.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.Data;
using System.Configuration;
using System.Web;
using System.Web.Security;
using System.Web.UI;
using System.Web.UI.WebControls;
using System.Web.UI.WebControls.WebParts;
using System.Web.UI.HtmlControls;
using System.IO;
using Umbraco.Core.IO;

namespace umbraco.cms.businesslogic.packager
{
	public class Settings
	{

		public static string PackagerRoot
		{
            get { return SystemDirectories.Packages; }
		}

		public static string PackagesStorage
		{
            get { return SystemDirectories.Packages + IOHelper.DirSepChar + &quot;created&quot;; }
		}

		public static string InstalledPackagesStorage
		{
            get { return SystemDirectories.Packages + IOHelper.DirSepChar + &quot;installed&quot;; }
		}

		public static string InstalledPackagesSettings
		{
            get { return SystemDirectories.Packages + IOHelper.DirSepChar + &quot;installed&quot; + IOHelper.DirSepChar + &quot;installedPackages.config&quot;; }
		}

		public static string CreatedPackagesSettings
		{
            get { return SystemDirectories.Packages + IOHelper.DirSepChar + &quot;created&quot; + IOHelper.DirSepChar + &quot;createdPackages.config&quot;; }
		}

		public static string PackageFileExtension
		{
			get { return &quot;zip&quot;; }
		}

		public static bool HasFileAccess(ref Exception exp)
		{
			bool hasAccess = false;
			StreamWriter sw1 = null;
			StreamWriter sw2 = null;
			try
			{
				sw1 = System.IO.File.AppendText(IOHelper.MapPath(InstalledPackagesSettings));
				sw1.Close();

                sw2 = System.IO.File.AppendText(IOHelper.MapPath(CreatedPackagesSettings));
				sw1.Close();

                System.IO.Directory.CreateDirectory(IOHelper.MapPath(PackagesStorage) + IOHelper.DirSepChar + &quot;__testFolder__&quot;);
                System.IO.Directory.CreateDirectory(IOHelper.MapPath(InstalledPackagesStorage) + IOHelper.DirSepChar + &quot;__testFolder__&quot;);

                System.IO.Directory.Delete(IOHelper.MapPath(PackagesStorage) + IOHelper.DirSepChar + &quot;__testFolder__&quot;, true);
                System.IO.Directory.Delete(IOHelper.MapPath(InstalledPackagesStorage) + IOHelper.DirSepChar + &quot;__testFolder__&quot;, true);

				hasAccess = true;
			}
			finally
			{
				if (sw1 != null)
					sw1.Close();
				if (sw2 != null)
					sw2.Close();
			}

			return hasAccess;
		}


	}

}

    </pre>
    <script type="text/javascript">
      highlightRanges([[20,17,20,18,0],[20,19,20,53,0],[20,54,20,55,0],[25,17,25,18,0],[25,19,25,87,0],[25,88,25,89,0],[30,17,30,18,0],[30,19,30,89,0],[30,90,30,91,0],[35,17,35,18,0],[35,19,35,140,0],[35,141,35,142,0],[40,17,40,18,0],[40,19,40,136,0],[40,137,40,138,0],[45,8,45,9,0],[45,10,45,23,0],[45,24,45,25,0],[49,3,49,4,0],[50,4,50,27,0],[51,4,51,28,0],[52,4,52,28,0],[54,4,54,5,0],[55,5,55,82,0],[56,5,56,17,0],[58,17,58,92,0],[59,5,59,17,0],[61,17,61,129,0],[62,17,62,138,0],[64,17,64,126,0],[65,17,65,135,0],[67,5,67,22,0],[68,4,68,5,0],[70,4,70,5,0],[71,5,71,21,0],[72,6,72,18,0],[73,5,73,21,0],[74,6,74,18,0],[75,4,75,5,0],[77,4,77,21,0],[78,3,78,4,0]]);
    </script>
  </body>
</html>