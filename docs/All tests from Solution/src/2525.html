<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\umbraco.businesslogic\Log.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.Diagnostics;
using System.Globalization;
using System.Linq;
using System.Threading;
using Umbraco.Core;
using Umbraco.Core.Configuration;
using Umbraco.Core.IO;
using Umbraco.Core.Logging;
using Umbraco.Core.Persistence;
using umbraco.DataLayer;
using System.Collections.Generic;
using System.Reflection;
using umbraco.BusinessLogic.Utils;

namespace umbraco.BusinessLogic
{
    /// &lt;summary&gt;
    /// Summary description for Log.
    /// &lt;/summary&gt;
    public class Log
    {
        #region Statics
        private Interfaces.ILog _externalLogger;
        private bool _externalLoggerInitiated;

        internal Interfaces.ILog ExternalLogger
        {
            get
            {
                if (_externalLoggerInitiated == false)
                {
                    _externalLoggerInitiated = true;
                    if (string.IsNullOrEmpty(UmbracoConfig.For.UmbracoSettings().Logging.ExternalLoggerAssembly) == false
                        &amp;&amp; string.IsNullOrEmpty(UmbracoConfig.For.UmbracoSettings().Logging.ExternalLoggerType) == false)
                    {
                        try
                        {
                            var assemblyPath = IOHelper.MapPath(UmbracoConfig.For.UmbracoSettings().Logging.ExternalLoggerAssembly);
                            _externalLogger = Assembly.LoadFrom(assemblyPath).CreateInstance(UmbracoConfig.For.UmbracoSettings().Logging.ExternalLoggerType) as Interfaces.ILog;
                        }
                        catch (Exception ee)
                        {
							LogHelper.Error&lt;Log&gt;(&quot;Error loading external logger&quot;, ee);
                        }
                    }
                }

                return _externalLogger;
            }
        }


        #region Singleton

        public static Log Instance
        {
            get { return Singleton&lt;Log&gt;.Instance; }
        }

        #endregion
        
        /// &lt;summary&gt;
        /// Adds the specified log item to the log.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;type&quot;&gt;The log type.&lt;/param&gt;
        /// &lt;param name=&quot;user&quot;&gt;The user adding the item.&lt;/param&gt;
        /// &lt;param name=&quot;nodeId&quot;&gt;The affected node id.&lt;/param&gt;
        /// &lt;param name=&quot;comment&quot;&gt;Comment.&lt;/param&gt;
        public static void Add(LogTypes type, User user, int nodeId, string comment)
        {
            if (Instance.ExternalLogger != null)
            {
                Instance.ExternalLogger.Add(type, user, nodeId, comment);

                if (UmbracoConfig.For.UmbracoSettings().Logging.ExternalLoggerEnableAuditTrail == false)
                {
                    AddLocally(type, user, nodeId, comment);
                }
            }
            else
            {
                if (UmbracoConfig.For.UmbracoSettings().Logging.EnableLogging == false) return;

                if (UmbracoConfig.For.UmbracoSettings().Logging.DisabledLogTypes.Any(x =&gt; x.LogTypeAlias.InvariantEquals(type.ToString())) == false)
                {
                    if (comment != null &amp;&amp; comment.Length &gt; 3999)
                        comment = comment.Substring(0, 3955) + &quot;...&quot;;

                    if (UmbracoConfig.For.UmbracoSettings().Logging.EnableAsyncLogging)
                    {
                        ThreadPool.QueueUserWorkItem(
                            delegate { AddSynced(type, user == null ? 0 : user.Id, nodeId, comment); });
                        return;
                    }

                    AddSynced(type, user == null ? 0 : user.Id, nodeId, comment);
                }

            }
        }

		[Obsolete(&quot;Use LogHelper to log exceptions/errors&quot;)]
        public void AddException(Exception ee)
        {
            if (ExternalLogger != null)
            {
                ExternalLogger.Add(ee);
            }
            else
            {
                var ex2 = ee;
                while (ex2 != null)
                {
                    ex2 = ex2.InnerException;
                }
				LogHelper.Error&lt;Log&gt;(&quot;An error occurred&quot;, ee);
            }
        }

        /// &lt;summary&gt;
        /// Adds the specified log item to the Umbraco log no matter if an external logger has been defined.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;type&quot;&gt;The log type.&lt;/param&gt;
        /// &lt;param name=&quot;user&quot;&gt;The user adding the item.&lt;/param&gt;
        /// &lt;param name=&quot;nodeId&quot;&gt;The affected node id.&lt;/param&gt;
        /// &lt;param name=&quot;comment&quot;&gt;Comment.&lt;/param&gt;
        public static void AddLocally(LogTypes type, User user, int nodeId, string comment)
        {
            if (comment.Length &gt; 3999)
                comment = comment.Substring(0, 3955) + &quot;...&quot;;

            if (UmbracoConfig.For.UmbracoSettings().Logging.EnableAsyncLogging)
            {
                ThreadPool.QueueUserWorkItem(
                    delegate { AddSynced(type, user == null ? 0 : user.Id, nodeId, comment); });
                return;
            }

            AddSynced(type, user == null ? 0 : user.Id, nodeId, comment);
        }

        /// &lt;summary&gt;
        /// Adds the specified log item to the log without any user information attached.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;type&quot;&gt;The log type.&lt;/param&gt;
        /// &lt;param name=&quot;nodeId&quot;&gt;The affected node id.&lt;/param&gt;
        /// &lt;param name=&quot;comment&quot;&gt;Comment.&lt;/param&gt;
        public static void Add(LogTypes type, int nodeId, string comment)
        {
            Add(type, null, nodeId, comment);
        }

        /// &lt;summary&gt;
        /// Adds a log item to the log immidiately instead of Queuing it as a work item.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;type&quot;&gt;The type.&lt;/param&gt;
        /// &lt;param name=&quot;userId&quot;&gt;The user id.&lt;/param&gt;
        /// &lt;param name=&quot;nodeId&quot;&gt;The node id.&lt;/param&gt;
        /// &lt;param name=&quot;comment&quot;&gt;The comment.&lt;/param&gt;
        public static void AddSynced(LogTypes type, int userId, int nodeId, string comment)
        {
            var logTypeIsAuditType = type.GetType().GetField(type.ToString()).GetCustomAttributes(typeof(AuditTrailLogItem), true).Length != 0;

            if (logTypeIsAuditType)
            {
                try
                {
                    using (var sqlHelper = Application.SqlHelper)
                        sqlHelper.ExecuteNonQuery(
                        &quot;insert into umbracoLog (userId, nodeId, logHeader, logComment) values (@userId, @nodeId, @logHeader, @comment)&quot;,
                        sqlHelper.CreateParameter(&quot;@userId&quot;, userId),
                        sqlHelper.CreateParameter(&quot;@nodeId&quot;, nodeId),
                        sqlHelper.CreateParameter(&quot;@logHeader&quot;, type.ToString()),
                        sqlHelper.CreateParameter(&quot;@comment&quot;, comment));
                }
                catch (Exception e)
                {
					LogHelper.Error&lt;Log&gt;(&quot;An error occurred adding an audit trail log to the umbracoLog table&quot;, e);
                }

				//Because &#39;Custom&#39; log types are also Audit trail (for some wacky reason) but we also want these logged normally so we have to check for this:
				if (type != LogTypes.Custom)
				{
					return;
				}

            }

			//if we&#39;ve made it this far it means that the log type is not an audit trail log or is a custom log.
			LogHelper.Info&lt;Log&gt;(
				&quot;Redirected log call (please use Umbraco.Core.Logging.LogHelper instead of umbraco.BusinessLogic.Log) | Type: {0} | User: {1} | NodeId: {2} | Comment: {3}&quot;,
				() =&gt; type.ToString(), () =&gt; userId, () =&gt; nodeId.ToString(CultureInfo.InvariantCulture), () =&gt; comment);            
        }

        public List&lt;LogItem&gt; GetAuditLogItems(int NodeId)
        {
            if (UmbracoConfig.For.UmbracoSettings().Logging.ExternalLoggerEnableAuditTrail &amp;&amp; ExternalLogger != null)
                return ExternalLogger.GetAuditLogReader(NodeId);

            using (var sqlHelper = Application.SqlHelper)
                return LogItem.ConvertIRecordsReader(sqlHelper.ExecuteReader(
                    &quot;select userId, nodeId, logHeader, DateStamp, logComment from umbracoLog where nodeId = @id and logHeader not in (&#39;open&#39;,&#39;system&#39;) order by DateStamp desc&quot;,
                    sqlHelper.CreateParameter(&quot;@id&quot;, NodeId)));
        }

        public List&lt;LogItem&gt; GetLogItems(LogTypes type, DateTime sinceDate)
        {
            if (ExternalLogger != null)
                return ExternalLogger.GetLogItems(type, sinceDate);

            using (var sqlHelper = Application.SqlHelper)
                return LogItem.ConvertIRecordsReader(sqlHelper.ExecuteReader(
                    &quot;select userId, NodeId, DateStamp, logHeader, logComment from umbracoLog where logHeader = @logHeader and DateStamp &gt;= @dateStamp order by dateStamp desc&quot;,
                    sqlHelper.CreateParameter(&quot;@logHeader&quot;, type.ToString()),
                    sqlHelper.CreateParameter(&quot;@dateStamp&quot;, sinceDate)));
        }

        public List&lt;LogItem&gt; GetLogItems(int nodeId)
        {
            if (ExternalLogger != null)
                return ExternalLogger.GetLogItems(nodeId);

            using (var sqlHelper = Application.SqlHelper)
                return LogItem.ConvertIRecordsReader(sqlHelper.ExecuteReader(
                    &quot;select userId, NodeId, DateStamp, logHeader, logComment from umbracoLog where id = @id order by dateStamp desc&quot;,
                    sqlHelper.CreateParameter(&quot;@id&quot;, nodeId)));
        }

        public List&lt;LogItem&gt; GetLogItems(User user, DateTime sinceDate)
        {
            if (ExternalLogger != null)
                return ExternalLogger.GetLogItems(user, sinceDate);

            using (var sqlHelper = Application.SqlHelper)
                return LogItem.ConvertIRecordsReader(sqlHelper.ExecuteReader(
                    &quot;select userId, NodeId, DateStamp, logHeader, logComment from umbracoLog where UserId = @user and DateStamp &gt;= @dateStamp order by dateStamp desc&quot;,
                    sqlHelper.CreateParameter(&quot;@user&quot;, user.Id),
                    sqlHelper.CreateParameter(&quot;@dateStamp&quot;, sinceDate)));
        }

        public List&lt;LogItem&gt; GetLogItems(User user, LogTypes type, DateTime sinceDate)
        {
            if (ExternalLogger != null)
                return ExternalLogger.GetLogItems(user, type, sinceDate);

            using (var sqlHelper = Application.SqlHelper)
                return LogItem.ConvertIRecordsReader(sqlHelper.ExecuteReader(
                    &quot;select userId, NodeId, DateStamp, logHeader, logComment from umbracoLog where UserId = @user and logHeader = @logHeader and DateStamp &gt;= @dateStamp order by dateStamp desc&quot;,
                    sqlHelper.CreateParameter(&quot;@logHeader&quot;, type.ToString()),
                    sqlHelper.CreateParameter(&quot;@user&quot;, user.Id),
                    sqlHelper.CreateParameter(&quot;@dateStamp&quot;, sinceDate)));
        }

        public static void CleanLogs(int maximumAgeOfLogsInMinutes)
        {
            if (Instance.ExternalLogger != null)
                Instance.ExternalLogger.CleanLogs(maximumAgeOfLogsInMinutes);
            else
            {
                try
                {
                    DateTime oldestPermittedLogEntry = DateTime.Now.Subtract(new TimeSpan(0, maximumAgeOfLogsInMinutes, 0));
                    var formattedDate = oldestPermittedLogEntry.ToString(&quot;yyyy-MM-dd HH:mm:ss&quot;);

                    using (var sqlHelper = Application.SqlHelper)
                        sqlHelper.ExecuteNonQuery(&quot;delete from umbracoLog where datestamp &lt; @oldestPermittedLogEntry and logHeader in (&#39;open&#39;,&#39;system&#39;)&quot;,
                        sqlHelper.CreateParameter(&quot;@oldestPermittedLogEntry&quot;, oldestPermittedLogEntry));

                    LogHelper.Info&lt;Log&gt;(string.Format(&quot;Log scrubbed.  Removed all items older than {0}&quot;, formattedDate));
                }
                catch (Exception e)
                {
                    Debug.WriteLine(e.ToString(), &quot;Error&quot;);
                    Trace.WriteLine(e.ToString());
                }
            }
        }


        #region New GetLog methods - DataLayer layer compatible
        /// &lt;summary&gt;
        /// Gets a reader for the audit log.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;NodeId&quot;&gt;The node id.&lt;/param&gt;
        /// &lt;returns&gt;A reader for the audit log.&lt;/returns&gt;
        [Obsolete(&quot;Use the Instance.GetAuditLogItems method which return a list of LogItems instead&quot;)]
        public static IRecordsReader GetAuditLogReader(int NodeId)
        {
            using (var sqlHelper = Application.SqlHelper)
                return sqlHelper.ExecuteReader(
                    &quot;select u.userName as [User], logHeader as Action, DateStamp as Date, logComment as Comment from umbracoLog inner join umbracoUser u on u.id = userId where nodeId = @id and logHeader not in (&#39;open&#39;,&#39;system&#39;) order by DateStamp desc&quot;,
                    sqlHelper.CreateParameter(&quot;@id&quot;, NodeId));
        }

        /// &lt;summary&gt;
        /// Gets a reader for the log for the specified types.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;Type&quot;&gt;The type of log message.&lt;/param&gt;
        /// &lt;param name=&quot;SinceDate&quot;&gt;The start date.&lt;/param&gt;
        /// &lt;returns&gt;A reader for the log.&lt;/returns&gt;
        [Obsolete(&quot;Use the Instance.GetLogItems method which return a list of LogItems instead&quot;)]
        public static IRecordsReader GetLogReader(LogTypes Type, DateTime SinceDate)
        {
            using (var sqlHelper = Application.SqlHelper)
                return sqlHelper.ExecuteReader(
                    &quot;select userId, NodeId, DateStamp, logHeader, logComment from umbracoLog where logHeader = @logHeader and DateStamp &gt;= @dateStamp order by dateStamp desc&quot;,
                    sqlHelper.CreateParameter(&quot;@logHeader&quot;, Type.ToString()),
                    sqlHelper.CreateParameter(&quot;@dateStamp&quot;, SinceDate));
        }

        /// &lt;summary&gt;
        /// Gets a reader for the log of the specified node.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;NodeId&quot;&gt;The node id.&lt;/param&gt;
        /// &lt;returns&gt;A reader for the log.&lt;/returns&gt;
        [Obsolete(&quot;Use the Instance.GetLogItems method which return a list of LogItems instead&quot;)]
        public static IRecordsReader GetLogReader(int NodeId)
        {
            using (var sqlHelper = Application.SqlHelper)
                return sqlHelper.ExecuteReader(
                    &quot;select u.userName, DateStamp, logHeader, logComment from umbracoLog inner join umbracoUser u on u.id = userId where nodeId = @id&quot;,
                    sqlHelper.CreateParameter(&quot;@id&quot;, NodeId));
        }

        /// &lt;summary&gt;
        /// Gets a reader for the log for the specified user.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;user&quot;&gt;The user.&lt;/param&gt;
        /// &lt;param name=&quot;SinceDate&quot;&gt;The start date.&lt;/param&gt;
        /// &lt;returns&gt;A reader for the log.&lt;/returns&gt;
        [Obsolete(&quot;Use the Instance.GetLogItems method which return a list of LogItems instead&quot;)]
        public static IRecordsReader GetLogReader(User user, DateTime SinceDate)
        {
            using (var sqlHelper = Application.SqlHelper)
                return sqlHelper.ExecuteReader(
                    &quot;select userId, NodeId, DateStamp, logHeader, logComment from umbracoLog where UserId = @user and DateStamp &gt;= @dateStamp order by dateStamp desc&quot;,
                    sqlHelper.CreateParameter(&quot;@user&quot;, user.Id),
                    sqlHelper.CreateParameter(&quot;@dateStamp&quot;, SinceDate));
        }

        /// &lt;summary&gt;
        /// Gets a reader of specific for the log for specific types and a specified user.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;user&quot;&gt;The user.&lt;/param&gt;
        /// &lt;param name=&quot;Type&quot;&gt;The type of log message.&lt;/param&gt;
        /// &lt;param name=&quot;SinceDate&quot;&gt;The since date.&lt;/param&gt;
        /// &lt;returns&gt;A reader for the log.&lt;/returns&gt;
        [Obsolete(&quot;Use the Instance.GetLogItems method which return a list of LogItems instead&quot;)]
        public static IRecordsReader GetLogReader(User user, LogTypes Type, DateTime SinceDate)
        {
            using (var sqlHelper = Application.SqlHelper)
                return sqlHelper.ExecuteReader(
                    &quot;select userId, NodeId, DateStamp, logHeader, logComment from umbracoLog where UserId = @user and logHeader = @logHeader and DateStamp &gt;= @dateStamp order by dateStamp desc&quot;,
                    sqlHelper.CreateParameter(&quot;@logHeader&quot;, Type.ToString()),
                    sqlHelper.CreateParameter(&quot;@user&quot;, user.Id),
                    sqlHelper.CreateParameter(&quot;@dateStamp&quot;, SinceDate));
        }

        /// &lt;summary&gt;
        /// Gets a reader of specific for the log for specific types and a specified user.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;user&quot;&gt;The user.&lt;/param&gt;
        /// &lt;param name=&quot;type&quot;&gt;The type of log message.&lt;/param&gt;
        /// &lt;param name=&quot;sinceDate&quot;&gt;The since date.&lt;/param&gt;
        /// &lt;param name=&quot;numberOfResults&quot;&gt;Number of rows returned&lt;/param&gt;
        /// &lt;returns&gt;A reader for the log.&lt;/returns&gt;
        [Obsolete(&quot;Use the Instance.GetLogItems method which return a list of LogItems instead&quot;)]
        internal static IRecordsReader GetLogReader(User user, LogTypes type, DateTime sinceDate, int numberOfResults)
        {
            var query = &quot;select {0} userId, NodeId, DateStamp, logHeader, logComment from umbracoLog where UserId = @user and logHeader = @logHeader and DateStamp &gt;= @dateStamp order by dateStamp desc {1}&quot;;

            query = ApplicationContext.Current.DatabaseContext.DatabaseProvider == DatabaseProviders.MySql 
                ? string.Format(query, string.Empty, &quot;limit 0,&quot; + numberOfResults) 
                : string.Format(query, &quot;top &quot; + numberOfResults, string.Empty);

            using (var sqlHelper = Application.SqlHelper)
                return sqlHelper.ExecuteReader(query, 
                            sqlHelper.CreateParameter(&quot;@logHeader&quot;, type.ToString()), 
                            sqlHelper.CreateParameter(&quot;@user&quot;, user.Id), 
                            sqlHelper.CreateParameter(&quot;@dateStamp&quot;, sinceDate));
        }

        #endregion

        #endregion
    }

	public class LogItem
    {
        public int UserId { get; set; }
        public int NodeId { get; set; }
        public DateTime Timestamp { get; set; }
        public LogTypes LogType { get; set; }
        public string Comment { get; set; }

        public LogItem()
        {

        }

        public LogItem(int userId, int nodeId, DateTime timestamp, LogTypes logType, string comment)
        {
            UserId = userId;
            NodeId = nodeId;
            Timestamp = timestamp;
            LogType = logType;
            Comment = comment;
        }

        public static List&lt;LogItem&gt; ConvertIRecordsReader(IRecordsReader reader)
        {
            var items = new List&lt;LogItem&gt;();
            while (reader.Read())
            {
                items.Add(new LogItem(
                    reader.GetInt(&quot;userId&quot;),
                    reader.GetInt(&quot;nodeId&quot;),
                    reader.GetDateTime(&quot;DateStamp&quot;),
                    ConvertLogHeader(reader.GetString(&quot;logHeader&quot;)),
                    reader.GetString(&quot;logComment&quot;)));
            }

            reader.Close();
            reader.Dispose();

            return items;

        }

        private static LogTypes ConvertLogHeader(string logHeader)
        {
            try
            {
                return (LogTypes)Enum.Parse(typeof(LogTypes), logHeader, true);
            }
            catch
            {
                return LogTypes.Custom;
            }
        }
    }

    public class AuditTrailLogItem : Attribute
    {
    }
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[30,13,30,14,0],[31,17,31,55,0],[32,17,32,18,0],[33,21,33,53,0],[34,21,35,122,0],[36,21,36,22,0],[38,25,38,26,0],[39,29,39,133,0],[40,29,40,177,0],[41,25,41,26,0],[42,25,42,45,0],[43,25,43,26,0],[44,8,44,66,0],[45,25,45,26,0],[46,21,46,22,0],[47,17,47,18,0],[49,17,49,40,0],[50,13,50,14,0],[58,17,58,18,0],[58,19,58,50,0],[58,51,58,52,0],[71,9,71,10,0],[72,13,72,49,0],[73,13,73,14,0],[74,17,74,74,0],[76,17,76,105,0],[77,17,77,18,0],[78,21,78,61,0],[79,17,79,18,0],[80,13,80,14,0],[82,13,82,14,0],[83,17,83,88,0],[83,89,83,96,0],[85,17,85,91,0],[85,91,85,138,0],[85,138,85,149,0],[85,17,85,149,0],[86,17,86,18,0],[87,21,87,66,0],[88,25,88,70,0],[90,21,90,88,0],[91,21,91,22,0],[92,25,93,38,0],[93,38,93,39,0],[93,39,93,40,0],[93,40,93,101,0],[93,101,93,102,0],[93,102,93,103,0],[93,103,93,105,0],[92,25,93,105,0],[94,25,94,32,0],[97,21,97,82,0],[98,17,98,18,0],[100,13,100,14,0],[101,9,101,10,0],[105,9,105,10,0],[106,13,106,40,0],[107,13,107,14,0],[108,17,108,40,0],[109,13,109,14,0],[111,13,111,14,0],[112,17,112,30,0],[113,17,113,36,0],[114,17,114,18,0],[115,21,115,46,0],[116,17,116,18,0],[117,5,117,51,0],[118,13,118,14,0],[119,9,119,10,0],[129,9,129,10,0],[130,13,130,39,0],[131,17,131,62,0],[133,13,133,80,0],[134,13,134,14,0],[135,17,136,30,0],[136,30,136,31,0],[136,31,136,32,0],[136,32,136,93,0],[136,93,136,94,0],[136,94,136,95,0],[136,95,136,97,0],[135,17,136,97,0],[137,17,137,24,0],[140,13,140,74,0],[141,9,141,10,0],[150,9,150,10,0],[151,13,151,46,0],[152,9,152,10,0],[162,9,162,10,0],[163,13,163,144,0],[165,13,165,36,0],[166,13,166,14,0],[168,17,168,18,0],[169,28,169,65,0],[170,25,175,73,0],[176,17,176,18,0],[177,17,177,36,0],[178,17,178,18,0],[179,6,179,101,0],[180,17,180,18,0],[183,5,183,33,0],[184,5,184,6,0],[185,6,185,13,0],[188,13,188,14,0],[191,4,193,11,0],[193,11,193,26,0],[193,26,193,34,0],[193,34,193,40,0],[193,40,193,48,0],[193,48,193,93,0],[193,93,193,101,0],[193,101,193,108,0],[193,108,193,110,0],[191,4,193,110,0],[194,9,194,10,0],[197,9,197,10,0],[198,13,198,118,0],[199,17,199,65,0],[201,20,201,57,0],[202,17,204,64,0],[205,9,205,10,0],[208,9,208,10,0],[209,13,209,40,0],[210,17,210,68,0],[212,20,212,57,0],[213,17,216,74,0],[217,9,217,10,0],[220,9,220,10,0],[221,13,221,40,0],[222,17,222,59,0],[224,20,224,57,0],[225,17,227,64,0],[228,9,228,10,0],[231,9,231,10,0],[232,13,232,40,0],[233,17,233,68,0],[235,20,235,57,0],[236,17,239,74,0],[240,9,240,10,0],[243,9,243,10,0],[244,13,244,40,0],[245,17,245,74,0],[247,20,247,57,0],[248,17,252,74,0],[253,9,253,10,0],[256,9,256,10,0],[257,13,257,49,0],[258,17,258,78,0],[260,13,260,14,0],[262,17,262,18,0],[263,21,263,125,0],[264,21,264,97,0],[266,28,266,65,0],[267,25,268,105,0],[270,21,270,122,0],[271,17,271,18,0],[272,17,272,36,0],[273,17,273,18,0],[274,21,274,60,0],[275,21,275,51,0],[276,17,276,18,0],[277,13,277,14,0],[278,9,278,10,0],[289,9,289,10,0],[290,20,290,57,0],[291,17,293,63,0],[294,9,294,10,0],[304,9,304,10,0],[305,20,305,57,0],[306,17,309,73,0],[310,9,310,10,0],[319,9,319,10,0],[320,20,320,57,0],[321,17,323,63,0],[324,9,324,10,0],[334,9,334,10,0],[335,20,335,57,0],[336,17,339,73,0],[340,9,340,10,0],[351,9,351,10,0],[352,20,352,57,0],[353,17,357,73,0],[358,9,358,10,0],[370,9,370,10,0],[371,13,371,207,0],[373,13,375,80,0],[377,20,377,57,0],[378,17,381,81,0],[382,9,382,10,0],[391,29,391,33,0],[391,34,391,38,0],[392,29,392,33,0],[392,34,392,38,0],[393,37,393,41,0],[393,42,393,46,0],[394,35,394,39,0],[394,40,394,44,0],[395,33,395,37,0],[395,38,395,42,0],[397,9,397,25,0],[398,9,398,10,0],[400,9,400,10,0],[402,9,402,101,0],[403,9,403,10,0],[404,13,404,29,0],[405,13,405,29,0],[406,13,406,35,0],[407,13,407,31,0],[408,13,408,31,0],[409,9,409,10,0],[412,9,412,10,0],[413,13,413,45,0],[414,13,414,34,0],[415,13,415,14,0],[416,17,421,54,0],[422,13,422,14,0],[424,13,424,28,0],[425,13,425,30,0],[427,13,427,26,0],[429,9,429,10,0],[432,9,432,10,0],[434,13,434,14,0],[435,17,435,80,0],[437,13,437,18,0],[438,13,438,14,0],[439,17,439,40,0],[441,9,441,10,0]]);
    </script>
  </body>
</html>