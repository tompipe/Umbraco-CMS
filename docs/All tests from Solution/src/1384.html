<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\Umbraco.Core\Attempt{T}.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using Umbraco.Core.Dynamics;

namespace Umbraco.Core
{
    /// &lt;summary&gt;
    /// Represents the result of an operation attempt.
    /// &lt;/summary&gt;
    /// &lt;typeparam name=&quot;T&quot;&gt;The type of the attempted operation result.&lt;/typeparam&gt;
    [Serializable]
	public struct Attempt&lt;T&gt;
	{
		private readonly bool _success;
		private readonly T _result;
		private readonly Exception _exception;

        /// &lt;summary&gt;
        /// Gets a value indicating whether this &lt;see cref=&quot;Attempt{T}&quot;/&gt; was successful.
        /// &lt;/summary&gt;
        public bool Success
		{
			get { return _success; }
		}

        /// &lt;summary&gt;
        /// Gets the exception associated with an unsuccessful attempt.
        /// &lt;/summary&gt;
        public Exception Exception { get { return _exception; } }

        /// &lt;summary&gt;
        /// Gets the exception associated with an unsuccessful attempt.
        /// &lt;/summary&gt;
        /// &lt;remarks&gt;Keep it for backward compatibility sake.&lt;/remarks&gt;
        [Obsolete(&quot;.Error is obsolete, you should use .Exception instead.&quot;, false)]
        public Exception Error { get { return _exception; } }

        /// &lt;summary&gt;
        /// Gets the attempt result.
        /// &lt;/summary&gt;
        public T Result
		{
			get { return _result; }
		}

        // optimize, use a singleton failed attempt
		private static readonly Attempt&lt;T&gt; Failed = new Attempt&lt;T&gt;(false, default(T), null);

        /// &lt;summary&gt;
        /// Represents an unsuccessful attempt.
        /// &lt;/summary&gt;
        /// &lt;remarks&gt;Keep it for backward compatibility sake.&lt;/remarks&gt;
        [Obsolete(&quot;.Failed is obsolete, you should use Attempt&lt;T&gt;.Fail() instead.&quot;, false)]
        public static readonly Attempt&lt;T&gt; False = Failed; 

        // private - use Succeed() or Fail() methods to create attempts
        private Attempt(bool success, T result, Exception exception)
        {
            _success = success;
            _result = result;
            _exception = exception;
        }

        /// &lt;summary&gt;
        /// Initialize a new instance of the &lt;see cref=&quot;Attempt{T}&quot;/&gt; struct with a result.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;success&quot;&gt;A value indicating whether the attempt is successful.&lt;/param&gt;
        /// &lt;param name=&quot;result&quot;&gt;The result of the attempt.&lt;/param&gt;
        /// &lt;remarks&gt;Keep it for backward compatibility sake.&lt;/remarks&gt;
        [Obsolete(&quot;Attempt ctors are obsolete, you should use Attempt&lt;T&gt;.Succeed(), Attempt&lt;T&gt;.Fail() or Attempt&lt;T&gt;.If() instead.&quot;, false)]
        public Attempt(bool success, T result)
            : this(success, result, null)
        { }

        /// &lt;summary&gt;
        /// Initialize a new instance of the &lt;see cref=&quot;Attempt{T}&quot;/&gt; struct representing a failed attempt, with an exception.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;exception&quot;&gt;The exception causing the failure of the attempt.&lt;/param&gt;
        /// &lt;remarks&gt;Keep it for backward compatibility sake.&lt;/remarks&gt;
        [Obsolete(&quot;Attempt ctors are obsolete, you should use Attempt&lt;T&gt;.Succeed(), Attempt&lt;T&gt;.Fail() or Attempt&lt;T&gt;.If() instead.&quot;, false)]
        public Attempt(Exception exception)
            : this(false, default(T), exception)
        { }

        /// &lt;summary&gt;
        /// Creates a successful attempt.
        /// &lt;/summary&gt;
        /// &lt;returns&gt;The successful attempt.&lt;/returns&gt;
        public static Attempt&lt;T&gt; Succeed()
        {
            return new Attempt&lt;T&gt;(true, default(T), null);
        }

        /// &lt;summary&gt;
        /// Creates a successful attempt with a result.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;result&quot;&gt;The result of the attempt.&lt;/param&gt;
        /// &lt;returns&gt;The successful attempt.&lt;/returns&gt;
        public static Attempt&lt;T&gt; Succeed(T result)
        {
            return new Attempt&lt;T&gt;(true, result, null);
        }

        /// &lt;summary&gt;
        /// Creates a failed attempt.
        /// &lt;/summary&gt;
        /// &lt;returns&gt;The failed attempt.&lt;/returns&gt;
        public static Attempt&lt;T&gt; Fail()
        {
            return Failed;
        }

        /// &lt;summary&gt;
        /// Creates a failed attempt with an exception.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;exception&quot;&gt;The exception causing the failure of the attempt.&lt;/param&gt;
        /// &lt;returns&gt;The failed attempt.&lt;/returns&gt;
        public static Attempt&lt;T&gt; Fail(Exception exception)
        {
            return new Attempt&lt;T&gt;(false, default(T), exception);
        }

        /// &lt;summary&gt;
        /// Creates a failed attempt with a result.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;result&quot;&gt;The result of the attempt.&lt;/param&gt;
        /// &lt;returns&gt;The failed attempt.&lt;/returns&gt;
        public static Attempt&lt;T&gt; Fail(T result)
        {
            return new Attempt&lt;T&gt;(false, result, null);
        }

        /// &lt;summary&gt;
        /// Creates a failed attempt with a result and an exception.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;result&quot;&gt;The result of the attempt.&lt;/param&gt;
        /// &lt;param name=&quot;exception&quot;&gt;The exception causing the failure of the attempt.&lt;/param&gt;
        /// &lt;returns&gt;The failed attempt.&lt;/returns&gt;
        public static Attempt&lt;T&gt; Fail(T result, Exception exception)
        {
            return new Attempt&lt;T&gt;(false, result, exception);
        }

        /// &lt;summary&gt;
        /// Creates a successful or a failed attempt.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;condition&quot;&gt;A value indicating whether the attempt is successful.&lt;/param&gt;
        /// &lt;returns&gt;The attempt.&lt;/returns&gt;
        public static Attempt&lt;T&gt; SucceedIf(bool condition)
        {
            return condition ? new Attempt&lt;T&gt;(true, default(T), null) : Failed;
        }

        /// &lt;summary&gt;
        /// Creates a successful or a failed attempt, with a result.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;condition&quot;&gt;A value indicating whether the attempt is successful.&lt;/param&gt;
        /// &lt;param name=&quot;result&quot;&gt;The result of the attempt.&lt;/param&gt;
        /// &lt;returns&gt;The attempt.&lt;/returns&gt;
        public static Attempt&lt;T&gt; SucceedIf(bool condition, T result)
        {
            return new Attempt&lt;T&gt;(condition, result, null);
        }

        /// &lt;summary&gt;
        /// Implicity operator to check if the attempt was successful without having to access the &#39;success&#39; property
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;a&quot;&gt;&lt;/param&gt;
        /// &lt;returns&gt;&lt;/returns&gt;
        public static implicit operator bool(Attempt&lt;T&gt; a)
        {
            return a.Success;
        }
    }
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[22,8,22,9,1],[22,10,22,26,1],[22,27,22,28,1],[28,42,28,43,1],[28,44,28,62,1],[28,63,28,64,1],[35,38,35,39,0],[35,40,35,58,0],[35,59,35,60,0],[42,8,42,9,1],[42,10,42,25,1],[42,26,42,27,1],[46,3,46,87,1],[53,9,53,58,1],[57,9,57,10,1],[58,13,58,32,1],[59,13,59,30,1],[60,13,60,36,1],[61,9,61,10,1],[71,15,71,42,0],[72,9,72,10,0],[72,11,72,12,0],[81,15,81,49,0],[82,9,82,10,0],[82,11,82,12,0],[89,9,89,10,1],[90,13,90,59,1],[91,9,91,10,1],[99,9,99,10,1],[100,13,100,55,1],[101,9,101,10,1],[108,9,108,10,1],[109,13,109,27,1],[110,9,110,10,1],[118,9,118,10,1],[119,13,119,65,1],[120,9,120,10,1],[128,9,128,10,1],[129,13,129,56,1],[130,9,130,10,1],[139,9,139,10,1],[140,13,140,61,1],[141,9,141,10,1],[149,9,149,10,0],[150,13,150,80,0],[151,9,151,10,0],[160,9,160,10,1],[161,13,161,60,1],[162,9,162,10,1],[170,9,170,10,1],[171,13,171,30,1],[172,9,172,10,1]]);
    </script>
  </body>
</html>