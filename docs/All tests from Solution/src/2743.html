<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\umbraco.editorControls\datepicker\DateData.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;

namespace umbraco.editorControls.datepicker
{
	/// &lt;summary&gt;
	/// Summary description for DateData.
	/// &lt;/summary&gt;
    [Obsolete(&quot;IDataType and all other references to the legacy property editors are no longer used this will be removed from the codebase in future versions&quot;)]
	public class DateData : cms.businesslogic.datatype.DefaultData
	{
		public DateData(cms.businesslogic.datatype.BaseDataType DataType) : base(DataType) {}

		public override System.Xml.XmlNode ToXMl(System.Xml.XmlDocument d)
		{
		    if (Value != null &amp;&amp; Value.ToString() != &quot;&quot;)
		    {
                if(Value is DateTime)
		            return d.CreateTextNode(((DateTime) Value).ToString(&quot;s&quot;));

		        DateTime convertedDate;
                if (DateTime.TryParse(Value.ToString(), out convertedDate))
                    return d.CreateTextNode(convertedDate.ToString(&quot;s&quot;));
		    }
            
            return d.CreateTextNode(&quot;&quot;);
		}

		public override void MakeNew(int PropertyId) 
		{
			this.PropertyId = PropertyId;
			try 
			{
// Changed, do not insert todays date as default!
//				System.Data.SqlTypes.SqlDateTime sqlDate = new System.Data.SqlTypes.SqlDateTime(DateTime.Now);
//				this.Value = sqlDate;
			} 
			catch 
			{
				this.Value = &quot;&quot;;
			}
		}
	}
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[11,71,11,85,0],[11,86,11,87,0],[11,87,11,88,0],[14,3,14,4,0],[15,7,15,51,0],[16,7,16,8,0],[17,17,17,38,0],[18,15,18,73,0],[21,17,21,76,0],[22,21,22,74,0],[23,7,23,8,0],[25,13,25,41,0],[26,3,26,4,0],[29,3,29,4,0],[30,4,30,33,0],[32,4,32,5,0],[36,4,36,5,0],[37,4,37,9,0],[38,4,38,5,0],[39,5,39,21,0],[40,4,40,5,0],[41,3,41,4,0]]);
    </script>
  </body>
</html>