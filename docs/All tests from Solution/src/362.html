<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\Umbraco.Tests\Persistence\Repositories\MemberRepositoryTest.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.Diagnostics;
using System.Linq;
using System.Xml.Linq;
using Moq;
using NUnit.Framework;
using Umbraco.Core;
using Umbraco.Core.Configuration.UmbracoSettings;
using Umbraco.Core.Logging;
using Umbraco.Core.Models;
using Umbraco.Core.Models.Rdbms;
using Umbraco.Core.Persistence;

using Umbraco.Core.Persistence.Querying;
using Umbraco.Core.Persistence.Repositories;
using Umbraco.Core.Persistence.UnitOfWork;
using Umbraco.Tests.TestHelpers;
using Umbraco.Tests.TestHelpers.Entities;

namespace Umbraco.Tests.Persistence.Repositories
{
    [DatabaseTestBehavior(DatabaseBehavior.NewDbFileAndSchemaPerTest)]
    [TestFixture]
    public class MemberRepositoryTest : BaseDatabaseFactoryTest
    {
        [SetUp]
        public override void Initialize()
        {
            base.Initialize();
        }

        [TearDown]
        public override void TearDown()
        {
            base.TearDown();
        }

        private MemberRepository CreateRepository(IDatabaseUnitOfWork unitOfWork, out MemberTypeRepository memberTypeRepository, out MemberGroupRepository memberGroupRepository)
        {
            memberTypeRepository = new MemberTypeRepository(unitOfWork, CacheHelper.CreateDisabledCacheHelper(), Mock.Of&lt;ILogger&gt;(), SqlSyntax);
            memberGroupRepository = new MemberGroupRepository(unitOfWork, CacheHelper.CreateDisabledCacheHelper(), Mock.Of&lt;ILogger&gt;(), SqlSyntax);
            var tagRepo = new TagRepository(unitOfWork, CacheHelper.CreateDisabledCacheHelper(), Mock.Of&lt;ILogger&gt;(), SqlSyntax);
            var repository = new MemberRepository(unitOfWork, CacheHelper.CreateDisabledCacheHelper(), Mock.Of&lt;ILogger&gt;(), SqlSyntax, memberTypeRepository, memberGroupRepository, tagRepo, Mock.Of&lt;IContentSection&gt;());
            return repository;
        }

        [Test]
        public void Rebuild_All_Xml_Structures()
        {
            var provider = new PetaPocoUnitOfWorkProvider(Logger);
            var unitOfWork = provider.GetUnitOfWork();
            MemberTypeRepository memberTypeRepository;
            MemberGroupRepository memberGroupRepository;
            using (var repository = CreateRepository(unitOfWork, out memberTypeRepository, out memberGroupRepository))
            {
                var memberType1 = CreateTestMemberType();

                for (var i = 0; i &lt; 100; i++)
                {
                    var member = MockedMember.CreateSimpleMember(memberType1, &quot;blah&quot; + i, &quot;blah&quot; + i + &quot;@example.com&quot;, &quot;blah&quot;, &quot;blah&quot; + i);
                    repository.AddOrUpdate(member);
                }
                unitOfWork.Commit();

                //delete all xml
                unitOfWork.Database.Execute(&quot;DELETE FROM cmsContentXml&quot;);
                Assert.AreEqual(0, unitOfWork.Database.ExecuteScalar&lt;int&gt;(&quot;SELECT COUNT(*) FROM cmsContentXml&quot;));

                repository.RebuildXmlStructures(media =&gt; new XElement(&quot;test&quot;), 10);

                Assert.AreEqual(100, unitOfWork.Database.ExecuteScalar&lt;int&gt;(&quot;SELECT COUNT(*) FROM cmsContentXml&quot;));
            }
        }

        [Test]
        public void Rebuild_All_Xml_Structures_For_Content_Type()
        {
            var provider = new PetaPocoUnitOfWorkProvider(Logger);
            var unitOfWork = provider.GetUnitOfWork();
            MemberTypeRepository memberTypeRepository;
            MemberGroupRepository memberGroupRepository;
            using (var repository = CreateRepository(unitOfWork, out memberTypeRepository, out memberGroupRepository))
            {

                var memberType1 = CreateTestMemberType(&quot;mt1&quot;);
                var memberType2 = CreateTestMemberType(&quot;mt2&quot;);
                var memberType3 = CreateTestMemberType(&quot;mt3&quot;);

                for (var i = 0; i &lt; 30; i++)
                {
                    var member = MockedMember.CreateSimpleMember(memberType1, &quot;b1lah&quot; + i, &quot;b1lah&quot; + i + &quot;@example.com&quot;, &quot;b1lah&quot;, &quot;b1lah&quot; + i);
                    repository.AddOrUpdate(member);
                }
                for (var i = 0; i &lt; 30; i++)
                {
                    var member = MockedMember.CreateSimpleMember(memberType2, &quot;b2lah&quot; + i, &quot;b2lah&quot; + i + &quot;@example.com&quot;, &quot;b2lah&quot;, &quot;b2lah&quot; + i);
                    repository.AddOrUpdate(member);
                }
                for (var i = 0; i &lt; 30; i++)
                {
                    var member = MockedMember.CreateSimpleMember(memberType3, &quot;b3lah&quot; + i, &quot;b3lah&quot; + i + &quot;@example.com&quot;, &quot;b3lah&quot;, &quot;b3lah&quot; + i);
                    repository.AddOrUpdate(member);
                }
                unitOfWork.Commit();

                //delete all xml
                unitOfWork.Database.Execute(&quot;DELETE FROM cmsContentXml&quot;);
                Assert.AreEqual(0, unitOfWork.Database.ExecuteScalar&lt;int&gt;(&quot;SELECT COUNT(*) FROM cmsContentXml&quot;));

                repository.RebuildXmlStructures(media =&gt; new XElement(&quot;test&quot;), 10, contentTypeIds: new[] { memberType1.Id, memberType2.Id });

                Assert.AreEqual(60, unitOfWork.Database.ExecuteScalar&lt;int&gt;(&quot;SELECT COUNT(*) FROM cmsContentXml&quot;));
            }
        }



        [Test]
        public void MemberRepository_Can_Get_Member_By_Id()
        {
            var provider = new PetaPocoUnitOfWorkProvider(Logger);
            var unitOfWork = provider.GetUnitOfWork();
            MemberTypeRepository memberTypeRepository;
            MemberGroupRepository memberGroupRepository;
            using (var repository = CreateRepository(unitOfWork, out memberTypeRepository, out memberGroupRepository))
            {
                var member = CreateTestMember();

                member = repository.Get(member.Id);

                Assert.That(member, Is.Not.Null);
                Assert.That(member.HasIdentity, Is.True);
            }
        }

        [Test]
        public void Can_Get_Members_By_Ids()
        {
            var provider = new PetaPocoUnitOfWorkProvider(Logger);
            var unitOfWork = provider.GetUnitOfWork();
            MemberTypeRepository memberTypeRepository;
            MemberGroupRepository memberGroupRepository;
            using (var repository = CreateRepository(unitOfWork, out memberTypeRepository, out memberGroupRepository))
            {
                var type = CreateTestMemberType();
                var m1 = CreateTestMember(type, &quot;Test 1&quot;, &quot;test1@test.com&quot;, &quot;pass1&quot;, &quot;test1&quot;);
                var m2 = CreateTestMember(type, &quot;Test 2&quot;, &quot;test2@test.com&quot;, &quot;pass2&quot;, &quot;test2&quot;);

                var members = repository.GetAll(m1.Id, m2.Id);

                Assert.That(members, Is.Not.Null);
                Assert.That(members.Count(), Is.EqualTo(2));
                Assert.That(members.Any(x =&gt; x == null), Is.False);
                Assert.That(members.Any(x =&gt; x.HasIdentity == false), Is.False);
            }
        }

        [Test]
        public void MemberRepository_Can_Get_All_Members()
        {
            var provider = new PetaPocoUnitOfWorkProvider(Logger);
            var unitOfWork = provider.GetUnitOfWork();
            MemberTypeRepository memberTypeRepository;
            MemberGroupRepository memberGroupRepository;
            using (var repository = CreateRepository(unitOfWork, out memberTypeRepository, out memberGroupRepository))
            {
                var type = CreateTestMemberType();
                for (var i = 0; i &lt; 5; i++)
                {
                    CreateTestMember(type, &quot;Test &quot; + i, &quot;test&quot; + i + &quot;@test.com&quot;, &quot;pass&quot; + i, &quot;test&quot; + i);
                }

                var members = repository.GetAll();

                Assert.That(members, Is.Not.Null);
                Assert.That(members.Any(x =&gt; x == null), Is.False);
                Assert.That(members.Count(), Is.EqualTo(5));
                Assert.That(members.Any(x =&gt; x.HasIdentity == false), Is.False);
            }
        }

        [Test]
        public void MemberRepository_Can_Perform_GetByQuery_With_Key()
        {
            // Arrange
            var provider = new PetaPocoUnitOfWorkProvider(Logger);
            var unitOfWork = provider.GetUnitOfWork();
            MemberTypeRepository memberTypeRepository;
            MemberGroupRepository memberGroupRepository;
            using (var repository = CreateRepository(unitOfWork, out memberTypeRepository, out memberGroupRepository))
            {
                var key = Guid.NewGuid();
                var member = CreateTestMember(key: key);

                // Act
                var query = Query&lt;IMember&gt;.Builder.Where(x =&gt; x.Key == key);
                var result = repository.GetByQuery(query);

                // Assert
                Assert.That(result.Count(), Is.EqualTo(1));
                Assert.That(result.First().Id, Is.EqualTo(member.Id));
            }
        }

        [Test]
        public void Can_Persist_Member()
        {
            var provider = new PetaPocoUnitOfWorkProvider(Logger);
            var unitOfWork = provider.GetUnitOfWork();
            MemberTypeRepository memberTypeRepository;
            MemberGroupRepository memberGroupRepository;
            using (var repository = CreateRepository(unitOfWork, out memberTypeRepository, out memberGroupRepository))
            {
                var member = CreateTestMember();

                var sut = repository.Get(member.Id);

                Assert.That(sut, Is.Not.Null);
                Assert.That(sut.HasIdentity, Is.True);
                Assert.That(sut.Properties.Any(x =&gt; x.HasIdentity == false || x.Id == 0), Is.False);
                Assert.That(sut.Name, Is.EqualTo(&quot;Johnny Hefty&quot;));
                Assert.That(sut.Email, Is.EqualTo(&quot;johnny@example.com&quot;));
                Assert.That(sut.RawPasswordValue, Is.EqualTo(&quot;123&quot;));
                Assert.That(sut.Username, Is.EqualTo(&quot;hefty&quot;));

                TestHelper.AssertAllPropertyValuesAreEquals(sut, member, &quot;yyyy-MM-dd HH:mm:ss&quot;);
            }
        }

        [Test]
        public void New_Member_Has_Built_In_Properties_By_Default()
        {
            var provider = new PetaPocoUnitOfWorkProvider(Logger);
            var unitOfWork = provider.GetUnitOfWork();
            MemberTypeRepository memberTypeRepository;
            MemberGroupRepository memberGroupRepository;
            using (var repository = CreateRepository(unitOfWork, out memberTypeRepository, out memberGroupRepository))
            {
                var memberType = MockedContentTypes.CreateSimpleMemberType();
                memberTypeRepository.AddOrUpdate(memberType);
                unitOfWork.Commit();

                var member = MockedMember.CreateSimpleMember(memberType, &quot;Johnny Hefty&quot;, &quot;johnny@example.com&quot;, &quot;123&quot;, &quot;hefty&quot;);
                repository.AddOrUpdate(member);
                unitOfWork.Commit();

                var sut = repository.Get(member.Id);

                Assert.That(sut.ContentType.PropertyGroups.Count(), Is.EqualTo(2));
                Assert.That(sut.ContentType.PropertyTypes.Count(), Is.EqualTo(3 + Constants.Conventions.Member.GetStandardPropertyTypeStubs().Count));
                Assert.That(sut.Properties.Count(), Is.EqualTo(3 + Constants.Conventions.Member.GetStandardPropertyTypeStubs().Count));
                Assert.That(sut.Properties.Any(x =&gt; x.HasIdentity == false || x.Id == 0), Is.False);
                var grp = sut.PropertyGroups.FirstOrDefault(x =&gt; x.Name == Constants.Conventions.Member.StandardPropertiesGroupName);
                Assert.IsNotNull(grp);
                var aliases = Constants.Conventions.Member.GetStandardPropertyTypeStubs().Select(x =&gt; x.Key).ToArray();
                foreach (var p in sut.PropertyTypes.Where(x =&gt; aliases.Contains(x.Alias)))
                {
                    Assert.AreEqual(grp.Id, p.PropertyGroupId.Value);
                }
            }
        }

        [Test]
        public void MemberRepository_Does_Not_Replace_Password_When_Null()
        {
            IMember sut;
            var provider = new PetaPocoUnitOfWorkProvider(Logger);
            var unitOfWork = provider.GetUnitOfWork();
            MemberTypeRepository memberTypeRepository;
            MemberGroupRepository memberGroupRepository;
            using (var repository = CreateRepository(unitOfWork, out memberTypeRepository, out memberGroupRepository))
            {
                var memberType = MockedContentTypes.CreateSimpleMemberType();
                memberTypeRepository.AddOrUpdate(memberType);
                unitOfWork.Commit();

                var member = MockedMember.CreateSimpleMember(memberType, &quot;Johnny Hefty&quot;, &quot;johnny@example.com&quot;, &quot;123&quot;, &quot;hefty&quot;);
                repository.AddOrUpdate(member);
                unitOfWork.Commit();

                sut = repository.Get(member.Id);
                //when the password is null it will not overwrite what is already there.
                sut.RawPasswordValue = null;
                repository.AddOrUpdate(sut);
                unitOfWork.Commit();
                sut = repository.Get(member.Id);

                Assert.That(sut.RawPasswordValue, Is.EqualTo(&quot;123&quot;));
            }
        }

        [Test]
        public void MemberRepository_Can_Update_Email_And_Login_When_Changed()
        {
            IMember sut;
            var provider = new PetaPocoUnitOfWorkProvider(Logger);
            var unitOfWork = provider.GetUnitOfWork();
            MemberTypeRepository memberTypeRepository;
            MemberGroupRepository memberGroupRepository;
            using (var repository = CreateRepository(unitOfWork, out memberTypeRepository, out memberGroupRepository))
            {
                var memberType = MockedContentTypes.CreateSimpleMemberType();
                memberTypeRepository.AddOrUpdate(memberType);
                unitOfWork.Commit();

                var member = MockedMember.CreateSimpleMember(memberType, &quot;Johnny Hefty&quot;, &quot;johnny@example.com&quot;, &quot;123&quot;, &quot;hefty&quot;);
                repository.AddOrUpdate(member);
                unitOfWork.Commit();

                sut = repository.Get(member.Id);
                sut.Username = &quot;This is new&quot;;
                sut.Email = &quot;thisisnew@hello.com&quot;;
                repository.AddOrUpdate(sut);
                unitOfWork.Commit();
                sut = repository.Get(member.Id);

                Assert.That(sut.Email, Is.EqualTo(&quot;thisisnew@hello.com&quot;));
                Assert.That(sut.Username, Is.EqualTo(&quot;This is new&quot;));
            }
        }

        [Test]
        public void Can_Create_Correct_Subquery()
        {
            var query = Query&lt;IMember&gt;.Builder.Where(x =&gt;
                        ((Member) x).LongStringPropertyValue.Contains(&quot;1095&quot;) &amp;&amp;
                        ((Member) x).PropertyTypeAlias == &quot;headshot&quot;);

            var sqlSubquery = GetSubquery();
            var translator = new SqlTranslator&lt;IMember&gt;(sqlSubquery, query);
            var subquery = translator.Translate();
            var sql = GetBaseQuery(false)
                .Append(new Sql(&quot;WHERE umbracoNode.id IN (&quot; + subquery.SQL + &quot;)&quot;, subquery.Arguments))
                .OrderByDescending&lt;ContentVersionDto&gt;(x =&gt; x.VersionDate)
                .OrderBy&lt;NodeDto&gt;(x =&gt; x.SortOrder);

            Debug.Print(sql.SQL);
            Assert.That(sql.SQL, Is.Not.Empty);
        }

        private IMember CreateTestMember(IMemberType memberType = null, string name = null, string email = null, string password = null, string username = null, Guid? key = null)
        {
            var provider = new PetaPocoUnitOfWorkProvider(Logger);
            var unitOfWork = provider.GetUnitOfWork();
            MemberTypeRepository memberTypeRepository;
            MemberGroupRepository memberGroupRepository;
            using (var repository = CreateRepository(unitOfWork, out memberTypeRepository, out memberGroupRepository))
            {
                if (memberType == null)
                {
                    memberType = MockedContentTypes.CreateSimpleMemberType();
                    memberTypeRepository.AddOrUpdate(memberType);
                    unitOfWork.Commit();
                }

                var member = MockedMember.CreateSimpleMember(memberType, name ?? &quot;Johnny Hefty&quot;, email ?? &quot;johnny@example.com&quot;, password ?? &quot;123&quot;, username ?? &quot;hefty&quot;, key);
                repository.AddOrUpdate(member);
                unitOfWork.Commit();

                return member;
            }
        }

        private IMemberType CreateTestMemberType(string alias = null)
        {
            var provider = new PetaPocoUnitOfWorkProvider(Logger);
            var unitOfWork = provider.GetUnitOfWork();
            MemberTypeRepository memberTypeRepository;
            MemberGroupRepository memberGroupRepository;
            using (var repository = CreateRepository(unitOfWork, out memberTypeRepository, out memberGroupRepository))
            {
                var memberType = MockedContentTypes.CreateSimpleMemberType(alias);
                memberTypeRepository.AddOrUpdate(memberType);
                unitOfWork.Commit();
                return memberType;
            }
        }

        private Sql GetBaseQuery(bool isCount)
        {
            if (isCount)
            {
                var sqlCount = new Sql()
                    .Select(&quot;COUNT(*)&quot;)
                    .From&lt;NodeDto&gt;()
                    .InnerJoin&lt;ContentDto&gt;().On&lt;ContentDto, NodeDto&gt;(left =&gt; left.NodeId, right =&gt; right.NodeId)
                    .InnerJoin&lt;ContentTypeDto&gt;().On&lt;ContentTypeDto, ContentDto&gt;(left =&gt; left.NodeId, right =&gt; right.ContentTypeId)
                    .InnerJoin&lt;ContentVersionDto&gt;().On&lt;ContentVersionDto, NodeDto&gt;(left =&gt; left.NodeId, right =&gt; right.NodeId)
                    .InnerJoin&lt;MemberDto&gt;().On&lt;MemberDto, ContentDto&gt;(left =&gt; left.NodeId, right =&gt; right.NodeId)
                    .Where&lt;NodeDto&gt;(x =&gt; x.NodeObjectType == NodeObjectTypeId);
                return sqlCount;
            }

            var sql = new Sql();
            sql.Select(&quot;umbracoNode.*&quot;, &quot;cmsContent.contentType&quot;, &quot;cmsContentType.alias AS ContentTypeAlias&quot;, &quot;cmsContentVersion.VersionId&quot;,
                &quot;cmsContentVersion.VersionDate&quot;, &quot;cmsMember.Email&quot;,
                &quot;cmsMember.LoginName&quot;, &quot;cmsMember.Password&quot;, &quot;cmsPropertyData.id AS PropertyDataId&quot;, &quot;cmsPropertyData.propertytypeid&quot;,
                &quot;cmsPropertyData.dataDate&quot;, &quot;cmsPropertyData.dataInt&quot;, &quot;cmsPropertyData.dataNtext&quot;, &quot;cmsPropertyData.dataNvarchar&quot;,
                &quot;cmsPropertyType.id&quot;, &quot;cmsPropertyType.Alias&quot;, &quot;cmsPropertyType.Description&quot;,
                &quot;cmsPropertyType.Name&quot;, &quot;cmsPropertyType.mandatory&quot;, &quot;cmsPropertyType.validationRegExp&quot;,
                &quot;cmsPropertyType.sortOrder AS PropertyTypeSortOrder&quot;, &quot;cmsPropertyType.propertyTypeGroupId&quot;,
                &quot;cmsPropertyType.dataTypeId&quot;, &quot;cmsDataType.propertyEditorAlias&quot;, &quot;cmsDataType.dbType&quot;)
                .From&lt;NodeDto&gt;()
                .InnerJoin&lt;ContentDto&gt;().On&lt;ContentDto, NodeDto&gt;(left =&gt; left.NodeId, right =&gt; right.NodeId)
                .InnerJoin&lt;ContentTypeDto&gt;().On&lt;ContentTypeDto, ContentDto&gt;(left =&gt; left.NodeId, right =&gt; right.ContentTypeId)
                .InnerJoin&lt;ContentVersionDto&gt;().On&lt;ContentVersionDto, NodeDto&gt;(left =&gt; left.NodeId, right =&gt; right.NodeId)
                .InnerJoin&lt;MemberDto&gt;().On&lt;MemberDto, ContentDto&gt;(left =&gt; left.NodeId, right =&gt; right.NodeId)
                .LeftJoin&lt;PropertyTypeDto&gt;().On&lt;PropertyTypeDto, ContentDto&gt;(left =&gt; left.ContentTypeId, right =&gt; right.ContentTypeId)
                .LeftJoin&lt;DataTypeDto&gt;().On&lt;DataTypeDto, PropertyTypeDto&gt;(left =&gt; left.DataTypeId, right =&gt; right.DataTypeId)
                .LeftJoin&lt;PropertyDataDto&gt;().On&lt;PropertyDataDto, PropertyTypeDto&gt;(left =&gt; left.PropertyTypeId, right =&gt; right.Id)
                .Append(&quot;AND cmsPropertyData.versionId = cmsContentVersion.VersionId&quot;)
                .Where&lt;NodeDto&gt;(x =&gt; x.NodeObjectType == NodeObjectTypeId);
            return sql;
        }

        private Sql GetSubquery()
        {
            var sql = new Sql();
            sql.Select(&quot;umbracoNode.id&quot;)
                .From&lt;NodeDto&gt;()
                .InnerJoin&lt;ContentDto&gt;().On&lt;ContentDto, NodeDto&gt;(left =&gt; left.NodeId, right =&gt; right.NodeId)
                .InnerJoin&lt;ContentTypeDto&gt;().On&lt;ContentTypeDto, ContentDto&gt;(left =&gt; left.NodeId, right =&gt; right.ContentTypeId)
                .InnerJoin&lt;ContentVersionDto&gt;().On&lt;ContentVersionDto, NodeDto&gt;(left =&gt; left.NodeId, right =&gt; right.NodeId)
                .InnerJoin&lt;MemberDto&gt;().On&lt;MemberDto, ContentDto&gt;(left =&gt; left.NodeId, right =&gt; right.NodeId)
                .LeftJoin&lt;PropertyTypeDto&gt;().On&lt;PropertyTypeDto, ContentDto&gt;(left =&gt; left.ContentTypeId, right =&gt; right.ContentTypeId)
                .LeftJoin&lt;DataTypeDto&gt;().On&lt;DataTypeDto, PropertyTypeDto&gt;(left =&gt; left.DataTypeId, right =&gt; right.DataTypeId)
                .LeftJoin&lt;PropertyDataDto&gt;().On&lt;PropertyDataDto, PropertyTypeDto&gt;(left =&gt; left.PropertyTypeId, right =&gt; right.Id)
                .Append(&quot;AND cmsPropertyData.versionId = cmsContentVersion.VersionId&quot;)
                .Where&lt;NodeDto&gt;(x =&gt; x.NodeObjectType == NodeObjectTypeId);
            return sql;
        }

        private Guid NodeObjectTypeId
        {
            get { return new Guid(Constants.ObjectTypes.Member); }
        }
    }
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[28,9,28,10,1],[29,13,29,31,1],[30,9,30,10,1],[34,9,34,10,1],[35,13,35,29,1],[36,9,36,10,1],[39,9,39,10,1],[40,13,40,145,1],[41,13,41,147,1],[42,13,42,129,1],[43,13,43,217,1],[44,13,44,31,1],[45,9,45,10,1],[49,9,49,10,1],[50,13,50,67,1],[51,13,51,55,1],[54,20,54,118,1],[55,13,55,14,1],[56,17,56,58,1],[58,22,58,31,1],[58,33,58,40,1],[58,42,58,45,1],[59,17,59,18,1],[60,21,60,140,1],[61,21,61,52,1],[62,17,62,18,1],[63,17,63,37,1],[66,17,66,74,1],[67,17,67,114,1],[69,17,69,58,1],[69,58,69,78,1],[69,78,69,84,1],[69,17,69,84,1],[71,17,71,116,1],[72,13,72,14,1],[73,9,73,10,1],[77,9,77,10,1],[78,13,78,67,1],[79,13,79,55,1],[82,20,82,118,1],[83,13,83,14,1],[85,17,85,63,1],[86,17,86,63,1],[87,17,87,63,1],[89,22,89,31,1],[89,33,89,39,1],[89,41,89,44,1],[90,17,90,18,1],[91,21,91,144,1],[92,21,92,52,1],[93,17,93,18,1],[94,22,94,31,1],[94,33,94,39,1],[94,41,94,44,1],[95,17,95,18,1],[96,21,96,144,1],[97,21,97,52,1],[98,17,98,18,1],[99,22,99,31,1],[99,33,99,39,1],[99,41,99,44,1],[100,17,100,18,1],[101,21,101,144,1],[102,21,102,52,1],[103,17,103,18,1],[104,17,104,37,1],[107,17,107,74,1],[108,17,108,114,1],[110,17,110,58,1],[110,58,110,78,1],[110,78,110,142,1],[110,17,110,142,1],[112,17,112,115,1],[113,13,113,14,1],[114,9,114,10,1],[120,9,120,10,1],[121,13,121,67,1],[122,13,122,55,1],[125,20,125,118,1],[126,13,126,14,1],[127,17,127,49,1],[129,17,129,52,1],[131,17,131,50,1],[132,17,132,58,1],[133,13,133,14,1],[134,9,134,10,1],[138,9,138,10,1],[139,13,139,67,1],[140,13,140,55,1],[143,20,143,118,1],[144,13,144,14,1],[145,17,145,51,1],[146,17,146,95,1],[147,17,147,95,1],[149,17,149,63,1],[151,17,151,51,1],[152,17,152,61,1],[153,17,153,46,1],[153,46,153,55,1],[153,55,153,68,1],[153,17,153,68,1],[154,17,154,46,1],[154,46,154,68,1],[154,68,154,81,1],[154,17,154,81,1],[155,13,155,14,1],[156,9,156,10,1],[160,9,160,10,1],[161,13,161,67,1],[162,13,162,55,1],[165,20,165,118,1],[166,13,166,14,1],[167,17,167,51,1],[168,22,168,31,1],[168,33,168,38,1],[168,40,168,43,1],[169,17,169,18,1],[170,21,170,107,1],[171,17,171,18,1],[173,17,173,51,1],[175,17,175,51,1],[176,17,176,46,1],[176,46,176,55,1],[176,55,176,68,1],[176,17,176,68,1],[177,17,177,61,1],[178,17,178,46,1],[178,46,178,68,1],[178,68,178,81,1],[178,17,178,81,1],[179,13,179,14,1],[180,9,180,10,1],[184,9,184,10,1],[186,13,186,67,1],[187,13,187,55,1],[190,20,190,118,1],[191,13,191,14,1],[192,17,192,42,1],[193,17,193,57,1],[196,17,196,77,1],[197,17,197,59,1],[200,17,200,60,1],[201,17,201,71,1],[202,13,202,14,1],[203,9,203,10,1],[207,9,207,10,1],[208,13,208,67,1],[209,13,209,55,1],[212,20,212,118,1],[213,13,213,14,1],[214,17,214,49,1],[216,17,216,53,1],[218,17,218,47,1],[219,17,219,55,1],[220,17,220,53,1],[220,53,220,88,1],[220,88,220,101,1],[220,17,220,101,1],[221,17,221,67,1],[222,17,222,74,1],[223,17,223,70,1],[224,17,224,64,1],[226,17,226,97,1],[227,13,227,14,1],[228,9,228,10,1],[232,9,232,10,1],[233,13,233,67,1],[234,13,234,55,1],[237,20,237,118,1],[238,13,238,14,1],[239,17,239,78,1],[240,17,240,62,1],[241,17,241,37,1],[243,17,243,128,1],[244,17,244,48,1],[245,17,245,37,1],[247,17,247,53,1],[249,17,249,84,1],[250,17,250,151,1],[251,17,251,136,1],[252,17,252,53,1],[252,53,252,88,1],[252,88,252,101,1],[252,17,252,101,1],[253,17,253,66,1],[253,66,253,132,1],[253,132,253,134,1],[253,17,253,134,1],[254,17,254,39,1],[255,17,255,103,1],[255,103,255,108,1],[255,108,255,120,1],[255,17,255,120,1],[256,17,256,24,1],[256,26,256,31,1],[256,32,256,34,1],[256,35,256,64,1],[256,64,256,89,1],[256,89,256,90,1],[256,35,256,90,1],[257,17,257,18,1],[258,21,258,70,1],[259,17,259,18,1],[260,13,260,14,1],[261,9,261,10,1],[265,9,265,10,1],[267,13,267,67,1],[268,13,268,55,1],[271,20,271,118,1],[272,13,272,14,1],[273,17,273,78,1],[274,17,274,62,1],[275,17,275,37,1],[277,17,277,128,1],[278,17,278,48,1],[279,17,279,37,1],[281,17,281,49,1],[283,17,283,45,1],[284,17,284,45,1],[285,17,285,37,1],[286,17,286,49,1],[288,17,288,70,1],[289,13,289,14,1],[290,9,290,10,1],[294,9,294,10,1],[296,13,296,67,1],[297,13,297,55,1],[300,20,300,118,1],[301,13,301,14,1],[302,17,302,78,1],[303,17,303,62,1],[304,17,304,37,1],[306,17,306,128,1],[307,17,307,48,1],[308,17,308,37,1],[310,17,310,49,1],[311,17,311,46,1],[312,17,312,51,1],[313,17,313,45,1],[314,17,314,37,1],[315,17,315,49,1],[317,17,317,75,1],[318,17,318,70,1],[319,13,319,14,1],[320,9,320,10,1],[324,9,324,10,1],[325,13,327,71,1],[329,13,329,45,1],[330,13,330,77,1],[331,13,331,51,1],[332,13,335,53,1],[337,13,337,34,1],[338,13,338,48,1],[339,9,339,10,1],[342,9,342,10,1],[343,13,343,67,1],[344,13,344,55,1],[347,20,347,118,1],[348,13,348,14,1],[349,17,349,40,1],[350,17,350,18,1],[351,21,351,78,1],[352,21,352,66,1],[353,21,353,41,1],[354,17,354,18,1],[356,17,356,174,1],[357,17,357,48,1],[358,17,358,37,1],[360,17,360,31,1],[362,9,362,10,1],[365,9,365,10,1],[366,13,366,67,1],[367,13,367,55,1],[370,20,370,118,1],[371,13,371,14,1],[372,17,372,83,1],[373,17,373,62,1],[374,17,374,37,1],[375,17,375,35,1],[377,9,377,10,1],[380,9,380,10,1],[381,13,381,25,1],[382,13,382,14,0],[383,17,390,80,0],[391,17,391,33,0],[394,13,394,33,1],[395,13,412,76,1],[413,13,413,24,1],[414,9,414,10,1],[417,9,417,10,1],[418,13,418,33,1],[419,13,429,76,1],[430,13,430,24,1],[431,9,431,10,1],[435,17,435,18,1],[435,19,435,65,1],[435,66,435,67,1]]);
    </script>
  </body>
</html>