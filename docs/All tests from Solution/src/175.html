<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\Umbraco.Tests\Services\BaseServiceTest.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using NUnit.Framework;
using Umbraco.Core.Models;
using Umbraco.Tests.TestHelpers;
using Umbraco.Tests.TestHelpers.Entities;

namespace Umbraco.Tests.Services
{
	[TestFixture, RequiresSTA]
	public abstract class BaseServiceTest : BaseDatabaseFactoryTest
	{
		[SetUp]
		public override void Initialize()
		{        
			base.Initialize();

			CreateTestData();
		}

		[TearDown]
		public override void TearDown()
		{
			base.TearDown();
		}

		public virtual void CreateTestData()
		{
			//NOTE Maybe not the best way to create/save test data as we are using the services, which are being tested.

			//Create and Save ContentType &quot;umbTextpage&quot; -&gt; 1045
			ContentType contentType = MockedContentTypes.CreateSimpleContentType(&quot;umbTextpage&quot;, &quot;Textpage&quot;);
			contentType.Key = new Guid(&quot;1D3A8E6E-2EA9-4CC1-B229-1AEE19821522&quot;);
			ServiceContext.ContentTypeService.Save(contentType);

			//Create and Save Content &quot;Homepage&quot; based on &quot;umbTextpage&quot; -&gt; 1046
			Content textpage = MockedContent.CreateSimpleContent(contentType);
			textpage.Key = new Guid(&quot;B58B3AD4-62C2-4E27-B1BE-837BD7C533E0&quot;);
			ServiceContext.ContentService.Save(textpage, 0);

			//Create and Save Content &quot;Text Page 1&quot; based on &quot;umbTextpage&quot; -&gt; 1047
			Content subpage = MockedContent.CreateSimpleContent(contentType, &quot;Text Page 1&quot;, textpage.Id);
			subpage.ReleaseDate = DateTime.Now.AddMinutes(-5);
            subpage.ChangePublishedState(PublishedState.Saved);
			ServiceContext.ContentService.Save(subpage, 0);

			//Create and Save Content &quot;Text Page 1&quot; based on &quot;umbTextpage&quot; -&gt; 1048
			Content subpage2 = MockedContent.CreateSimpleContent(contentType, &quot;Text Page 2&quot;, textpage.Id);
			ServiceContext.ContentService.Save(subpage2, 0);

			//Create and Save Content &quot;Text Page Deleted&quot; based on &quot;umbTextpage&quot; -&gt; 1049
			Content trashed = MockedContent.CreateSimpleContent(contentType, &quot;Text Page Deleted&quot;, -20);
			trashed.Trashed = true;
			ServiceContext.ContentService.Save(trashed, 0);
        }
	}
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[14,3,14,4,1],[15,4,15,22,1],[17,4,17,21,1],[18,3,18,4,1],[22,3,22,4,1],[23,4,23,20,1],[24,3,24,4,1],[27,3,27,4,1],[31,4,31,100,1],[32,4,32,71,1],[33,4,33,56,1],[36,4,36,70,1],[37,4,37,68,1],[38,4,38,52,1],[41,4,41,97,1],[42,4,42,54,1],[43,13,43,64,1],[44,4,44,51,1],[47,4,47,98,1],[48,4,48,52,1],[51,4,51,95,1],[52,4,52,27,1],[53,4,53,51,1],[54,9,54,10,1]]);
    </script>
  </body>
</html>