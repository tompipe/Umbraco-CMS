<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\umbraco.editorControls\MultiNodeTreePicker\SelectedItemsTemplate.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.Web;
using System.Web.UI;
using System.Web.UI.HtmlControls;
using System.Web.UI.WebControls;
using umbraco.controls.Images;
using Umbraco.Core.IO;

namespace umbraco.editorControls.MultiNodeTreePicker
{
    /// &lt;summary&gt;
    /// The item template for the selected items repeater
    /// &lt;/summary&gt;
    [Obsolete(&quot;IDataType and all other references to the legacy property editors are no longer used this will be removed from the codebase in future versions&quot;)]
    internal class SelectedItemsTemplate : ITemplate
    {
        #region ITemplate Members

        /// &lt;summary&gt;
        /// Creates the template for the repeater item
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;container&quot;&gt;&lt;/param&gt;
        public void InstantiateIn(Control container)
        {            
            var itemDiv = new HtmlGenericControl(&quot;div&quot;);
            itemDiv.ID = &quot;Item&quot;;
            itemDiv.Attributes.Add(&quot;class&quot;, &quot;item&quot;);

            var page = (Page)HttpContext.Current.CurrentHandler;
            var imgPreview = (ImageViewer)page.LoadControl(
                string.Concat(SystemDirectories.Umbraco, &quot;/controls/Images/ImageViewer.ascx&quot;));

            imgPreview.ID = &quot;ImgPreview&quot;;
            imgPreview.Visible = false; //hidden by default
            imgPreview.ViewerStyle = ImageViewer.Style.Basic;
            itemDiv.Controls.Add(imgPreview);

            var infoBtn = new HtmlAnchor();
            infoBtn.ID = &quot;InfoButton&quot;;
            infoBtn.HRef = &quot;javascript:void(0);&quot;;
            infoBtn.Attributes.Add(&quot;class&quot;, &quot;info&quot;);
            itemDiv.Controls.Add(infoBtn);

            var innerDiv = new HtmlGenericControl(&quot;div&quot;);
            innerDiv.ID = &quot;InnerItem&quot;;
            innerDiv.Attributes.Add(&quot;class&quot;, &quot;inner&quot;);

            innerDiv.Controls.Add(
                new LiteralControl(@&quot;&lt;ul class=&quot;&quot;rightNode&quot;&quot;&gt;&quot;));

            var liSelectNode = new HtmlGenericControl(&quot;li&quot;);
            liSelectNode.Attributes.Add(&quot;class&quot;, &quot;closed&quot;);
            liSelectNode.ID = &quot;SelectedNodeListItem&quot;;
            innerDiv.Controls.Add(liSelectNode);

            var selectedNodeLink = new HtmlAnchor();
            selectedNodeLink.ID = &quot;SelectedNodeLink&quot;;
            selectedNodeLink.Attributes.Add(&quot;class&quot;, &quot;sprTree&quot;);
            selectedNodeLink.Attributes.Add(&quot;title&quot;, &quot;Sync tree&quot;);
            innerDiv.Controls.Add(selectedNodeLink);

            var selectedNodeText = new Literal();
            selectedNodeText.ID = &quot;SelectedNodeText&quot;;
            innerDiv.Controls.Add(selectedNodeText);

            selectedNodeLink.Controls.Add(new LiteralControl(&quot;&lt;div&gt;&quot;));
            selectedNodeLink.Controls.Add(selectedNodeText);
            selectedNodeLink.Controls.Add(new LiteralControl(&quot;&lt;/div&gt;&quot;));

            liSelectNode.Controls.Add(selectedNodeLink);

            innerDiv.Controls.Add(
                new LiteralControl(@&quot;&lt;/ul&gt;&lt;a class=&#39;close&#39; title=&#39;Remove&#39; href=&#39;javascript:void(0);&#39;&gt;&lt;/a&gt;&quot;));

            itemDiv.Controls.Add(innerDiv);

            container.Controls.Add(itemDiv);
        }

        #endregion
    }
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[24,9,24,10,0],[25,13,25,57,0],[26,13,26,33,0],[27,13,27,53,0],[29,13,29,65,0],[30,13,31,96,0],[33,13,33,42,0],[34,13,34,40,0],[35,13,35,62,0],[36,13,36,46,0],[38,13,38,44,0],[39,13,39,39,0],[40,13,40,50,0],[41,13,41,53,0],[42,13,42,43,0],[44,13,44,58,0],[45,13,45,39,0],[46,13,46,55,0],[48,13,49,66,0],[51,13,51,61,0],[52,13,52,60,0],[53,13,53,54,0],[54,13,54,49,0],[56,13,56,53,0],[57,13,57,54,0],[58,13,58,65,0],[59,13,59,67,0],[60,13,60,53,0],[62,13,62,50,0],[63,13,63,54,0],[64,13,64,53,0],[66,13,66,72,0],[67,13,67,61,0],[68,13,68,73,0],[70,13,70,57,0],[72,13,73,110,0],[75,13,75,44,0],[77,13,77,45,0],[78,9,78,10,0]]);
    </script>
  </body>
</html>