<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\Umbraco.Web\umbraco.presentation\umbraco\webservices\Settings.asmx.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.Collections;
using System.ComponentModel;
using System.Data;
using System.Diagnostics;
using System.Web;
using System.Web.Services;
using System.Linq;
using System.Xml;
using Umbraco.Core;
using Umbraco.Web.WebServices;
using umbraco.BusinessLogic;

namespace umbraco.webservices
{

    public class Settings : UmbracoAuthorizedWebService
	{
		
		[WebMethod]
		public XmlNode GetTabs(string ContextID, int ContentTypeId)
		{
            if (!AuthorizeRequest(DefaultApps.settings.ToString()))
			{
				var xmlDoc = new XmlDocument();
				var tabs = xmlDoc.CreateElement(&quot;tabs&quot;);
                foreach (var t in new cms.businesslogic.ContentType(ContentTypeId).getVirtualTabs.ToList()) 
				{
					var mXml = xmlDoc.CreateElement(&quot;tab&quot;);
					mXml.Attributes.Append(XmlHelper.AddAttribute(xmlDoc, &quot;id&quot;, t.Id.ToString()));
                    mXml.Attributes.Append(XmlHelper.AddAttribute(xmlDoc, &quot;caption&quot;, t.Caption));
					tabs.AppendChild(mXml);
				}
				return tabs;
			}

		    return null;
		}
	}
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[22,3,22,4,0],[23,13,23,68,0],[24,4,24,5,0],[25,5,25,36,0],[26,5,26,45,0],[27,17,27,24,0],[27,26,27,31,0],[27,32,27,34,0],[27,35,27,107,0],[28,5,28,6,0],[29,6,29,45,0],[30,6,30,84,0],[31,21,31,98,0],[32,6,32,29,0],[33,5,33,6,0],[34,5,34,17,0],[37,7,37,19,0],[38,3,38,4,0]]);
    </script>
  </body>
</html>