<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\Umbraco.Web\UmbracoHelper.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.ComponentModel;
using System.Web;
using System.Web.Security;
using System.Xml.Linq;
using System.Xml.XPath;
using Umbraco.Core;
using Umbraco.Core.Dictionary;
using Umbraco.Core.Dynamics;
using Umbraco.Core.Models;
using Umbraco.Core.Security;
using Umbraco.Core.Services;
using Umbraco.Core.Xml;
using Umbraco.Web.Routing;
using Umbraco.Web.Security;
using System.Collections.Generic;
using System.IO;
using System.Linq;
using System.Web.Mvc;
using System.Web.Routing;
using Umbraco.Core.Cache;

namespace Umbraco.Web
{
    /// &lt;summary&gt;
	/// A helper class that provides many useful methods and functionality for using Umbraco in templates
	/// &lt;/summary&gt;
	public class UmbracoHelper : IUmbracoComponentRenderer
    {
		private readonly UmbracoContext _umbracoContext;
		private readonly IPublishedContent _currentPage;
        private readonly ITypedPublishedContentQuery _typedQuery;
        private readonly IDynamicPublishedContentQuery _dynamicQuery;
        private readonly HtmlStringUtilities _stringUtilities = new HtmlStringUtilities();

        private IUmbracoComponentRenderer _componentRenderer;
        private PublishedContentQuery _query;
        private MembershipHelper _membershipHelper;
        private TagQuery _tag;
        private IDataTypeService _dataTypeService;
        private UrlProvider _urlProvider;
        private ICultureDictionary _cultureDictionary;

        /// &lt;summary&gt;
        /// Lazy instantiates the tag context
        /// &lt;/summary&gt;
        public TagQuery TagQuery
        {
            //TODO: Unfortunately we cannot change this return value to be ITagQuery
            // since it&#39;s a breaking change, need to fix it for v8
            // http://issues.umbraco.org/issue/U4-6899

            get
            {
                return _tag ??
                       (_tag = new TagQuery(UmbracoContext.Application.Services.TagService,
                           _typedQuery ?? ContentQuery));
            }
        }

        /// &lt;summary&gt;
        /// Lazy instantiates the query context if not specified in the constructor
        /// &lt;/summary&gt;
        public PublishedContentQuery ContentQuery
        {
            get
            {
                //If the content query doesn&#39;t exist it will either be created with the ITypedPublishedContentQuery, IDynamicPublishedContentQuery
                // used to construct this instance or with the content caches of the UmbracoContext
                return _query ??
                       (_query = _typedQuery != null
                           ? new PublishedContentQuery(_typedQuery, _dynamicQuery)
                           : new PublishedContentQuery(UmbracoContext.ContentCache, UmbracoContext.MediaCache));
            }
        }

        /// &lt;summary&gt;
        /// Helper method to ensure an umbraco context is set when it is needed
        /// &lt;/summary&gt;
        public UmbracoContext UmbracoContext
        {
            get
            {
                if (_umbracoContext == null)
                {
                    throw new NullReferenceException(&quot;No &quot; + typeof(UmbracoContext) + &quot; reference has been set for this &quot; + typeof(UmbracoHelper) + &quot; instance&quot;);
                }
                return _umbracoContext;
            }
        }

        /// &lt;summary&gt;
        /// Lazy instantiates the membership helper if not specified in the constructor
        /// &lt;/summary&gt;
        public MembershipHelper MembershipHelper
        {
            get { return _membershipHelper ?? (_membershipHelper = new MembershipHelper(UmbracoContext)); }
        }

        /// &lt;summary&gt;
        /// Lazy instantiates the UrlProvider if not specified in the constructor
        /// &lt;/summary&gt;
        public UrlProvider UrlProvider
        {
            get { return _urlProvider ?? (_urlProvider = UmbracoContext.UrlProvider); }
        }

        /// &lt;summary&gt;
        /// Lazy instantiates the IDataTypeService if not specified in the constructor
        /// &lt;/summary&gt;
        public IDataTypeService DataTypeService
        {
            get { return _dataTypeService ?? (_dataTypeService = UmbracoContext.Application.Services.DataTypeService); }
        }

        /// &lt;summary&gt;
        /// Lazy instantiates the IUmbracoComponentRenderer if not specified in the constructor
        /// &lt;/summary&gt;
        public IUmbracoComponentRenderer UmbracoComponentRenderer
        {
            get { return _componentRenderer ?? (_componentRenderer = new UmbracoComponentRenderer(UmbracoContext)); }
        }

        #region Constructors
        /// &lt;summary&gt;
        /// Empty constructor to create an umbraco helper for access to methods that don&#39;t have dependencies
        /// &lt;/summary&gt;
        public UmbracoHelper()
        {
        }

        /// &lt;summary&gt;
        /// Constructor accepting all dependencies
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;umbracoContext&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;content&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;typedQuery&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;dynamicQuery&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;tagQuery&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;dataTypeService&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;urlProvider&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;cultureDictionary&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;componentRenderer&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;membershipHelper&quot;&gt;&lt;/param&gt;
        /// &lt;remarks&gt;
        /// This constructor can be used to create a testable UmbracoHelper
        /// &lt;/remarks&gt;
        public UmbracoHelper(UmbracoContext umbracoContext, IPublishedContent content,
            ITypedPublishedContentQuery typedQuery,
            IDynamicPublishedContentQuery dynamicQuery,
            ITagQuery tagQuery,
            IDataTypeService dataTypeService,
            UrlProvider urlProvider,
            ICultureDictionary cultureDictionary,
            IUmbracoComponentRenderer componentRenderer,
            MembershipHelper membershipHelper)
        {
            if (umbracoContext == null) throw new ArgumentNullException(&quot;umbracoContext&quot;);
            if (content == null) throw new ArgumentNullException(&quot;content&quot;);
            if (typedQuery == null) throw new ArgumentNullException(&quot;typedQuery&quot;);
            if (dynamicQuery == null) throw new ArgumentNullException(&quot;dynamicQuery&quot;);
            if (tagQuery == null) throw new ArgumentNullException(&quot;tagQuery&quot;);
            if (dataTypeService == null) throw new ArgumentNullException(&quot;dataTypeService&quot;);
            if (urlProvider == null) throw new ArgumentNullException(&quot;urlProvider&quot;);
            if (cultureDictionary == null) throw new ArgumentNullException(&quot;cultureDictionary&quot;);
            if (componentRenderer == null) throw new ArgumentNullException(&quot;componentRenderer&quot;);
            if (membershipHelper == null) throw new ArgumentNullException(&quot;membershipHelper&quot;);

            _umbracoContext = umbracoContext;
            _tag = new TagQuery(tagQuery);
            _dataTypeService = dataTypeService;
            _urlProvider = urlProvider;
            _cultureDictionary = cultureDictionary;
            _componentRenderer = componentRenderer;
            _membershipHelper = membershipHelper;
            _currentPage = content;
            _typedQuery = typedQuery;
            _dynamicQuery = dynamicQuery;
        }

        [Obsolete(&quot;Use the constructor specifying all dependencies&quot;)]
        [EditorBrowsable(EditorBrowsableState.Never)]
        public UmbracoHelper(UmbracoContext umbracoContext, IPublishedContent content, PublishedContentQuery query)
            : this(umbracoContext)
        {
            if (content == null) throw new ArgumentNullException(&quot;content&quot;);
            if (query == null) throw new ArgumentNullException(&quot;query&quot;);
            _currentPage = content;
            _query = query;
        }

        /// &lt;summary&gt;
        /// Custom constructor setting the current page to the parameter passed in
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;umbracoContext&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;content&quot;&gt;&lt;/param&gt;
        public UmbracoHelper(UmbracoContext umbracoContext, IPublishedContent content)
            : this(umbracoContext)
        {
            if (content == null) throw new ArgumentNullException(&quot;content&quot;);
            _currentPage = content;
        }

        /// &lt;summary&gt;
        /// Standard constructor setting the current page to the page that has been routed to
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;umbracoContext&quot;&gt;&lt;/param&gt;
        public UmbracoHelper(UmbracoContext umbracoContext)
        {
            if (umbracoContext == null) throw new ArgumentNullException(&quot;umbracoContext&quot;);
            if (umbracoContext.RoutingContext == null) throw new NullReferenceException(&quot;The RoutingContext on the UmbracoContext cannot be null&quot;);

            _umbracoContext = umbracoContext;
            if (_umbracoContext.IsFrontEndUmbracoRequest)
            {
                _currentPage = _umbracoContext.PublishedContentRequest.PublishedContent;
            }
        }

        [Obsolete(&quot;Use the constructor specifying all dependencies&quot;)]
        [EditorBrowsable(EditorBrowsableState.Never)]
        public UmbracoHelper(UmbracoContext umbracoContext, PublishedContentQuery query)
            : this(umbracoContext)
        {
            if (query == null) throw new ArgumentNullException(&quot;query&quot;);
            _query = query;
        }
        #endregion

        /// &lt;summary&gt;
        /// Returns the current IPublishedContent item assigned to the UmbracoHelper
        /// &lt;/summary&gt;
        /// &lt;remarks&gt;
        /// Note that this is the assigned IPublishedContent item to the UmbracoHelper, this is not necessarily the Current IPublishedContent item
        /// being rendered. This IPublishedContent object is contextual to the current UmbracoHelper instance.
        ///
        /// In some cases accessing this property will throw an exception if there is not IPublishedContent assigned to the Helper
        /// this will only ever happen if the Helper is constructed with an UmbracoContext and it is not a front-end request
        /// &lt;/remarks&gt;
        /// &lt;exception cref=&quot;InvalidOperationException&quot;&gt;Thrown if the UmbracoHelper is constructed with an UmbracoContext and it is not a front-end request&lt;/exception&gt;
	    public IPublishedContent AssignedContentItem
	    {
	        get
	        {
	            if (_currentPage == null)
                    throw new InvalidOperationException(&quot;Cannot return the &quot; + typeof(IPublishedContent).Name + &quot; because the &quot; + typeof(UmbracoHelper).Name + &quot; was constructed with an &quot; + typeof(UmbracoContext).Name + &quot; and the current request is not a front-end request.&quot;);

                return _currentPage;
	        }
	    }

	    /// &lt;summary&gt;
		/// Renders the template for the specified pageId and an optional altTemplateId
		/// &lt;/summary&gt;
		/// &lt;param name=&quot;pageId&quot;&gt;&lt;/param&gt;
		/// &lt;param name=&quot;altTemplateId&quot;&gt;If not specified, will use the template assigned to the node&lt;/param&gt;
		/// &lt;returns&gt;&lt;/returns&gt;
		public IHtmlString RenderTemplate(int pageId, int? altTemplateId = null)
	    {
            return UmbracoComponentRenderer.RenderTemplate(pageId, altTemplateId);
	    }

		#region RenderMacro

		/// &lt;summary&gt;
		/// Renders the macro with the specified alias.
		/// &lt;/summary&gt;
		/// &lt;param name=&quot;alias&quot;&gt;The alias.&lt;/param&gt;
		/// &lt;returns&gt;&lt;/returns&gt;
		public IHtmlString RenderMacro(string alias)
		{
            return UmbracoComponentRenderer.RenderMacro(alias, new { });
		}

		/// &lt;summary&gt;
		/// Renders the macro with the specified alias, passing in the specified parameters.
		/// &lt;/summary&gt;
		/// &lt;param name=&quot;alias&quot;&gt;The alias.&lt;/param&gt;
		/// &lt;param name=&quot;parameters&quot;&gt;The parameters.&lt;/param&gt;
		/// &lt;returns&gt;&lt;/returns&gt;
		public IHtmlString RenderMacro(string alias, object parameters)
		{
            return UmbracoComponentRenderer.RenderMacro(alias, parameters.ToDictionary&lt;object&gt;());
		}

		/// &lt;summary&gt;
		/// Renders the macro with the specified alias, passing in the specified parameters.
		/// &lt;/summary&gt;
		/// &lt;param name=&quot;alias&quot;&gt;The alias.&lt;/param&gt;
		/// &lt;param name=&quot;parameters&quot;&gt;The parameters.&lt;/param&gt;
		/// &lt;returns&gt;&lt;/returns&gt;
		public IHtmlString RenderMacro(string alias, IDictionary&lt;string, object&gt; parameters)
		{
            return UmbracoComponentRenderer.RenderMacro(alias, parameters);
		}

		#endregion

		#region Field

		/// &lt;summary&gt;
		/// Renders an field to the template
		/// &lt;/summary&gt;
		/// &lt;param name=&quot;fieldAlias&quot;&gt;&lt;/param&gt;
		/// &lt;param name=&quot;altFieldAlias&quot;&gt;&lt;/param&gt;
		/// &lt;param name=&quot;altText&quot;&gt;&lt;/param&gt;
		/// &lt;param name=&quot;insertBefore&quot;&gt;&lt;/param&gt;
		/// &lt;param name=&quot;insertAfter&quot;&gt;&lt;/param&gt;
		/// &lt;param name=&quot;recursive&quot;&gt;&lt;/param&gt;
		/// &lt;param name=&quot;convertLineBreaks&quot;&gt;&lt;/param&gt;
		/// &lt;param name=&quot;removeParagraphTags&quot;&gt;&lt;/param&gt;
		/// &lt;param name=&quot;casing&quot;&gt;&lt;/param&gt;
		/// &lt;param name=&quot;encoding&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;formatAsDate&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;formatAsDateWithTime&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;formatAsDateWithTimeSeparator&quot;&gt;&lt;/param&gt;
        //// &lt;param name=&quot;formatString&quot;&gt;&lt;/param&gt;
		/// &lt;returns&gt;&lt;/returns&gt;
		public IHtmlString Field(string fieldAlias,
			string altFieldAlias = &quot;&quot;, string altText = &quot;&quot;, string insertBefore = &quot;&quot;, string insertAfter = &quot;&quot;,
			bool recursive = false, bool convertLineBreaks = false, bool removeParagraphTags = false,
			RenderFieldCaseType casing = RenderFieldCaseType.Unchanged,
            RenderFieldEncodingType encoding = RenderFieldEncodingType.Unchanged,
            bool formatAsDate = false,
            bool formatAsDateWithTime = false,
            string formatAsDateWithTimeSeparator = &quot;&quot;)
		{
            return UmbracoComponentRenderer.Field(AssignedContentItem, fieldAlias, altFieldAlias,
                altText, insertBefore, insertAfter, recursive, convertLineBreaks, removeParagraphTags,
                casing, encoding, formatAsDate, formatAsDateWithTime, formatAsDateWithTimeSeparator);
		}

		/// &lt;summary&gt;
		/// Renders an field to the template
		/// &lt;/summary&gt;
		/// &lt;param name=&quot;currentPage&quot;&gt;&lt;/param&gt;
		/// &lt;param name=&quot;fieldAlias&quot;&gt;&lt;/param&gt;
		/// &lt;param name=&quot;altFieldAlias&quot;&gt;&lt;/param&gt;
		/// &lt;param name=&quot;altText&quot;&gt;&lt;/param&gt;
		/// &lt;param name=&quot;insertBefore&quot;&gt;&lt;/param&gt;
		/// &lt;param name=&quot;insertAfter&quot;&gt;&lt;/param&gt;
		/// &lt;param name=&quot;recursive&quot;&gt;&lt;/param&gt;
		/// &lt;param name=&quot;convertLineBreaks&quot;&gt;&lt;/param&gt;
		/// &lt;param name=&quot;removeParagraphTags&quot;&gt;&lt;/param&gt;
		/// &lt;param name=&quot;casing&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;encoding&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;formatAsDate&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;formatAsDateWithTime&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;formatAsDateWithTimeSeparator&quot;&gt;&lt;/param&gt;
		//// &lt;param name=&quot;formatString&quot;&gt;&lt;/param&gt;
		/// &lt;returns&gt;&lt;/returns&gt;
		public IHtmlString Field(IPublishedContent currentPage, string fieldAlias,
			string altFieldAlias = &quot;&quot;, string altText = &quot;&quot;, string insertBefore = &quot;&quot;, string insertAfter = &quot;&quot;,
			bool recursive = false, bool convertLineBreaks = false, bool removeParagraphTags = false,
			RenderFieldCaseType casing = RenderFieldCaseType.Unchanged,
			RenderFieldEncodingType encoding = RenderFieldEncodingType.Unchanged,
            bool formatAsDate =  false,
            bool formatAsDateWithTime = false,
            string formatAsDateWithTimeSeparator = &quot;&quot;)
		{
            return UmbracoComponentRenderer.Field(currentPage, fieldAlias, altFieldAlias,
                altText, insertBefore, insertAfter, recursive, convertLineBreaks, removeParagraphTags,
                casing, encoding, formatAsDate, formatAsDateWithTime, formatAsDateWithTimeSeparator);
		}

		#endregion

		#region Dictionary

		/// &lt;summary&gt;
		/// Returns the dictionary value for the key specified
		/// &lt;/summary&gt;
		/// &lt;param name=&quot;key&quot;&gt;&lt;/param&gt;
		/// &lt;returns&gt;&lt;/returns&gt;
		public string GetDictionaryValue(string key)
		{
            return CultureDictionary[key];
		}
        /// &lt;summary&gt;
        /// Returns the dictionary value for the key specified, and if empty returns the specified default fall back value
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;key&quot;&gt;key of dictionary item&lt;/param&gt;
        /// &lt;param name=&quot;altText&quot;&gt;fall back text if dictionary item is empty - Name altText to match Umbraco.Field&lt;/param&gt;
        /// &lt;returns&gt;&lt;/returns&gt;
        public string GetDictionaryValue(string key, string altText)
        {
            var dictionaryValue = GetDictionaryValue(key);
            if (String.IsNullOrWhiteSpace(dictionaryValue))
            {
                dictionaryValue = altText;
            }
            return dictionaryValue;
        }
        /// &lt;summary&gt;
        /// Returns the ICultureDictionary for access to dictionary items
        /// &lt;/summary&gt;
        public ICultureDictionary CultureDictionary
        {
            get
            {
                if (_cultureDictionary == null)
                {
                    var factory = CultureDictionaryFactoryResolver.Current.Factory;
                    _cultureDictionary = factory.CreateDictionary();
                }
                return _cultureDictionary;
            }
        }

		#endregion

		#region Membership

		[EditorBrowsable(EditorBrowsableState.Never)]
		[Obsolete(&quot;Use the IsProtected method that only specifies path&quot;)]
        public bool IsProtected(int documentId, string path)
		{
            return IsProtected(path.EnsureEndsWith(&quot;,&quot; + documentId));
		}

        /// &lt;summary&gt;
        /// Check if a document object is protected by the &quot;Protect Pages&quot; functionality in umbraco
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;path&quot;&gt;The full path of the document object to check&lt;/param&gt;
        /// &lt;returns&gt;True if the document object is protected&lt;/returns&gt;
        public bool IsProtected(string path)
        {
            return UmbracoContext.Application.Services.PublicAccessService.IsProtected(path);
        }

        [EditorBrowsable(EditorBrowsableState.Never)]
        [Obsolete(&quot;Use the MemberHasAccess method that only specifies path&quot;)]
        public bool MemberHasAccess(int nodeId, string path)
        {
            return MemberHasAccess(path.EnsureEndsWith(&quot;,&quot; + nodeId));
        }

        /// &lt;summary&gt;
        /// Check if the current user has access to a document
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;path&quot;&gt;The full path of the document object to check&lt;/param&gt;
        /// &lt;returns&gt;True if the current user has access or if the current document isn&#39;t protected&lt;/returns&gt;
        public bool MemberHasAccess(string path)
        {
            if (IsProtected(path))
            {
                return MembershipHelper.IsLoggedIn()
                       &amp;&amp; UmbracoContext.Application.Services.PublicAccessService.HasAccess(path, GetCurrentMember(), Roles.Provider);
            }
            return true;
        }

        /// &lt;summary&gt;
        /// Gets (or adds) the current member from the current request cache
        /// &lt;/summary&gt;
        private MembershipUser GetCurrentMember()
        {
            return UmbracoContext.Application.ApplicationCache.RequestCache
                .GetCacheItem&lt;MembershipUser&gt;(&quot;UmbracoHelper.GetCurrentMember&quot;, () =&gt;
                {
                    var provider = Core.Security.MembershipProviderExtensions.GetMembersMembershipProvider();
                    return provider.GetCurrentUser();
                });
        }

		/// &lt;summary&gt;
		/// Whether or not the current member is logged in (based on the membership provider)
		/// &lt;/summary&gt;
		/// &lt;returns&gt;True is the current user is logged in&lt;/returns&gt;
		public bool MemberIsLoggedOn()
		{
            return MembershipHelper.IsLoggedIn();
		}

		#endregion

		#region NiceUrls

		/// &lt;summary&gt;
		/// Returns a string with a friendly url from a node.
		/// IE.: Instead of having /482 (id) as an url, you can have
		/// /screenshots/developer/macros (spoken url)
		/// &lt;/summary&gt;
		/// &lt;param name=&quot;nodeId&quot;&gt;Identifier for the node that should be returned&lt;/param&gt;
		/// &lt;returns&gt;String with a friendly url from a node&lt;/returns&gt;
		public string NiceUrl(int nodeId)
		{
		    return Url(nodeId);
		}

        /// &lt;summary&gt;
        /// Gets the url of a content identified by its identifier.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;contentId&quot;&gt;The content identifier.&lt;/param&gt;
        /// &lt;returns&gt;The url for the content.&lt;/returns&gt;
        public string Url(int contentId)
        {
            return UrlProvider.GetUrl(contentId);
        }

        /// &lt;summary&gt;
        /// Gets the url of a content identified by its identifier, in a specified mode.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;contentId&quot;&gt;The content identifier.&lt;/param&gt;
        /// &lt;param name=&quot;mode&quot;&gt;The mode.&lt;/param&gt;
        /// &lt;returns&gt;The url for the content.&lt;/returns&gt;
	    public string Url(int contentId, UrlProviderMode mode)
	    {
            return UrlProvider.GetUrl(contentId, mode);
	    }

		/// &lt;summary&gt;
		/// This method will always add the domain to the path if the hostnames are set up correctly.
		/// &lt;/summary&gt;
		/// &lt;param name=&quot;nodeId&quot;&gt;Identifier for the node that should be returned&lt;/param&gt;
		/// &lt;returns&gt;String with a friendly url with full domain from a node&lt;/returns&gt;
		public string NiceUrlWithDomain(int nodeId)
		{
		    return UrlAbsolute(nodeId);
		}

        /// &lt;summary&gt;
        /// Gets the absolute url of a content identified by its identifier.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;contentId&quot;&gt;The content identifier.&lt;/param&gt;
        /// &lt;returns&gt;The absolute url for the content.&lt;/returns&gt;
        public string UrlAbsolute(int contentId)
        {
            return UrlProvider.GetUrl(contentId, true);
        }

		#endregion

        #region Members

        public IPublishedContent TypedMember(object id)
        {
            var asInt = id.TryConvertTo&lt;int&gt;();
            return asInt ? MembershipHelper.GetById(asInt.Result) : MembershipHelper.GetByProviderKey(id);
        }

        public IPublishedContent TypedMember(int id)
        {
            return MembershipHelper.GetById(id);
        }

        public IPublishedContent TypedMember(string id)
        {
            var asInt = id.TryConvertTo&lt;int&gt;();
            return asInt ? MembershipHelper.GetById(asInt.Result) : MembershipHelper.GetByProviderKey(id);
        }

        public dynamic Member(object id)
        {
            var asInt = id.TryConvertTo&lt;int&gt;();
            return asInt
                ? MembershipHelper.GetById(asInt.Result).AsDynamic()
                : MembershipHelper.GetByProviderKey(id).AsDynamic();
        }

        public dynamic Member(int id)
        {
            return MembershipHelper.GetById(id).AsDynamic();
        }

        public dynamic Member(string id)
        {
            var asInt = id.TryConvertTo&lt;int&gt;();
            return asInt
                ? MembershipHelper.GetById(asInt.Result).AsDynamic()
                : MembershipHelper.GetByProviderKey(id).AsDynamic();
        }

        #endregion

        #region Content

        /// &lt;summary&gt;
        /// Gets a content item from the cache.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;id&quot;&gt;The unique identifier, or the key, of the content item.&lt;/param&gt;
        /// &lt;returns&gt;The content, or null of the content item is not in the cache.&lt;/returns&gt;
        public IPublishedContent TypedContent(object id)
        {
            return TypedContentForObject(id);
		}

        private IPublishedContent TypedContentForObject(object id)
        {
            int intId;
            if (ConvertIdObjectToInt(id, out intId))
                return ContentQuery.TypedContent(intId);
            Guid guidId;
            if (ConvertIdObjectToGuid(id, out guidId))
                return ContentQuery.TypedContent(guidId);
            return null;
        }

        /// &lt;summary&gt;
        /// Gets a content item from the cache.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;id&quot;&gt;The unique identifier of the content item.&lt;/param&gt;
        /// &lt;returns&gt;The content, or null of the content item is not in the cache.&lt;/returns&gt;
        public IPublishedContent TypedContent(int id)
		{
            return ContentQuery.TypedContent(id);
		}

        /// &lt;summary&gt;
        /// Gets a content item from the cache.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;id&quot;&gt;The key of the content item.&lt;/param&gt;
        /// &lt;returns&gt;The content, or null of the content item is not in the cache.&lt;/returns&gt;
        public IPublishedContent TypedContent(Guid id)
        {
            return ContentQuery.TypedContent(id);
        }

        /// &lt;summary&gt;
        /// Gets a content item from the cache.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;id&quot;&gt;The unique identifier, or the key, of the content item.&lt;/param&gt;
        /// &lt;returns&gt;The content, or null of the content item is not in the cache.&lt;/returns&gt;
		public IPublishedContent TypedContent(string id)
		{
            return TypedContentForObject(id);
        }

        public IPublishedContent TypedContentSingleAtXPath(string xpath, params XPathVariable[] vars)
        {
            return ContentQuery.TypedContentSingleAtXPath(xpath, vars);
        }

        /// &lt;summary&gt;
        /// Gets content items from the cache.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;ids&quot;&gt;The unique identifiers, or the keys, of the content items.&lt;/param&gt;
        /// &lt;returns&gt;The content items that were found in the cache.&lt;/returns&gt;
        /// &lt;remarks&gt;Does not support mixing identifiers and keys.&lt;/remarks&gt;
		public IEnumerable&lt;IPublishedContent&gt; TypedContent(params object[] ids)
		{
		    return TypedContentForObjects(ids);
		}

        private IEnumerable&lt;IPublishedContent&gt; TypedContentForObjects(IEnumerable&lt;object&gt; ids)
        {
            var idsA = ids.ToArray();
            IEnumerable&lt;int&gt; intIds;
            if (ConvertIdsObjectToInts(idsA, out intIds))
                return ContentQuery.TypedContent(intIds);
            IEnumerable&lt;Guid&gt; guidIds;
            if (ConvertIdsObjectToGuids(idsA, out guidIds))
                return ContentQuery.TypedContent(guidIds);
            return Enumerable.Empty&lt;IPublishedContent&gt;();
        }

        /// &lt;summary&gt;
        /// Gets content items from the cache.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;ids&quot;&gt;The unique identifiers of the content items.&lt;/param&gt;
        /// &lt;returns&gt;The content items that were found in the cache.&lt;/returns&gt;
		public IEnumerable&lt;IPublishedContent&gt; TypedContent(params int[] ids)
		{
            return ContentQuery.TypedContent(ids);
		}

        /// &lt;summary&gt;
        /// Gets content items from the cache.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;ids&quot;&gt;The keys of the content items.&lt;/param&gt;
        /// &lt;returns&gt;The content items that were found in the cache.&lt;/returns&gt;
        public IEnumerable&lt;IPublishedContent&gt; TypedContent(params Guid[] ids)
        {
            return ContentQuery.TypedContent(ids);
        }

        /// &lt;summary&gt;
        /// Gets content items from the cache.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;ids&quot;&gt;The unique identifiers, or the keys, of the content items.&lt;/param&gt;
        /// &lt;returns&gt;The content items that were found in the cache.&lt;/returns&gt;
        /// &lt;remarks&gt;Does not support mixing identifiers and keys.&lt;/remarks&gt;
        public IEnumerable&lt;IPublishedContent&gt; TypedContent(params string[] ids)
        {
            return TypedContentForObjects(ids);
		}

        /// &lt;summary&gt;
        /// Gets the contents corresponding to the identifiers.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;ids&quot;&gt;The content identifiers.&lt;/param&gt;
        /// &lt;returns&gt;The existing contents corresponding to the identifiers.&lt;/returns&gt;
        /// &lt;remarks&gt;If an identifier does not match an existing content, it will be missing in the returned value.&lt;/remarks&gt;
        public IEnumerable&lt;IPublishedContent&gt; TypedContent(IEnumerable&lt;object&gt; ids)
        {
            return TypedContentForObjects(ids);
		}

        /// &lt;summary&gt;
        /// Gets the contents corresponding to the identifiers.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;ids&quot;&gt;The content identifiers.&lt;/param&gt;
        /// &lt;returns&gt;The existing contents corresponding to the identifiers.&lt;/returns&gt;
        /// &lt;remarks&gt;If an identifier does not match an existing content, it will be missing in the returned value.&lt;/remarks&gt;
        public IEnumerable&lt;IPublishedContent&gt; TypedContent(IEnumerable&lt;string&gt; ids)
		{
            return TypedContentForObjects(ids);
		}

        /// &lt;summary&gt;
        /// Gets the contents corresponding to the identifiers.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;ids&quot;&gt;The content identifiers.&lt;/param&gt;
        /// &lt;returns&gt;The existing contents corresponding to the identifiers.&lt;/returns&gt;
        /// &lt;remarks&gt;If an identifier does not match an existing content, it will be missing in the returned value.&lt;/remarks&gt;
        public IEnumerable&lt;IPublishedContent&gt; TypedContent(IEnumerable&lt;int&gt; ids)
		{
            return ContentQuery.TypedContent(ids);
		}

        public IEnumerable&lt;IPublishedContent&gt; TypedContentAtXPath(string xpath, params XPathVariable[] vars)
        {
            return ContentQuery.TypedContentAtXPath(xpath, vars);
        }

        public IEnumerable&lt;IPublishedContent&gt; TypedContentAtXPath(XPathExpression xpath, params XPathVariable[] vars)
        {
            return ContentQuery.TypedContentAtXPath(xpath, vars);
        }

        public IEnumerable&lt;IPublishedContent&gt; TypedContentAtRoot()
        {
            return ContentQuery.TypedContentAtRoot();
        }

        /// &lt;summary&gt;
        /// Gets a content item from the cache.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;id&quot;&gt;The unique identifier, or the key, of the content item.&lt;/param&gt;
        /// &lt;returns&gt;The content, or DynamicNull of the content item is not in the cache.&lt;/returns&gt;
		public dynamic Content(object id)
		{
		    return ContentForObject(id);
		}

        private dynamic ContentForObject(object id)
        {
            int intId;
            if (ConvertIdObjectToInt(id, out intId))
                return ContentQuery.Content(intId);
            Guid guidId;
            if (ConvertIdObjectToGuid(id, out guidId))
                return ContentQuery.Content(guidId);
            return DynamicNull.Null;
        }

        /// &lt;summary&gt;
        /// Gets a content item from the cache.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;id&quot;&gt;The unique identifier of the content item.&lt;/param&gt;
        /// &lt;returns&gt;The content, or DynamicNull of the content item is not in the cache.&lt;/returns&gt;
        public dynamic Content(int id)
		{
            return ContentQuery.Content(id);
		}

        /// &lt;summary&gt;
        /// Gets a content item from the cache.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;id&quot;&gt;The unique identifier, or the key, of the content item.&lt;/param&gt;
        /// &lt;returns&gt;The content, or DynamicNull of the content item is not in the cache.&lt;/returns&gt;
		public dynamic Content(string id)
		{
            return ContentForObject(id);
        }

        public dynamic ContentSingleAtXPath(string xpath, params XPathVariable[] vars)
        {
            return ContentQuery.ContentSingleAtXPath(xpath, vars);
        }

        public dynamic ContentSingleAtXPath(XPathExpression xpath, params XPathVariable[] vars)
        {
            return ContentQuery.ContentSingleAtXPath(xpath, vars);
        }

        /// &lt;summary&gt;
        /// Gets content items from the cache.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;ids&quot;&gt;The unique identifiers, or the keys, of the content items.&lt;/param&gt;
        /// &lt;returns&gt;The content items that were found in the cache.&lt;/returns&gt;
        /// &lt;remarks&gt;Does not support mixing identifiers and keys.&lt;/remarks&gt;
        public dynamic Content(params object[] ids)
        {
            return ContentForObjects(ids);
        }

        private dynamic ContentForObjects(IEnumerable&lt;object&gt; ids)
        {
            var idsA = ids.ToArray();
            IEnumerable&lt;int&gt; intIds;
            if (ConvertIdsObjectToInts(idsA, out intIds))
                return ContentQuery.Content(intIds);
            IEnumerable&lt;Guid&gt; guidIds;
            if (ConvertIdsObjectToGuids(idsA, out guidIds))
                return ContentQuery.Content(guidIds);
            return Enumerable.Empty&lt;IPublishedContent&gt;();
        }

        /// &lt;summary&gt;
        /// Gets content items from the cache.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;ids&quot;&gt;The unique identifiers of the content items.&lt;/param&gt;
        /// &lt;returns&gt;The content items that were found in the cache.&lt;/returns&gt;
        public dynamic Content(params int[] ids)
		{
            return ContentQuery.Content(ids);
		}

        /// &lt;summary&gt;
        /// Gets content items from the cache.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;ids&quot;&gt;The unique identifiers, or the keys, of the content items.&lt;/param&gt;
        /// &lt;returns&gt;The content items that were found in the cache.&lt;/returns&gt;
        /// &lt;remarks&gt;Does not support mixing identifiers and keys.&lt;/remarks&gt;
        public dynamic Content(params string[] ids)
		{
            return ContentForObjects(ids);
        }

        /// &lt;summary&gt;
        /// Gets content items from the cache.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;ids&quot;&gt;The unique identifiers, or the keys, of the content items.&lt;/param&gt;
        /// &lt;returns&gt;The content items that were found in the cache.&lt;/returns&gt;
        /// &lt;remarks&gt;Does not support mixing identifiers and keys.&lt;/remarks&gt;
        public dynamic Content(IEnumerable&lt;object&gt; ids)
		{
            return ContentForObjects(ids);
        }

        /// &lt;summary&gt;
        /// Gets content items from the cache.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;ids&quot;&gt;The unique identifiers of the content items.&lt;/param&gt;
        /// &lt;returns&gt;The content items that were found in the cache.&lt;/returns&gt;
        public dynamic Content(IEnumerable&lt;int&gt; ids)
		{
            return ContentQuery.Content(ids);
		}

        /// &lt;summary&gt;
        /// Gets content items from the cache.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;ids&quot;&gt;The unique identifiers, or the keys, of the content items.&lt;/param&gt;
        /// &lt;returns&gt;The content items that were found in the cache.&lt;/returns&gt;
        /// &lt;remarks&gt;Does not support mixing identifiers and keys.&lt;/remarks&gt;
        public dynamic Content(IEnumerable&lt;string&gt; ids)
		{
            return ContentForObjects(ids);
        }

        public dynamic ContentAtXPath(string xpath, params XPathVariable[] vars)
        {
            return ContentQuery.ContentAtXPath(xpath, vars);
        }

        public dynamic ContentAtXPath(XPathExpression xpath, params XPathVariable[] vars)
        {
            return ContentQuery.ContentAtXPath(xpath, vars);
        }

        public dynamic ContentAtRoot()
        {
            return ContentQuery.ContentAtRoot();
        }

        private static bool ConvertIdObjectToInt(object id, out int intId)
        {
            var s = id as string;
            if (s != null)
            {
                return int.TryParse(s, out intId);
            }
            if (id is int)
            {
                intId = (int) id;
                return true;
            }
            intId = default(int);
            return false;
        }

        private static bool ConvertIdObjectToGuid(object id, out Guid guidId)
        {
            var s = id as string;
            if (s != null)
            {
                return Guid.TryParse(s, out guidId);
            }
            if (id is Guid)
            {
                guidId = (Guid) id;
                return true;
            }
            guidId = default(Guid);
            return false;
        }

        private static bool ConvertIdsObjectToInts(IEnumerable&lt;object&gt; ids, out IEnumerable&lt;int&gt; intIds)
        {
            var list = new List&lt;int&gt;();
            intIds = null;
            foreach (var id in ids)
            {
                int intId;
                if (ConvertIdObjectToInt(id, out intId))
                    list.Add(intId);
                else
                    return false; // if one of them is not an int, fail
            }
            intIds = list;
            return true;
        }

        private static bool ConvertIdsObjectToGuids(IEnumerable&lt;object&gt; ids, out IEnumerable&lt;Guid&gt; guidIds)
        {
            var list = new List&lt;Guid&gt;();
            guidIds = null;
            foreach (var id in ids)
            {
                Guid guidId;
                if (ConvertIdObjectToGuid(id, out guidId))
                    list.Add(guidId);
                else
                    return false; // if one of them is not a guid, fail
            }
            guidIds = list;
            return true;
        }

		#endregion

		#region Media

		/// &lt;summary&gt;
		/// Overloaded method accepting an &#39;object&#39; type
		/// &lt;/summary&gt;
		/// &lt;param name=&quot;id&quot;&gt;&lt;/param&gt;
		/// &lt;returns&gt;&lt;/returns&gt;
		/// &lt;remarks&gt;
		/// We accept an object type because GetPropertyValue now returns an &#39;object&#39;, we still want to allow people to pass
		/// this result in to this method.
		/// This method will throw an exception if the value is not of type int or string.
		/// &lt;/remarks&gt;
		public IPublishedContent TypedMedia(object id)
		{
            int intId;
            return ConvertIdObjectToInt(id, out intId) ? ContentQuery.TypedMedia(intId) : null;
		}

		public IPublishedContent TypedMedia(int id)
		{
            return ContentQuery.TypedMedia(id);
		}

		public IPublishedContent TypedMedia(string id)
		{
            int intId;
            return ConvertIdObjectToInt(id, out intId) ? ContentQuery.TypedMedia(intId) : null;
		}

        /// &lt;summary&gt;
        /// Gets the medias corresponding to the identifiers.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;ids&quot;&gt;The media identifiers.&lt;/param&gt;
        /// &lt;returns&gt;The existing medias corresponding to the identifiers.&lt;/returns&gt;
        /// &lt;remarks&gt;If an identifier does not match an existing media, it will be missing in the returned value.&lt;/remarks&gt;
        public IEnumerable&lt;IPublishedContent&gt; TypedMedia(params object[] ids)
        {
            return TypedMediaForObjects(ids);
        }

        private IEnumerable&lt;IPublishedContent&gt; TypedMediaForObjects(IEnumerable&lt;object&gt; ids)
        {
            var idsA = ids.ToArray();
            IEnumerable&lt;int&gt; intIds;
            if (ConvertIdsObjectToInts(idsA, out intIds))
                return ContentQuery.TypedMedia(intIds);
            //IEnumerable&lt;Guid&gt; guidIds;
            //if (ConvertIdsObjectToGuids(idsA, out guidIds))
            //    return ContentQuery.TypedMedia(guidIds);
            return Enumerable.Empty&lt;IPublishedContent&gt;();
        }

        /// &lt;summary&gt;
        /// Gets the medias corresponding to the identifiers.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;ids&quot;&gt;The media identifiers.&lt;/param&gt;
        /// &lt;returns&gt;The existing medias corresponding to the identifiers.&lt;/returns&gt;
        /// &lt;remarks&gt;If an identifier does not match an existing media, it will be missing in the returned value.&lt;/remarks&gt;
        public IEnumerable&lt;IPublishedContent&gt; TypedMedia(params int[] ids)
		{
            return ContentQuery.TypedMedia(ids);
		}

        /// &lt;summary&gt;
        /// Gets the medias corresponding to the identifiers.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;ids&quot;&gt;The media identifiers.&lt;/param&gt;
        /// &lt;returns&gt;The existing medias corresponding to the identifiers.&lt;/returns&gt;
        /// &lt;remarks&gt;If an identifier does not match an existing media, it will be missing in the returned value.&lt;/remarks&gt;
        public IEnumerable&lt;IPublishedContent&gt; TypedMedia(params string[] ids)
		{
            return TypedMediaForObjects(ids);
        }

        /// &lt;summary&gt;
        /// Gets the medias corresponding to the identifiers.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;ids&quot;&gt;The media identifiers.&lt;/param&gt;
        /// &lt;returns&gt;The existing medias corresponding to the identifiers.&lt;/returns&gt;
        /// &lt;remarks&gt;If an identifier does not match an existing media, it will be missing in the returned value.&lt;/remarks&gt;
        public IEnumerable&lt;IPublishedContent&gt; TypedMedia(IEnumerable&lt;object&gt; ids)
		{
            return TypedMediaForObjects(ids);
        }

        /// &lt;summary&gt;
        /// Gets the medias corresponding to the identifiers.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;ids&quot;&gt;The media identifiers.&lt;/param&gt;
        /// &lt;returns&gt;The existing medias corresponding to the identifiers.&lt;/returns&gt;
        /// &lt;remarks&gt;If an identifier does not match an existing media, it will be missing in the returned value.&lt;/remarks&gt;
        public IEnumerable&lt;IPublishedContent&gt; TypedMedia(IEnumerable&lt;int&gt; ids)
		{
            return ContentQuery.TypedMedia(ids);
		}

        /// &lt;summary&gt;
        /// Gets the medias corresponding to the identifiers.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;ids&quot;&gt;The media identifiers.&lt;/param&gt;
        /// &lt;returns&gt;The existing medias corresponding to the identifiers.&lt;/returns&gt;
        /// &lt;remarks&gt;If an identifier does not match an existing media, it will be missing in the returned value.&lt;/remarks&gt;
        public IEnumerable&lt;IPublishedContent&gt; TypedMedia(IEnumerable&lt;string&gt; ids)
		{
            return TypedMediaForObjects(ids);
        }

        public IEnumerable&lt;IPublishedContent&gt; TypedMediaAtRoot()
        {
            return ContentQuery.TypedMediaAtRoot();
        }

		public dynamic Media(object id)
		{
            int intId;
            return ConvertIdObjectToInt(id, out intId) ? ContentQuery.Media(intId) : DynamicNull.Null;
		}

		public dynamic Media(int id)
		{
            return ContentQuery.Media(id);
		}

		public dynamic Media(string id)
		{
            int intId;
            return ConvertIdObjectToInt(id, out intId) ? ContentQuery.Media(intId) : DynamicNull.Null;
		}

        /// &lt;summary&gt;
        /// Gets the medias corresponding to the identifiers.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;ids&quot;&gt;The media identifiers.&lt;/param&gt;
        /// &lt;returns&gt;The existing medias corresponding to the identifiers.&lt;/returns&gt;
        /// &lt;remarks&gt;If an identifier does not match an existing media, it will be missing in the returned value.&lt;/remarks&gt;
        public dynamic Media(params object[] ids)
        {
            return MediaForObjects(ids);
        }

        private dynamic MediaForObjects(IEnumerable&lt;object&gt; ids)
        {
            var idsA = ids.ToArray();
            IEnumerable&lt;int&gt; intIds;
            if (ConvertIdsObjectToInts(idsA, out intIds))
                return ContentQuery.Media(intIds);
            //IEnumerable&lt;Guid&gt; guidIds;
            //if (ConvertIdsObjectToGuids(idsA, out guidIds))
            //    return ContentQuery.Media(guidIds);
            return Enumerable.Empty&lt;IPublishedContent&gt;();
        }

        /// &lt;summary&gt;
        /// Gets the medias corresponding to the identifiers.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;ids&quot;&gt;The media identifiers.&lt;/param&gt;
        /// &lt;returns&gt;The existing medias corresponding to the identifiers.&lt;/returns&gt;
        /// &lt;remarks&gt;If an identifier does not match an existing media, it will be missing in the returned value.&lt;/remarks&gt;
        public dynamic Media(params int[] ids)
		{
            return ContentQuery.Media(ids);
		}

        /// &lt;summary&gt;
        /// Gets the medias corresponding to the identifiers.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;ids&quot;&gt;The media identifiers.&lt;/param&gt;
        /// &lt;returns&gt;The existing medias corresponding to the identifiers.&lt;/returns&gt;
        /// &lt;remarks&gt;If an identifier does not match an existing media, it will be missing in the returned value.&lt;/remarks&gt;
        public dynamic Media(params string[] ids)
        {
            return MediaForObjects(ids);
		}

        /// &lt;summary&gt;
        /// Gets the medias corresponding to the identifiers.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;ids&quot;&gt;The media identifiers.&lt;/param&gt;
        /// &lt;returns&gt;The existing medias corresponding to the identifiers.&lt;/returns&gt;
        /// &lt;remarks&gt;If an identifier does not match an existing media, it will be missing in the returned value.&lt;/remarks&gt;
        public dynamic Media(IEnumerable&lt;object&gt; ids)
		{
            return MediaForObjects(ids);
        }

        /// &lt;summary&gt;
        /// Gets the medias corresponding to the identifiers.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;ids&quot;&gt;The media identifiers.&lt;/param&gt;
        /// &lt;returns&gt;The existing medias corresponding to the identifiers.&lt;/returns&gt;
        /// &lt;remarks&gt;If an identifier does not match an existing media, it will be missing in the returned value.&lt;/remarks&gt;
        public dynamic Media(IEnumerable&lt;int&gt; ids)
		{
            return ContentQuery.Media(ids);
		}

        /// &lt;summary&gt;
        /// Gets the medias corresponding to the identifiers.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;ids&quot;&gt;The media identifiers.&lt;/param&gt;
        /// &lt;returns&gt;The existing medias corresponding to the identifiers.&lt;/returns&gt;
        /// &lt;remarks&gt;If an identifier does not match an existing media, it will be missing in the returned value.&lt;/remarks&gt;
        public dynamic Media(IEnumerable&lt;string&gt; ids)
		{
            return MediaForObjects(ids);
        }

        public dynamic MediaAtRoot()
        {
            return ContentQuery.MediaAtRoot();
        }

		#endregion

		#region Search

		/// &lt;summary&gt;
		/// Searches content
		/// &lt;/summary&gt;
		/// &lt;param name=&quot;term&quot;&gt;&lt;/param&gt;
		/// &lt;param name=&quot;useWildCards&quot;&gt;&lt;/param&gt;
		/// &lt;param name=&quot;searchProvider&quot;&gt;&lt;/param&gt;
		/// &lt;returns&gt;&lt;/returns&gt;
		public dynamic Search(string term, bool useWildCards = true, string searchProvider = null)
		{
		    return ContentQuery.Search(term, useWildCards, searchProvider);
		}

		/// &lt;summary&gt;
		/// Searhes content
		/// &lt;/summary&gt;
		/// &lt;param name=&quot;criteria&quot;&gt;&lt;/param&gt;
		/// &lt;param name=&quot;searchProvider&quot;&gt;&lt;/param&gt;
		/// &lt;returns&gt;&lt;/returns&gt;
		public dynamic Search(Examine.SearchCriteria.ISearchCriteria criteria, Examine.Providers.BaseSearchProvider searchProvider = null)
		{
            return ContentQuery.Search(criteria, searchProvider);
		}

		/// &lt;summary&gt;
		/// Searches content
		/// &lt;/summary&gt;
		/// &lt;param name=&quot;term&quot;&gt;&lt;/param&gt;
		/// &lt;param name=&quot;useWildCards&quot;&gt;&lt;/param&gt;
		/// &lt;param name=&quot;searchProvider&quot;&gt;&lt;/param&gt;
		/// &lt;returns&gt;&lt;/returns&gt;
		public IEnumerable&lt;IPublishedContent&gt; TypedSearch(string term, bool useWildCards = true, string searchProvider = null)
		{
            return ContentQuery.TypedSearch(term, useWildCards, searchProvider);
		}

		/// &lt;summary&gt;
		/// Searhes content
		/// &lt;/summary&gt;
		/// &lt;param name=&quot;criteria&quot;&gt;&lt;/param&gt;
		/// &lt;param name=&quot;searchProvider&quot;&gt;&lt;/param&gt;
		/// &lt;returns&gt;&lt;/returns&gt;
		public IEnumerable&lt;IPublishedContent&gt; TypedSearch(Examine.SearchCriteria.ISearchCriteria criteria, Examine.Providers.BaseSearchProvider searchProvider = null)
		{
            return ContentQuery.TypedSearch(criteria, searchProvider);
		}

		#endregion

		#region Xml

		public dynamic ToDynamicXml(string xml)
		{
			if (string.IsNullOrWhiteSpace(xml)) return null;
			var xElement = XElement.Parse(xml);
			return new DynamicXml(xElement);
		}

		public dynamic ToDynamicXml(XElement xElement)
		{
			return new DynamicXml(xElement);
		}

		public dynamic ToDynamicXml(XPathNodeIterator xpni)
		{
			return new DynamicXml(xpni);
		}

		#endregion

		#region Strings

		/// &lt;summary&gt;
		/// Replaces text line breaks with html line breaks
		/// &lt;/summary&gt;
		/// &lt;param name=&quot;text&quot;&gt;The text.&lt;/param&gt;
		/// &lt;returns&gt;The text with text line breaks replaced with html linebreaks (&lt;br/&gt;)&lt;/returns&gt;
		public string ReplaceLineBreaksForHtml(string text)
		{
            return _stringUtilities.ReplaceLineBreaksForHtml(text);
		}

		/// &lt;summary&gt;
		/// Returns an MD5 hash of the string specified
		/// &lt;/summary&gt;
		/// &lt;param name=&quot;text&quot;&gt;The text to create a hash from&lt;/param&gt;
		/// &lt;returns&gt;Md5 has of the string&lt;/returns&gt;
		public string CreateMd5Hash(string text)
		{
			return text.ToMd5();
		}

		/// &lt;summary&gt;
		/// Strips all html tags from a given string, all contents of the tags will remain.
		/// &lt;/summary&gt;
		public HtmlString StripHtml(IHtmlString html, params string[] tags)
		{
			return StripHtml(html.ToHtmlString(), tags);
		}

		/// &lt;summary&gt;
		/// Strips all html tags from a given string, all contents of the tags will remain.
		/// &lt;/summary&gt;
		public HtmlString StripHtml(DynamicNull html, params string[] tags)
		{
			return new HtmlString(string.Empty);
		}

		/// &lt;summary&gt;
		/// Strips all html tags from a given string, all contents of the tags will remain.
		/// &lt;/summary&gt;
		public HtmlString StripHtml(string html, params string[] tags)
		{
            return _stringUtilities.StripHtmlTags(html, tags);
		}

		/// &lt;summary&gt;
		/// Will take the first non-null value in the collection and return the value of it.
		/// &lt;/summary&gt;
		public string Coalesce(params object[] args)
		{
            return _stringUtilities.Coalesce&lt;DynamicNull&gt;(args);
		}

		/// &lt;summary&gt;
		/// Will take the first non-null value in the collection and return the value of it.
		/// &lt;/summary&gt;
		public string Concatenate(params object[] args)
		{
            return _stringUtilities.Concatenate&lt;DynamicNull&gt;(args);
		}

		/// &lt;summary&gt;
		/// Joins any number of int/string/objects into one string and seperates them with the string seperator parameter.
		/// &lt;/summary&gt;
		public string Join(string seperator, params object[] args)
		{
            return _stringUtilities.Join&lt;DynamicNull&gt;(seperator, args);
		}

		/// &lt;summary&gt;
		/// Truncates a string to a given length, can add a elipsis at the end (...). Method checks for open html tags, and makes sure to close them
		/// &lt;/summary&gt;
		public IHtmlString Truncate(IHtmlString html, int length)
		{
			return Truncate(html.ToHtmlString(), length, true, false);
		}

		/// &lt;summary&gt;
		/// Truncates a string to a given length, can add a elipsis at the end (...). Method checks for open html tags, and makes sure to close them
		/// &lt;/summary&gt;
		public IHtmlString Truncate(IHtmlString html, int length, bool addElipsis)
		{
			return Truncate(html.ToHtmlString(), length, addElipsis, false);
		}

		/// &lt;summary&gt;
		/// Truncates a string to a given length, can add a elipsis at the end (...). Method checks for open html tags, and makes sure to close them
		/// &lt;/summary&gt;
		public IHtmlString Truncate(IHtmlString html, int length, bool addElipsis, bool treatTagsAsContent)
		{
			return Truncate(html.ToHtmlString(), length, addElipsis, treatTagsAsContent);
		}

		/// &lt;summary&gt;
		/// Truncates a string to a given length, can add a elipsis at the end (...). Method checks for open html tags, and makes sure to close them
		/// &lt;/summary&gt;
		public IHtmlString Truncate(DynamicNull html, int length)
		{
			return new HtmlString(string.Empty);
		}

		/// &lt;summary&gt;
		/// Truncates a string to a given length, can add a elipsis at the end (...). Method checks for open html tags, and makes sure to close them
		/// &lt;/summary&gt;
		public IHtmlString Truncate(DynamicNull html, int length, bool addElipsis)
		{
			return new HtmlString(string.Empty);
		}

		/// &lt;summary&gt;
		/// Truncates a string to a given length, can add a elipsis at the end (...). Method checks for open html tags, and makes sure to close them
		/// &lt;/summary&gt;
		public IHtmlString Truncate(DynamicNull html, int length, bool addElipsis, bool treatTagsAsContent)
		{
			return new HtmlString(string.Empty);
		}

		/// &lt;summary&gt;
		/// Truncates a string to a given length, can add a elipsis at the end (...). Method checks for open html tags, and makes sure to close them
		/// &lt;/summary&gt;
		public IHtmlString Truncate(string html, int length)
		{
			return Truncate(html, length, true, false);
		}

		/// &lt;summary&gt;
		/// Truncates a string to a given length, can add a elipsis at the end (...). Method checks for open html tags, and makes sure to close them
		/// &lt;/summary&gt;
		public IHtmlString Truncate(string html, int length, bool addElipsis)
		{
			return Truncate(html, length, addElipsis, false);
		}

		/// &lt;summary&gt;
		/// Truncates a string to a given length, can add a elipsis at the end (...). Method checks for open html tags, and makes sure to close them
		/// &lt;/summary&gt;
		public IHtmlString Truncate(string html, int length, bool addElipsis, bool treatTagsAsContent)
		{
            return _stringUtilities.Truncate(html, length, addElipsis, treatTagsAsContent);
		}


		#endregion

		#region If

		/// &lt;summary&gt;
		/// If the test is true, the string valueIfTrue will be returned, otherwise the valueIfFalse will be returned.
		/// &lt;/summary&gt;
		public HtmlString If(bool test, string valueIfTrue, string valueIfFalse)
		{
			return test ? new HtmlString(valueIfTrue) : new HtmlString(valueIfFalse);
		}

		/// &lt;summary&gt;
		/// If the test is true, the string valueIfTrue will be returned, otherwise the valueIfFalse will be returned.
		/// &lt;/summary&gt;
		public HtmlString If(bool test, string valueIfTrue)
		{
			return test ? new HtmlString(valueIfTrue) : new HtmlString(string.Empty);
		}

        #endregion

        #region Prevalues

        /// &lt;summary&gt;
        /// Gets a specific PreValue by its Id
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;id&quot;&gt;Id of the PreValue to retrieve the value from&lt;/param&gt;
        /// &lt;returns&gt;PreValue as a string&lt;/returns&gt;
        public string GetPreValueAsString(int id)
        {
            return DataTypeService.GetPreValueAsString(id);
        }

        #endregion

        #region canvasdesigner

        [Obsolete(&quot;Use EnableCanvasDesigner on the HtmlHelper extensions instead&quot;)]
        public IHtmlString EnableCanvasDesigner()
        {
            return EnableCanvasDesigner(string.Empty, string.Empty);
        }

        [Obsolete(&quot;Use EnableCanvasDesigner on the HtmlHelper extensions instead&quot;)]
        public IHtmlString EnableCanvasDesigner(string canvasdesignerConfigPath)
        {
            return EnableCanvasDesigner(canvasdesignerConfigPath, string.Empty);
        }

        [Obsolete(&quot;Use EnableCanvasDesigner on the HtmlHelper extensions instead&quot;)]
        public IHtmlString EnableCanvasDesigner(string canvasdesignerConfigPath, string canvasdesignerPalettesPath)
        {
            var html = CreateHtmlHelper(&quot;&quot;);
            var urlHelper = new UrlHelper(UmbracoContext.HttpContext.Request.RequestContext);
            return html.EnableCanvasDesigner(urlHelper, UmbracoContext, canvasdesignerConfigPath, canvasdesignerPalettesPath);
        }

        [Obsolete(&quot;This shouldn&#39;t need to be used but because the obsolete extension methods above don&#39;t have access to the current HtmlHelper, we need to create a fake one, unfortunately however this will not pertain the current views viewdata, tempdata or model state so should not be used&quot;)]
        private HtmlHelper CreateHtmlHelper(object model)
        {
            var cc = new ControllerContext
            {
                RequestContext = UmbracoContext.HttpContext.Request.RequestContext
            };
            var viewContext = new ViewContext(cc, new FakeView(), new ViewDataDictionary(model), new TempDataDictionary(), new StringWriter());
            var htmlHelper = new HtmlHelper(viewContext, new ViewPage());
            return htmlHelper;
        }

        [Obsolete(&quot;This shouldn&#39;t need to be used but because the obsolete extension methods above don&#39;t have access to the current HtmlHelper, we need to create a fake one, unfortunately however this will not pertain the current views viewdata, tempdata or model state so should not be used&quot;)]
        private class FakeView : IView
        {
            public void Render(ViewContext viewContext, TextWriter writer)
            {
            }
        }

        #endregion

        /// &lt;summary&gt;
        /// This is used in methods like BeginUmbracoForm and SurfaceAction to generate an encrypted string which gets submitted in a request for which
        /// Umbraco can decrypt during the routing process in order to delegate the request to a specific MVC Controller.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;controllerName&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;controllerAction&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;area&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;additionalRouteVals&quot;&gt;&lt;/param&gt;
        /// &lt;returns&gt;&lt;/returns&gt;
        internal static string CreateEncryptedRouteString(string controllerName, string controllerAction, string area, object additionalRouteVals = null)
        {
            Mandate.ParameterNotNullOrEmpty(controllerName, &quot;controllerName&quot;);
            Mandate.ParameterNotNullOrEmpty(controllerAction, &quot;controllerAction&quot;);
            Mandate.ParameterNotNull(area, &quot;area&quot;);

            //need to create a params string as Base64 to put into our hidden field to use during the routes
            var surfaceRouteParams = string.Format(&quot;c={0}&amp;a={1}&amp;ar={2}&quot;,
                                                      HttpUtility.UrlEncode(controllerName),
                                                      HttpUtility.UrlEncode(controllerAction),
                                                      area);

            //checking if the additional route values is already a dictionary and convert to querystring
            string additionalRouteValsAsQuery;
            if (additionalRouteVals != null)
            {
                var additionalRouteValsAsDictionary = additionalRouteVals as Dictionary&lt;string, object&gt;;
                if (additionalRouteValsAsDictionary != null)
                    additionalRouteValsAsQuery = additionalRouteValsAsDictionary.ToQueryString();
                else
                    additionalRouteValsAsQuery = additionalRouteVals.ToDictionary&lt;object&gt;().ToQueryString();
            }
            else
                additionalRouteValsAsQuery = null;

            if (additionalRouteValsAsQuery.IsNullOrWhiteSpace() == false)
                surfaceRouteParams += &quot;&amp;&quot; + additionalRouteValsAsQuery;

            return surfaceRouteParams.EncryptWithMachineKey();
        }

	}
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[34,9,34,91,1],[34,9,34,91,1],[34,9,34,91,1],[54,13,54,14,0],[55,17,57,58,0],[58,13,58,14,0],[67,13,67,14,1],[70,17,73,113,1],[74,13,74,14,1],[83,13,83,14,0],[84,17,84,45,0],[85,17,85,18,0],[86,21,86,162,0],[88,17,88,40,0],[89,13,89,14,0],[97,17,97,18,0],[97,19,97,106,0],[97,107,97,108,0],[105,17,105,18,1],[105,19,105,86,1],[105,87,105,88,1],[113,17,113,18,0],[113,19,113,119,0],[113,120,113,121,0],[121,17,121,18,0],[121,19,121,116,0],[121,117,121,118,0],[128,9,128,31,1],[129,9,129,10,1],[130,9,130,10,1],[148,9,156,47,1],[157,9,157,10,1],[158,13,158,40,1],[158,41,158,91,0],[159,13,159,33,1],[159,34,159,77,0],[160,13,160,36,1],[160,37,160,83,0],[161,13,161,38,1],[161,39,161,87,0],[162,13,162,34,1],[162,35,162,79,0],[163,13,163,41,1],[163,42,163,93,0],[164,13,164,37,1],[164,38,164,85,0],[165,13,165,43,1],[165,44,165,97,0],[166,13,166,43,1],[166,44,166,97,0],[167,13,167,42,1],[167,43,167,95,0],[169,13,169,46,1],[170,13,170,43,1],[171,13,171,48,1],[172,13,172,40,1],[173,13,173,52,1],[174,13,174,52,1],[175,13,175,50,1],[176,13,176,36,1],[177,13,177,38,1],[178,13,178,42,1],[179,9,179,10,1],[184,15,184,35,0],[185,9,185,10,0],[186,13,186,33,0],[186,34,186,77,0],[187,13,187,31,0],[187,32,187,73,0],[188,13,188,36,0],[189,13,189,28,0],[190,9,190,10,0],[198,15,198,35,0],[199,9,199,10,0],[200,13,200,33,0],[200,34,200,77,0],[201,13,201,36,0],[202,9,202,10,0],[208,9,208,60,1],[209,9,209,10,1],[210,13,210,40,1],[210,41,210,91,0],[211,13,211,55,1],[211,56,211,148,0],[213,13,213,46,1],[214,13,214,58,1],[215,13,215,14,0],[216,17,216,89,0],[217,13,217,14,0],[218,9,218,10,1],[223,15,223,35,0],[224,9,224,10,0],[225,13,225,31,0],[225,32,225,73,0],[226,13,226,28,0],[227,9,227,10,0],[244,10,244,11,0],[245,14,245,39,0],[246,21,246,276,0],[248,17,248,37,0],[249,10,249,11,0],[259,6,259,7,0],[260,13,260,83,0],[261,6,261,7,0],[271,3,271,4,0],[272,13,272,73,0],[273,3,273,4,0],[282,3,282,4,0],[283,13,283,99,0],[284,3,284,4,0],[293,3,293,4,0],[294,13,294,76,0],[295,3,295,4,0],[327,3,327,4,0],[328,13,330,102,0],[331,3,331,4,0],[360,3,360,4,0],[361,13,363,102,0],[364,3,364,4,0],[376,3,376,4,0],[377,13,377,43,0],[378,3,378,4,0],[386,9,386,10,0],[387,13,387,59,0],[388,13,388,60,0],[389,13,389,14,0],[390,17,390,43,0],[391,13,391,14,0],[392,13,392,36,0],[393,9,393,10,0],[400,13,400,14,0],[401,17,401,48,0],[402,17,402,18,0],[403,21,403,84,0],[404,21,404,69,0],[405,17,405,18,0],[406,17,406,43,0],[407,13,407,14,0],[417,3,417,4,0],[418,13,418,71,0],[419,3,419,4,0],[427,9,427,10,0],[428,13,428,94,0],[429,9,429,10,0],[434,9,434,10,0],[435,13,435,71,0],[436,9,436,10,0],[444,9,444,10,0],[445,13,445,35,0],[446,13,446,14,0],[447,17,448,135,0],[450,13,450,25,0],[451,9,451,10,0],[457,9,457,10,0],[458,13,460,17,0],[460,17,460,18,0],[460,18,461,21,0],[461,21,461,110,0],[461,110,462,21,0],[462,21,462,54,0],[462,54,463,17,0],[463,17,463,18,0],[463,18,463,20,0],[458,13,463,20,0],[464,9,464,10,0],[471,3,471,4,0],[472,13,472,50,0],[473,3,473,4,0],[487,3,487,4,0],[488,7,488,26,0],[489,3,489,4,0],[497,9,497,10,1],[498,13,498,50,1],[499,9,499,10,1],[508,6,508,7,0],[509,13,509,56,0],[510,6,510,7,0],[518,3,518,4,0],[519,7,519,34,0],[520,3,520,4,0],[528,9,528,10,0],[529,13,529,56,0],[530,9,530,10,0],[537,9,537,10,0],[538,13,538,48,0],[539,13,539,107,0],[540,9,540,10,0],[543,9,543,10,0],[544,13,544,49,0],[545,9,545,10,0],[548,9,548,10,0],[549,13,549,48,0],[550,13,550,107,0],[551,9,551,10,0],[554,9,554,10,0],[555,13,555,48,0],[556,13,558,69,0],[559,9,559,10,0],[562,9,562,10,0],[563,13,563,61,0],[564,9,564,10,0],[567,9,567,10,0],[568,13,568,48,0],[569,13,571,69,0],[572,9,572,10,0],[584,9,584,10,0],[585,13,585,46,0],[586,3,586,4,0],[589,9,589,10,0],[591,13,591,53,0],[592,17,592,57,0],[594,13,594,55,0],[595,17,595,58,0],[596,13,596,25,0],[597,9,597,10,0],[605,3,605,4,1],[606,13,606,50,1],[607,3,607,4,1],[615,9,615,10,0],[616,13,616,50,0],[617,9,617,10,0],[625,3,625,4,0],[626,13,626,46,0],[627,9,627,10,0],[630,9,630,10,0],[631,13,631,72,0],[632,9,632,10,0],[641,3,641,4,0],[642,7,642,42,0],[643,3,643,4,0],[646,9,646,10,0],[647,13,647,38,0],[649,13,649,58,0],[650,17,650,58,0],[652,13,652,60,0],[653,17,653,59,0],[654,13,654,58,0],[655,9,655,10,0],[663,3,663,4,0],[664,13,664,51,0],[665,3,665,4,0],[673,9,673,10,0],[674,13,674,51,0],[675,9,675,10,0],[684,9,684,10,0],[685,13,685,48,0],[686,3,686,4,0],[695,9,695,10,0],[696,13,696,48,0],[697,3,697,4,0],[706,3,706,4,0],[707,13,707,48,0],[708,3,708,4,0],[717,3,717,4,0],[718,13,718,51,0],[719,3,719,4,0],[722,9,722,10,0],[723,13,723,66,0],[724,9,724,10,0],[727,9,727,10,0],[728,13,728,66,0],[729,9,729,10,0],[732,9,732,10,0],[733,13,733,54,0],[734,9,734,10,0],[742,3,742,4,0],[743,7,743,35,0],[744,3,744,4,0],[747,9,747,10,0],[749,13,749,53,0],[750,17,750,52,0],[752,13,752,55,0],[753,17,753,53,0],[754,13,754,37,0],[755,9,755,10,0],[763,3,763,4,0],[764,13,764,45,0],[765,3,765,4,0],[773,3,773,4,0],[774,13,774,41,0],[775,9,775,10,0],[778,9,778,10,0],[779,13,779,67,0],[780,9,780,10,0],[783,9,783,10,0],[784,13,784,67,0],[785,9,785,10,0],[794,9,794,10,0],[795,13,795,43,0],[796,9,796,10,0],[799,9,799,10,0],[800,13,800,38,0],[802,13,802,58,0],[803,17,803,53,0],[805,13,805,60,0],[806,17,806,54,0],[807,13,807,58,0],[808,9,808,10,0],[816,3,816,4,0],[817,13,817,46,0],[818,3,818,4,0],[827,3,827,4,0],[828,13,828,43,0],[829,9,829,10,0],[838,3,838,4,0],[839,13,839,43,0],[840,9,840,10,0],[848,3,848,4,0],[849,13,849,46,0],[850,3,850,4,0],[859,3,859,4,0],[860,13,860,43,0],[861,9,861,10,0],[864,9,864,10,0],[865,13,865,61,0],[866,9,866,10,0],[869,9,869,10,0],[870,13,870,61,0],[871,9,871,10,0],[874,9,874,10,0],[875,13,875,49,0],[876,9,876,10,0],[879,9,879,10,0],[880,13,880,34,0],[881,13,881,27,0],[882,13,882,14,0],[883,17,883,51,0],[885,13,885,27,0],[886,13,886,14,0],[887,17,887,34,0],[888,17,888,29,0],[890,13,890,34,0],[891,13,891,26,0],[892,9,892,10,0],[895,9,895,10,0],[896,13,896,34,0],[897,13,897,27,0],[898,13,898,14,0],[899,17,899,53,0],[901,13,901,28,0],[902,13,902,14,0],[903,17,903,36,0],[904,17,904,29,0],[906,13,906,36,0],[907,13,907,26,0],[908,9,908,10,0],[911,9,911,10,0],[912,13,912,40,0],[913,13,913,27,0],[914,13,914,20,0],[914,22,914,28,0],[914,29,914,31,0],[914,32,914,35,0],[915,13,915,14,0],[917,17,917,57,0],[918,21,918,37,0],[920,21,920,34,0],[921,13,921,14,0],[922,13,922,27,0],[923,13,923,25,0],[924,9,924,10,0],[927,9,927,10,0],[928,13,928,41,0],[929,13,929,28,0],[930,13,930,20,0],[930,22,930,28,0],[930,29,930,31,0],[930,32,930,35,0],[931,13,931,14,0],[933,17,933,59,0],[934,21,934,38,0],[936,21,936,34,0],[937,13,937,14,0],[938,13,938,28,0],[939,13,939,25,0],[940,9,940,10,0],[957,3,957,4,0],[959,13,959,96,0],[960,3,960,4,0],[963,3,963,4,0],[964,13,964,48,0],[965,3,965,4,0],[968,3,968,4,0],[970,13,970,96,0],[971,3,971,4,0],[980,9,980,10,0],[981,13,981,46,0],[982,9,982,10,0],[985,9,985,10,0],[986,13,986,38,0],[988,13,988,58,0],[989,17,989,56,0],[993,13,993,58,0],[994,9,994,10,0],[1003,3,1003,4,0],[1004,13,1004,49,0],[1005,3,1005,4,0],[1014,3,1014,4,0],[1015,13,1015,46,0],[1016,9,1016,10,0],[1025,3,1025,4,0],[1026,13,1026,46,0],[1027,9,1027,10,0],[1036,3,1036,4,0],[1037,13,1037,49,0],[1038,3,1038,4,0],[1047,3,1047,4,0],[1048,13,1048,46,0],[1049,9,1049,10,0],[1052,9,1052,10,0],[1053,13,1053,52,0],[1054,9,1054,10,0],[1057,3,1057,4,0],[1059,13,1059,103,0],[1060,3,1060,4,0],[1063,3,1063,4,0],[1064,13,1064,43,0],[1065,3,1065,4,0],[1068,3,1068,4,0],[1070,13,1070,103,0],[1071,3,1071,4,0],[1080,9,1080,10,0],[1081,13,1081,41,0],[1082,9,1082,10,0],[1085,9,1085,10,0],[1086,13,1086,38,0],[1088,13,1088,58,0],[1089,17,1089,51,0],[1093,13,1093,58,0],[1094,9,1094,10,0],[1103,3,1103,4,0],[1104,13,1104,44,0],[1105,3,1105,4,0],[1114,9,1114,10,0],[1115,13,1115,41,0],[1116,3,1116,4,0],[1125,3,1125,4,0],[1126,13,1126,41,0],[1127,9,1127,10,0],[1136,3,1136,4,0],[1137,13,1137,44,0],[1138,3,1138,4,0],[1147,3,1147,4,0],[1148,13,1148,41,0],[1149,9,1149,10,0],[1152,9,1152,10,0],[1153,13,1153,47,0],[1154,9,1154,10,0],[1168,3,1168,4,0],[1169,7,1169,70,0],[1170,3,1170,4,0],[1179,3,1179,4,0],[1180,13,1180,66,0],[1181,3,1181,4,0],[1191,3,1191,4,0],[1192,13,1192,81,0],[1193,3,1193,4,0],[1202,3,1202,4,0],[1203,13,1203,71,0],[1204,3,1204,4,0],[1211,3,1211,4,0],[1212,4,1212,39,0],[1212,40,1212,52,0],[1213,4,1213,39,0],[1214,4,1214,36,0],[1215,3,1215,4,0],[1218,3,1218,4,0],[1219,4,1219,36,0],[1220,3,1220,4,0],[1223,3,1223,4,0],[1224,4,1224,32,0],[1225,3,1225,4,0],[1237,3,1237,4,0],[1238,13,1238,68,0],[1239,3,1239,4,0],[1247,3,1247,4,0],[1248,4,1248,24,0],[1249,3,1249,4,0],[1255,3,1255,4,0],[1256,4,1256,48,0],[1257,3,1257,4,0],[1263,3,1263,4,0],[1264,4,1264,40,0],[1265,3,1265,4,0],[1271,3,1271,4,0],[1272,13,1272,63,0],[1273,3,1273,4,0],[1279,3,1279,4,0],[1280,13,1280,65,0],[1281,3,1281,4,0],[1287,3,1287,4,0],[1288,13,1288,68,0],[1289,3,1289,4,0],[1295,3,1295,4,0],[1296,13,1296,72,0],[1297,3,1297,4,0],[1303,3,1303,4,0],[1304,4,1304,62,0],[1305,3,1305,4,0],[1311,3,1311,4,0],[1312,4,1312,68,0],[1313,3,1313,4,0],[1319,3,1319,4,0],[1320,4,1320,81,0],[1321,3,1321,4,0],[1327,3,1327,4,0],[1328,4,1328,40,0],[1329,3,1329,4,0],[1335,3,1335,4,0],[1336,4,1336,40,0],[1337,3,1337,4,0],[1343,3,1343,4,0],[1344,4,1344,40,0],[1345,3,1345,4,0],[1351,3,1351,4,1],[1352,4,1352,47,1],[1353,3,1353,4,1],[1359,3,1359,4,0],[1360,4,1360,53,0],[1361,3,1361,4,0],[1367,3,1367,4,1],[1368,13,1368,92,1],[1369,3,1369,4,1],[1380,3,1380,4,0],[1381,4,1381,77,0],[1382,3,1382,4,0],[1388,3,1388,4,0],[1389,4,1389,77,0],[1390,3,1390,4,0],[1402,9,1402,10,0],[1403,13,1403,60,0],[1404,9,1404,10,0],[1412,9,1412,10,0],[1413,13,1413,69,0],[1414,9,1414,10,0],[1418,9,1418,10,0],[1419,13,1419,81,0],[1420,9,1420,10,0],[1424,9,1424,10,0],[1425,13,1425,45,0],[1426,13,1426,94,0],[1427,13,1427,127,0],[1428,9,1428,10,0],[1432,9,1432,10,0],[1433,13,1436,15,0],[1437,13,1437,144,0],[1438,13,1438,74,0],[1439,13,1439,31,0],[1440,9,1440,10,0],[1446,13,1446,14,0],[1447,13,1447,14,0],[1462,9,1462,10,1],[1463,13,1463,79,1],[1464,13,1464,83,1],[1465,13,1465,52,1],[1468,13,1471,61,1],[1475,13,1475,45,1],[1476,13,1476,14,1],[1477,17,1477,105,1],[1478,17,1478,61,1],[1479,21,1479,98,1],[1481,21,1481,109,1],[1482,13,1482,14,1],[1484,17,1484,51,0],[1486,13,1486,74,1],[1487,17,1487,72,1],[1489,13,1489,63,1],[1490,9,1490,10,1]]);
    </script>
  </body>
</html>