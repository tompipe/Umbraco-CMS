<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\Umbraco.Tests\Models\Collections\PropertyCollectionTests.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System.Collections.Generic;
using System.Linq;
using NUnit.Framework;
using Umbraco.Core;
using Umbraco.Core.Models;
using Umbraco.Tests.TestHelpers;
using Umbraco.Tests.TestHelpers.Entities;

namespace Umbraco.Tests.Models.Collections
{
    [TestFixture]
    public class PropertyCollectionTests : BaseUmbracoConfigurationTest
    {
        [Test]
        public void Property_Adds_Case_Insensitive_Compare()
        {
            var collection = new PropertyCollection();

            collection.Add(new Property(new PropertyType(&quot;propEditor&quot;, DataTypeDatabaseType.Nvarchar, &quot;test&quot;)));
            collection.Add(new Property(new PropertyType(&quot;propEditor&quot;, DataTypeDatabaseType.Nvarchar, &quot;Test&quot;)));

            Assert.AreEqual(1, collection.Count);
        }

        [Test]
        public void Property_Contains_Case_Insensitive_Compare()
        {
            var collection = new PropertyCollection();

            collection.Add(new Property(new PropertyType(&quot;propEditor&quot;, DataTypeDatabaseType.Nvarchar, &quot;test&quot;)));
            
            Assert.IsTrue(collection.Contains(&quot;Test&quot;));
        }

        [Test]
        public void SimpleOrder_Returns_Null_On_FirstOrDefault_When_Empty()
        {
            var orders = new SimpleOrder();
            var item = orders.FirstOrDefault();

            Assert.That(item == null, Is.True);
        }

        [Test]
        public void PropertyCollection_Returns_Null_On_FirstOrDefault_When_Empty()
        {
            var list = new List&lt;Property&gt;();
            var collection = new PropertyCollection(list);

            var first = collection.FirstOrDefault();
            var second = collection.FirstOrDefault(x =&gt; x.Alias.InvariantEquals(&quot;Test&quot;));
            
            Assert.That(first, Is.Null);
            Assert.That(first == null, Is.True);
            Assert.That(second == null, Is.True);
        }

        [Test]
        public void PropertyTypeCollection_Returns_Null_On_FirstOrDefault_When_Empty()
        {
            var list = new List&lt;PropertyType&gt;();
            var collection = new PropertyTypeCollection(list);

            Assert.That(collection.FirstOrDefault(), Is.Null);
            Assert.That(collection.FirstOrDefault(x =&gt; x.Alias.InvariantEquals(&quot;Test&quot;)) == null, Is.True);
        }

        [Test]
        public void PropertyGroupCollection_Returns_Null_On_FirstOrDefault_When_Empty()
        {
            var list = new List&lt;PropertyGroup&gt;();
            var collection = new PropertyGroupCollection(list);

            Assert.That(collection.FirstOrDefault(), Is.Null);
            Assert.That(collection.FirstOrDefault(x =&gt; x.Name.InvariantEquals(&quot;Test&quot;)) == null, Is.True);
        }

        [Test]
        public void PropertyGroups_Collection_FirstOrDefault_Returns_Null()
        {
            var contentType = MockedContentTypes.CreateTextpageContentType();

            Assert.That(contentType.PropertyGroups, Is.Not.Null);
            Assert.That(contentType.PropertyGroups.FirstOrDefault(x =&gt; x.Name.InvariantEquals(&quot;Content&quot;)) == null, Is.False);
            Assert.That(contentType.PropertyGroups.FirstOrDefault(x =&gt; x.Name.InvariantEquals(&quot;Test&quot;)) == null, Is.True);
            Assert.That(contentType.PropertyGroups.Any(x =&gt; x.Name.InvariantEquals(&quot;Test&quot;)), Is.False);
        }
    }
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[16,9,16,10,1],[17,13,17,55,1],[19,13,19,113,1],[20,13,20,113,1],[22,13,22,50,1],[23,9,23,10,1],[27,9,27,10,1],[28,13,28,55,1],[30,13,30,113,1],[32,13,32,56,1],[33,9,33,10,1],[37,9,37,10,1],[38,13,38,44,1],[39,13,39,48,1],[41,13,41,48,1],[42,9,42,10,1],[46,9,46,10,1],[47,13,47,45,1],[48,13,48,59,1],[50,13,50,53,1],[51,13,51,57,1],[51,57,51,88,0],[51,88,51,90,1],[51,13,51,90,1],[53,13,53,41,1],[54,13,54,49,1],[55,13,55,50,1],[56,9,56,10,1],[60,9,60,10,1],[61,13,61,49,1],[62,13,62,63,1],[64,13,64,63,1],[65,13,65,56,1],[65,56,65,87,0],[65,87,65,107,1],[65,13,65,107,1],[66,9,66,10,1],[70,9,70,10,1],[71,13,71,50,1],[72,13,72,64,1],[74,13,74,63,1],[75,13,75,56,1],[75,56,75,86,0],[75,86,75,106,1],[75,13,75,106,1],[76,9,76,10,1],[80,9,80,10,1],[81,13,81,78,1],[83,13,83,66,1],[84,13,84,72,1],[84,72,84,105,1],[84,105,84,126,1],[84,13,84,126,1],[85,13,85,72,1],[85,72,85,102,1],[85,102,85,122,1],[85,13,85,122,1],[86,13,86,61,1],[86,61,86,91,1],[86,91,86,104,1],[86,13,86,104,1],[87,9,87,10,1]]);
    </script>
  </body>
</html>