<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\umbraco.datalayer\SqlHelperException.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
/************************************************************************************
 * 
 *  Umbraco Data Layer
 *  MIT Licensed work
 *  ï¿½2008 Ruben Verborgh
 * 
 ***********************************************************************************/

using System;
using System.Collections.Generic;
using System.Text;

namespace umbraco.DataLayer
{
    /// &lt;summary&gt;
    /// Exception generated in an SQL helper.
    /// &lt;/summary&gt;
    public class SqlHelperException : UmbracoException
    {
        #region Private Fields

        /*
         * Make command text and parameters available when in debug mode.
         * (General debug mode, not only data layer debug mode: exceptions that occur in commands
         * are most likely not due to errors in the data layer itself, but in the calling method.)
         */
        #if DEBUG

            /// &lt;summary&gt; The text of the command that resulted in the exception.&lt;/summary&gt;
            private readonly string m_CommandText;
            /// &lt;summary&gt; The parameters of the command that resulted in the exception.&lt;/summary&gt;
            private readonly IParameter[] m_Parameters;

        #endif // DEBUG

        #endregion

        #region Public Properties

            /*
             * Make command text and parameters available when in debug mode.
             * (General debug mode, not only data layer debug mode: exceptions that occur in commands
             * are most likely not due to errors in the data layer itself, but in the calling method.)
             */
            #if DEBUG

                /// &lt;summary&gt;
                /// Returns the text of the command that resulted in the exception.
                /// &lt;/summary&gt;
                /// &lt;value&gt;The command text.&lt;/value&gt;
                /// &lt;remarks&gt;Attention! Use for debugging purposes only.&lt;/remarks&gt;
                public string CommandText
                {
                    get { return m_CommandText; }
                }

                /// &lt;summary&gt;
                /// Gets the parameters of the command that resulted in the exception.
                /// &lt;/summary&gt;
                /// &lt;value&gt;The command parameters.&lt;/value&gt;
                /// &lt;remarks&gt;Attention! Use for debugging purposes only.&lt;/remarks&gt;
                public IParameter[] Parameters
                {
                    get { return m_Parameters; }
                }

            #endif // DEBUG 

            #endregion

        #region Public Constructors

        /// &lt;summary&gt;
        /// Initializes a new instance of the &lt;see cref=&quot;SqlHelperException&quot;/&gt; class.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;method&quot;&gt;The method where the exception occurred.&lt;/param&gt;
        /// &lt;param name=&quot;commandText&quot;&gt;The command text. Only used in debug mode.&lt;/param&gt;
        /// &lt;param name=&quot;parameters&quot;&gt;The command parameters. Only used in debug mode.&lt;/param&gt;
        /// &lt;param name=&quot;innerException&quot;&gt;The inner exception.&lt;/param&gt;
        /// &lt;remarks&gt;
        /// *Never* place the command text inside the exception message,
        /// since the message could be shown on a level with lower security.
        /// Especially dangerous with faulty command texts (code injection),
        /// or commands with inline parameters. (information leak)
        /// (So there&#39;s another reason to use real parameters.)
        /// &lt;/remarks&gt;
        public SqlHelperException(string method, string commandText, IParameter[] parameters, Exception innerException)
            : base(String.Format(&quot;SQL helper exception in {0}&quot;, method), innerException)
        {

            #if DEBUG
                // Save command and parameters
                m_CommandText = commandText;
                m_Parameters = parameters;

            #endif // DEBUG

        }

        #endregion
    }
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[54,25,54,26,0],[54,27,54,48,0],[54,49,54,50,0],[64,25,64,26,0],[64,27,64,47,0],[64,48,64,49,0],[88,15,88,89,0],[89,9,89,10,0],[93,17,93,45,0],[94,17,94,43,0],[98,9,98,10,0]]);
    </script>
  </body>
</html>