<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\Umbraco.Core\Models\ContentTypeSort.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using Umbraco.Core.Models.EntityBase;

namespace Umbraco.Core.Models
{
    /// &lt;summary&gt;
    /// Represents a POCO for setting sort order on a ContentType reference
    /// &lt;/summary&gt;
    public class ContentTypeSort : IValueObject, IDeepCloneable
    {
        [Obsolete(&quot;This parameterless constructor should never be used&quot;)]
        public ContentTypeSort()
        {
        }

        /// &lt;summary&gt;
        /// Initializes a new instance of the &lt;see cref=&quot;T:System.Object&quot;/&gt; class.
        /// &lt;/summary&gt;
        public ContentTypeSort(int id, int sortOrder)
        {
            Id = new Lazy&lt;int&gt;(() =&gt; id);
            SortOrder = sortOrder;
        }

        public ContentTypeSort(Lazy&lt;int&gt; id, int sortOrder, string @alias)
        {
            Id = id;
            SortOrder = sortOrder;
            Alias = alias;
        }

        /// &lt;summary&gt;
        /// Gets or sets the Id of the ContentType
        /// &lt;/summary&gt;
        public Lazy&lt;int&gt; Id { get; set; }

        /// &lt;summary&gt;
        /// Gets or sets the Sort Order of the ContentType
        /// &lt;/summary&gt;
        public int SortOrder { get; set; }

        /// &lt;summary&gt;
        /// Gets or sets the Alias of the ContentType
        /// &lt;/summary&gt;
        public string Alias { get; set; }


        public object DeepClone()
        {
            var clone = (ContentTypeSort)MemberwiseClone();
            var id = Id.Value;
            clone.Id = new Lazy&lt;int&gt;(() =&gt; id);
            return clone;
        }

        protected bool Equals(ContentTypeSort other)
        {
            return Id.Value.Equals(other.Id.Value) &amp;&amp; string.Equals(Alias, other.Alias);    
        }

        public override bool Equals(object obj)
        {
            if (ReferenceEquals(null, obj)) return false;
            if (ReferenceEquals(this, obj)) return true;
            if (obj.GetType() != this.GetType()) return false;
            return Equals((ContentTypeSort) obj);
        }

        public override int GetHashCode()
        {
            unchecked
            {
                //The hash code will just be the alias if one is assigned, otherwise it will be the hash code of the Id.
                //In some cases the alias can be null of the non lazy ctor is used, in that case, the lazy Id will already have a value created.
                return Alias != null ? Alias.GetHashCode() : (Id.Value.GetHashCode() * 397);
            }
        }

    }
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[12,9,12,33,0],[13,9,13,10,0],[14,9,14,10,0],[19,9,19,54,1],[20,9,20,10,1],[21,13,21,38,1],[21,38,21,40,1],[21,40,21,42,1],[21,13,21,42,1],[22,13,22,35,1],[23,9,23,10,1],[25,9,25,75,1],[26,9,26,10,1],[27,13,27,21,1],[28,13,28,35,1],[29,13,29,27,1],[30,9,30,10,1],[35,31,35,35,1],[35,36,35,40,1],[40,32,40,36,1],[40,37,40,41,1],[45,31,45,35,1],[45,36,45,40,1],[49,9,49,10,1],[50,13,50,60,1],[51,13,51,31,1],[52,13,52,44,1],[52,44,52,46,1],[52,46,52,48,1],[52,13,52,48,1],[53,13,53,26,1],[54,9,54,10,1],[57,9,57,10,1],[58,13,58,89,1],[59,9,59,10,1],[62,9,62,10,1],[63,13,63,44,1],[63,45,63,58,0],[64,13,64,44,1],[64,45,64,57,1],[65,13,65,49,1],[65,50,65,63,1],[66,13,66,50,1],[67,9,67,10,1],[70,9,70,10,1],[72,13,72,14,1],[75,17,75,93,1],[77,9,77,10,1]]);
    </script>
  </body>
</html>