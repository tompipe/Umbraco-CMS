<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\Umbraco.Tests\Models\UserExtensionsTests.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using Moq;
using NUnit.Framework;
using Umbraco.Core.Models;
using Umbraco.Core.Models.Membership;

namespace Umbraco.Tests.Models
{
    [TestFixture]
    public class UserExtensionsTests
    {
        [TestCase(2, &quot;-1,1,2,3,4,5&quot;, true)]
        [TestCase(6, &quot;-1,1,2,3,4,5&quot;, false)]
        [TestCase(-1, &quot;-1,1,2,3,4,5&quot;, true)]
        [TestCase(5, &quot;-1,1,2,3,4,5&quot;, true)]
        [TestCase(-1, &quot;-1,-20,1,2,3,4,5&quot;, true)]
        [TestCase(1, &quot;-1,-20,1,2,3,4,5&quot;, false)]
        public void Determines_Path_Based_Access_To_Content(int userId, string contentPath, bool outcome)
        {
            var userMock = new Mock&lt;IUser&gt;();
            userMock.Setup(u =&gt; u.StartContentId).Returns(userId);
            var user = userMock.Object;
            var contentMock = new Mock&lt;IContent&gt;();
            contentMock.Setup(c =&gt; c.Path).Returns(contentPath);
            var content = contentMock.Object;

            Assert.AreEqual(outcome, user.HasPathAccess(content));
        }
    }
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[18,9,18,10,1],[19,13,19,46,1],[20,13,20,67,1],[21,13,21,40,1],[22,13,22,52,1],[23,13,23,65,1],[24,13,24,46,1],[26,13,26,67,1],[27,9,27,10,1]]);
    </script>
  </body>
</html>