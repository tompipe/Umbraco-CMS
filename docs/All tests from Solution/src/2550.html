<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\umbraco.controls\TabPage.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.Collections;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Web;
using System.Web.SessionState;
using System.Web.UI;
using System.Web.UI.WebControls;
using System.Web.UI.HtmlControls;

namespace umbraco.uicontrols {

    public class TabPage : WebControl
    {
        // Ensure that a TabPage cannot be instatiated outside 
        // this assembly -&gt; New instances of a tabpage can only be retrieved through the tabview
        private bool _hasMenu = true;
        private readonly ScrollingMenu _menu = new ScrollingMenu();
        protected LiteralControl ErrorHeaderControl = new LiteralControl();
        private LiteralControl _closeButtonControl = new LiteralControl();
        private readonly ValidationSummary _vs = new ValidationSummary();
        private readonly Control _tempErr = new Control();
        internal TabView parent;


        public string Text { get; set; }

        internal TabPage()
        {

        }

        public ValidationSummary ValidationSummaryControl
        {
            get { return _vs; }
        }

        public string ErrorHeader { get; set; }
        public string CloseCaption { get; set; }
        public bool Active { get; set; }

        public Control ErrorControl
        {
            get { return _tempErr; }
        }

        protected override void OnInit(EventArgs e)
        {
            base.OnInit(e);
            
            _vs.ShowSummary = true;
            _vs.Attributes.Remove(&quot;style&quot;);
            _vs.Style.Clear();
            _vs.ForeColor = new Color();
            _vs.ID = String.Format(&quot;{0}_validationSummary&quot;, this.ID);

            // Add error pane
            _tempErr.Visible = false;
            _tempErr.ID = String.Format(&quot;{0}_errorPaneContainer&quot;, this.ID);
            _tempErr.Controls.Add(_closeButtonControl);
            _tempErr.Controls.Add(ErrorHeaderControl);
            _tempErr.Controls.Add(new LiteralControl(&quot;&lt;/h3&gt;&lt;p&gt;&quot;));
            _tempErr.Controls.Add(_vs);
            _tempErr.Controls.Add(new LiteralControl(&quot;&lt;/p&gt;&lt;/div&gt;&quot;));

            this.Controls.Add(_tempErr);
        }

        public ScrollingMenu Menu
        {
            get { return parent.Menu; }
        }

        public bool HasMenu
        {
            get { return _hasMenu; }
            set { _hasMenu = value; }
        }

        protected override void Render(System.Web.UI.HtmlTextWriter writer)
        {
            _closeButtonControl.Text = &quot;&lt;div id=\&quot;errorPane_&quot; + this.ClientID + &quot;\&quot; style=&#39;margin: 10px 0px 10px 0px; text-align: left;&#39; class=\&quot;error\&quot;&gt;&lt;div style=\&quot;float: right; padding: 5px;\&quot;&gt;&lt;a href=\&quot;#\&quot; onClick=\&quot;javascript:document.getElementById(&#39;errorPane_&quot; + this.ClientID + &quot;&#39;).style.display = &#39;none&#39;; return false;\&quot;&gt;&quot; + CloseCaption + &quot;&lt;/a&gt;&lt;/div&gt;&lt;h3&gt;&quot;;
            ErrorHeaderControl.Text = ErrorHeader;
           
            var activeClass = string.Empty;

            if (this.ID == parent.ActiveTabId)
                activeClass = &quot;active&quot;;

            writer.WriteLine(&quot;&lt;div id=&#39;&quot; + this.ID + &quot;&#39; class=&#39;umb-tab-pane tab-pane form-horizontal &quot; + activeClass + &quot; &quot; + parent.ActiveTabId + &quot;&#39;&gt;&quot;);
            writer.WriteLine(&quot;&lt;div class=&#39;umb-tab-pane-inner&#39; id=&#39;&quot; + this.ClientID + &quot;_contentlayer&#39;&gt;&quot;);

            this.RenderChildren(writer);

            writer.WriteLine(&quot;&lt;/div&gt;&quot;);
            writer.WriteLine(&quot;&lt;/div&gt;&quot;);
        }
    }
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[18,9,18,38,0],[19,9,19,68,0],[20,9,20,76,0],[21,9,21,75,0],[22,9,22,74,0],[23,9,23,59,0],[27,30,27,34,0],[27,35,27,39,0],[29,9,29,27,0],[30,9,30,10,0],[32,9,32,10,0],[36,17,36,18,0],[36,19,36,30,0],[36,31,36,32,0],[39,37,39,41,0],[39,42,39,46,0],[40,38,40,42,0],[40,43,40,47,0],[41,30,41,34,0],[41,35,41,39,0],[45,17,45,18,0],[45,19,45,35,0],[45,36,45,37,0],[49,9,49,10,0],[50,13,50,28,0],[52,13,52,36,0],[53,13,53,44,0],[54,13,54,31,0],[55,13,55,41,0],[56,13,56,70,0],[59,13,59,38,0],[60,13,60,76,0],[61,13,61,56,0],[62,13,62,55,0],[63,13,63,67,0],[64,13,64,40,0],[65,13,65,69,0],[67,13,67,41,0],[68,9,68,10,0],[72,17,72,18,0],[72,19,72,38,0],[72,39,72,40,0],[77,17,77,18,0],[77,19,77,35,0],[77,36,77,37,0],[78,17,78,18,0],[78,19,78,36,0],[78,37,78,38,0],[82,9,82,10,0],[83,13,83,367,0],[84,13,84,51,0],[86,13,86,44,0],[88,13,88,47,0],[89,17,89,40,0],[91,13,91,153,0],[92,13,92,106,0],[94,13,94,41,0],[96,13,96,40,0],[97,13,97,40,0],[98,9,98,10,0]]);
    </script>
  </body>
</html>