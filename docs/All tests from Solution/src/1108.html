<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\Umbraco.Web\Media\EmbedProviders\OEmbedPhoto.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System.Web;
using System.Xml;

namespace Umbraco.Web.Media.EmbedProviders
{
    public class OEmbedPhoto : AbstractOEmbedProvider
    {
        public override string GetMarkup(string url, int maxWidth, int maxHeight)
        {
            string requestUrl = BuildFullUrl(url, maxWidth, maxHeight);

            XmlDocument doc = GetXmlResponse(requestUrl);
            string imageUrl = GetXmlProperty(doc, &quot;/oembed/url&quot;);
            string imageWidth = GetXmlProperty(doc, &quot;/oembed/width&quot;);
            string imageHeight = GetXmlProperty(doc, &quot;/oembed/height&quot;);
            string imageTitle = GetXmlProperty(doc, &quot;/oembed/title&quot;);

            return string.Format(&quot;&lt;img src=\&quot;{0}\&quot; width\&quot;{1}\&quot; height=\&quot;{2}\&quot; alt=\&quot;{3}\&quot; /&gt;&quot;,
                imageUrl, imageWidth, imageHeight, HttpUtility.HtmlEncode(imageTitle));
        }
    }
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[9,9,9,10,0],[10,13,10,72,0],[12,13,12,58,0],[13,13,13,66,0],[14,13,14,70,0],[15,13,15,72,0],[16,13,16,70,0],[18,13,19,88,0],[20,9,20,10,0]]);
    </script>
  </body>
</html>