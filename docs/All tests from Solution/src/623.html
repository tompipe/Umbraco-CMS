<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\Umbraco.Web\umbraco.presentation\umbraco\plugins\tinymce3\InsertAnchor.aspx.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.Collections.Generic;
using System.Web;
using System.Web.UI;
using System.Web.UI.WebControls;
using umbraco.BusinessLogic;
using umbraco.businesslogic.Exceptions;

namespace umbraco.presentation.umbraco.plugins.tinymce3
{
	public partial class InsertAnchor : BasePages.UmbracoEnsuredPage
	{

        protected override void OnInit(EventArgs e)
        {
            base.OnInit(e);

            //this could be used for media or content so we need to at least validate that the user has access to one or the other
            if (!ValidateUserApp(DefaultApps.content.ToString()) &amp;&amp; !ValidateUserApp(DefaultApps.media.ToString()))
                throw new UserAuthorizationException(&quot;The current user doesn&#39;t have access to the section/app&quot;);
        }

		protected override void OnLoad(EventArgs e)
		{
			base.OnLoad(e);
			ClientLoader.DataBind();
		}

	}
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[15,9,15,10,0],[16,13,16,28,0],[19,13,19,116,0],[20,17,20,113,0],[21,9,21,10,0],[24,3,24,4,0],[25,4,25,19,0],[26,4,26,28,0],[27,3,27,4,0]]);
    </script>
  </body>
</html>