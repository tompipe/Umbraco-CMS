<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\Umbraco.Web\umbraco.presentation\umbraco\dashboard\LatestEdits.ascx.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using umbraco.BusinessLogic;
using System;
using Umbraco.Core.IO;
using umbraco.cms.businesslogic.web;

namespace dashboardUtilities
{
	/// &lt;summary&gt;
	///		Summary description for LatestEdits.
	/// &lt;/summary&gt;
	public partial class LatestEdits : System.Web.UI.UserControl
	{

		// Find current user
		private System.Collections.ArrayList printedIds = new System.Collections.ArrayList();
		private int count = 0;
        public int MaxRecords { get; set; }

		protected void Page_Load(object sender, EventArgs e)
		{
			if (MaxRecords == 0)
		        MaxRecords = 30;

			Repeater1.DataSource = Log.GetLogReader(User.GetCurrent(), LogTypes.Save, DateTime.Now.Subtract(new TimeSpan(7,0,0,0,0)), MaxRecords);
			Repeater1.DataBind();
		}

		public string PrintNodeName(object NodeId, object Date) 
		{
			if (!printedIds.Contains(NodeId) &amp;&amp; count &lt; MaxRecords) 
			{
				printedIds.Add(NodeId);
				try 
				{
                    Document d = new Document(int.Parse(NodeId.ToString()));										
					count++;
					return
                        &quot;&lt;a href=\&quot;#/content/content/edit/&quot; + NodeId.ToString() + &quot;\&quot; style=\&quot;text-decoration: none\&quot;&gt;&lt;i class=&#39;icon icon-document&#39;&gt;&lt;/i&gt; &quot; + d.Text + &quot; -  &quot; + umbraco.ui.Text(&quot;general&quot;, &quot;edited&quot;, User.GetCurrent()) + &quot; &quot; + umbraco.library.ShortDateWithTimeAndGlobal(DateTime.Parse(Date.ToString()).ToString(), umbraco.ui.Culture(User.GetCurrent())) + &quot;&lt;/a&gt;&quot;;
				}
				catch {
					return &quot;&quot;;
				}
				
			} else
				return &quot;&quot;;
		}

		#region Web Form Designer generated code
		override protected void OnInit(EventArgs e)
		{
			//
			// CODEGEN: This call is required by the ASP.NET Web Form Designer.
			//
			InitializeComponent();
			base.OnInit(e);
		}
		
		/// &lt;summary&gt;
		///		Required method for Designer support - do not modify
		///		the contents of this method with the code editor.
		/// &lt;/summary&gt;
		private void InitializeComponent()
		{

		}
		#endregion
	}
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[15,3,15,88,0],[16,3,16,25,0],[17,33,17,37,0],[17,38,17,42,0],[20,3,20,4,0],[21,4,21,24,0],[22,11,22,27,0],[24,4,24,138,0],[25,4,25,25,0],[26,3,26,4,0],[29,3,29,4,0],[30,4,30,59,0],[31,4,31,5,0],[32,5,32,28,0],[34,5,34,6,0],[35,21,35,77,0],[36,6,36,14,0],[37,6,38,375,0],[40,5,40,10,0],[40,11,40,12,0],[41,6,41,16,0],[45,5,45,15,0],[46,3,46,4,0],[50,3,50,4,0],[54,4,54,26,0],[55,4,55,19,0],[56,3,56,4,0],[63,3,63,4,0],[65,3,65,4,0]]);
    </script>
  </body>
</html>