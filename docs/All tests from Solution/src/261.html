<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\Umbraco.Tests\Web\AngularIntegration\JsInitializationTests.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System.Linq;
using NUnit.Framework;
using Umbraco.Core;
using Umbraco.Web.UI.JavaScript;

namespace Umbraco.Tests.Web.AngularIntegration
{
    [TestFixture]
    public class JsInitializationTests
    {

        [Test]
        public void Get_Default_Init()
        {
            var init = JsInitialization.GetDefaultInitialization();
            Assert.IsTrue(init.Any());
        }

        [Test]
        public void Parse_Main()
        {
            var result = JsInitialization.ParseMain(new[] {&quot;[World]&quot;, &quot;Hello&quot; });

            Assert.AreEqual(@&quot;LazyLoad.js([World], function () {
    //we need to set the legacy UmbClientMgr path
    UmbClientMgr.setUmbracoPath(&#39;Hello&#39;);

    jQuery(document).ready(function () {

        angular.bootstrap(document, [&#39;umbraco&#39;]);

    });
});&quot;.StripWhitespace(), result.StripWhitespace());
        }
    }
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[14,9,14,10,1],[15,13,15,68,1],[16,13,16,39,1],[17,9,17,10,1],[21,9,21,10,1],[22,13,22,82,1],[24,13,33,51,1],[34,9,34,10,1]]);
    </script>
  </body>
</html>