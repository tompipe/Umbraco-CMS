<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\Umbraco.Core\Cache\CacheProviderExtensions.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web.Caching;

namespace Umbraco.Core.Cache
{
    /// &lt;summary&gt;
    /// Extensions for strongly typed access
    /// &lt;/summary&gt;
    public static class CacheProviderExtensions
    {
        public static T GetCacheItem&lt;T&gt;(this IRuntimeCacheProvider provider,
            string cacheKey,
            Func&lt;T&gt; getCacheItem,
            TimeSpan? timeout,
            bool isSliding = false,
            CacheItemPriority priority = CacheItemPriority.Normal,
            CacheItemRemovedCallback removedCallback = null,
            string[] dependentFiles = null)
        {
            var result = provider.GetCacheItem(cacheKey, () =&gt; getCacheItem(), timeout, isSliding, priority, removedCallback, dependentFiles);
            return result == null ? default(T) : result.TryConvertTo&lt;T&gt;().Result;
        }

        public static void InsertCacheItem&lt;T&gt;(this IRuntimeCacheProvider provider,
            string cacheKey,
            Func&lt;T&gt; getCacheItem,
            TimeSpan? timeout = null,
            bool isSliding = false,
            CacheItemPriority priority = CacheItemPriority.Normal,
            CacheItemRemovedCallback removedCallback = null,
            string[] dependentFiles = null)
        {
            provider.InsertCacheItem(cacheKey, () =&gt; getCacheItem(), timeout, isSliding, priority, removedCallback, dependentFiles);
        }

        public static IEnumerable&lt;T&gt; GetCacheItemsByKeySearch&lt;T&gt;(this ICacheProvider provider, string keyStartsWith)
        {
            var result = provider.GetCacheItemsByKeySearch(keyStartsWith);
            return result.Select(x =&gt; x.TryConvertTo&lt;T&gt;().Result);
        }

        public static IEnumerable&lt;T&gt; GetCacheItemsByKeyExpression&lt;T&gt;(this ICacheProvider provider, string regexString)
        {
            var result = provider.GetCacheItemsByKeyExpression(regexString);
            return result.Select(x =&gt; x.TryConvertTo&lt;T&gt;().Result);
        }

        public static T GetCacheItem&lt;T&gt;(this ICacheProvider provider, string cacheKey)
        {
            var result = provider.GetCacheItem(cacheKey);
            if (result == null)
            {
                return default(T);
            }
            return result.TryConvertTo&lt;T&gt;().Result;
        }

        public static T GetCacheItem&lt;T&gt;(this ICacheProvider provider, string cacheKey, Func&lt;T&gt; getCacheItem)
        {
            var result = provider.GetCacheItem(cacheKey, () =&gt; getCacheItem());
            if (result == null)
            {
                return default(T);
            }
            return result.TryConvertTo&lt;T&gt;().Result;
        }
    }
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[21,9,21,10,1],[22,13,22,64,1],[22,64,22,78,1],[22,78,22,143,1],[22,13,22,143,1],[23,13,23,82,1],[24,9,24,10,1],[34,9,34,10,0],[35,13,35,54,0],[35,54,35,68,0],[35,68,35,133,0],[35,13,35,133,0],[36,9,36,10,0],[39,9,39,10,1],[40,13,40,75,1],[41,13,41,39,1],[41,39,41,65,1],[41,65,41,67,1],[41,13,41,67,1],[42,9,42,10,1],[45,9,45,10,0],[46,13,46,77,0],[47,13,47,39,0],[47,39,47,65,0],[47,65,47,67,0],[47,13,47,67,0],[48,9,48,10,0],[51,9,51,10,1],[52,13,52,58,1],[53,13,53,32,1],[54,13,54,14,1],[55,17,55,35,1],[57,13,57,52,1],[58,9,58,10,1],[61,9,61,10,1],[62,13,62,64,1],[62,64,62,78,1],[62,78,62,80,1],[62,13,62,80,1],[63,13,63,32,1],[64,13,64,14,0],[65,17,65,35,0],[67,13,67,52,1],[68,9,68,10,1]]);
    </script>
  </body>
</html>