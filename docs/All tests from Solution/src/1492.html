<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\Umbraco.Core\Strings\ContentBaseExtensions.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System.Collections.Generic;
using System.Globalization;
using System.Linq;
using Umbraco.Core.Models;

namespace Umbraco.Core.Strings
{
    /// &lt;summary&gt;
    /// Provides extension methods to IContentBase to get url segments.
    /// &lt;/summary&gt;
    internal static class ContentBaseExtensions
    {
        /// &lt;summary&gt;
        /// Gets the url segment providers.
        /// &lt;/summary&gt;
        /// &lt;remarks&gt;This is so that unit tests that do not initialize the resolver do not
        /// fail and fall back to defaults. When running the whole Umbraco, CoreBootManager
        /// does initialise the resolver.&lt;/remarks&gt;
        private static IEnumerable&lt;IUrlSegmentProvider&gt; UrlSegmentProviders
        {
            get
            {
                return UrlSegmentProviderResolver.HasCurrent
                           ? UrlSegmentProviderResolver.Current.Providers
                           : new IUrlSegmentProvider[] { new DefaultUrlSegmentProvider() };
            }
        }

        /// &lt;summary&gt;
        /// Gets the default url segment for a specified content.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;content&quot;&gt;The content.&lt;/param&gt;
        /// &lt;returns&gt;The url segment.&lt;/returns&gt;
        public static string GetUrlSegment(this IContentBase content)
        {
            var url = UrlSegmentProviders.Select(p =&gt; p.GetUrlSegment(content)).First(u =&gt; u != null);
            url = url ?? new DefaultUrlSegmentProvider().GetUrlSegment(content); // be safe
            return url;
        }

        /// &lt;summary&gt;
        /// Gets the url segment for a specified content and culture.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;content&quot;&gt;The content.&lt;/param&gt;
        /// &lt;param name=&quot;culture&quot;&gt;The culture.&lt;/param&gt;
        /// &lt;returns&gt;The url segment.&lt;/returns&gt;
        public static string GetUrlSegment(this IContentBase content, CultureInfo culture)
        {
            var url = UrlSegmentProviders.Select(p =&gt; p.GetUrlSegment(content, culture)).First(u =&gt; u != null);
            url = url ?? new DefaultUrlSegmentProvider().GetUrlSegment(content, culture); // be safe
            return url;
        }
    }
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[22,13,22,14,1],[23,17,25,92,1],[26,13,26,14,1],[35,9,35,10,1],[36,13,36,55,1],[36,55,36,79,1],[36,79,36,92,1],[36,92,36,101,1],[36,101,36,103,1],[36,13,36,103,1],[37,13,37,81,1],[38,13,38,24,1],[39,9,39,10,1],[48,9,48,10,0],[49,13,49,55,0],[49,55,49,88,0],[49,88,49,101,0],[49,101,49,110,0],[49,110,49,112,0],[49,13,49,112,0],[50,13,50,90,0],[51,13,51,24,0],[52,9,52,10,0]]);
    </script>
  </body>
</html>