<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\Umbraco.Web\Models\LegacyConvertedNode.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.Collections.Generic;
using System.Data;
using System.Linq;
using Umbraco.Core.Models;
using Umbraco.Core.Models.PublishedContent;
using umbraco.interfaces;

namespace Umbraco.Web.Models
{
    /// &lt;summary&gt;
    /// A legacy INode that wraps IPublishedContent
    /// &lt;/summary&gt;
    internal class LegacyConvertedNode : PublishedContentWrapped, INode
    {
        private readonly IPublishedContent _publishedContent;
        private readonly int _id;
        private readonly int _template;
        private readonly int _sortOrder;
        private readonly string _name;
        private readonly string _urlName;
        private readonly string _nodeTypeAlias;
        private readonly string _writerName;
        private readonly string _creatorName;
        private readonly int _writerId;
        private readonly int _creatorId;
        private readonly string _path;
        private readonly DateTime _createDate;
        private readonly DateTime _updateDate;
        private readonly Guid _version;
        private readonly int _level;

        public LegacyConvertedNode(IPublishedContent publishedContent) : base(publishedContent)
        {
            _publishedContent = publishedContent;

            if (publishedContent == null)
            {
                _id = 0;
                return;
            }

            _template = publishedContent.TemplateId;
            _id = publishedContent.Id;
            _path = publishedContent.Path;
            _creatorName = publishedContent.CreatorName;
            _sortOrder = publishedContent.SortOrder;
            _updateDate = publishedContent.UpdateDate;
            _name = publishedContent.Name;
            _nodeTypeAlias = publishedContent.DocumentTypeAlias;
            _createDate = publishedContent.CreateDate;
            _creatorId = publishedContent.CreatorId;
            _level = publishedContent.Level;
            _urlName = publishedContent.UrlName;
            _version = publishedContent.Version;
            _writerId = publishedContent.WriterId;
            _writerName = publishedContent.WriterName;
        }

        INode INode.Parent
        {
            get { return _publishedContent.Parent == null ? null : LegacyNodeHelper.ConvertToNode(_publishedContent.Parent); }
        }

        int INode.Id
        {
            get { return _id; }
        }

        int INode.template
        {
            get { return _template; }
        }

        int INode.SortOrder
        {
            get { return _sortOrder; }
        }

        string INode.Name
        {
            get { return _name; }
        }

        string INode.UrlName
        {
            get { return _urlName; }
        }

        string INode.NodeTypeAlias
        {
            get { return _nodeTypeAlias; }
        }

        string INode.WriterName
        {
            get { return _writerName; }
        }

        string INode.CreatorName
        {
            get { return _creatorName; }
        }

        int INode.WriterID
        {
            get { return _writerId; }
        }

        int INode.CreatorID
        {
            get { return _creatorId; }
        }

        string INode.Path
        {
            get { return _path; }
        }

        DateTime INode.CreateDate
        {
            get { return _createDate; }
        }

        DateTime INode.UpdateDate
        {
            get { return _updateDate; }
        }

        Guid INode.Version
        {
            get { return _version; }
        }

        string INode.NiceUrl
        {
            get { return _publishedContent.Url; }
        }

        string INode.Url
        {
            get { return _publishedContent.Url; }
        }

        int INode.Level
        {
            get { return _level; }
        }

        List&lt;IProperty&gt; INode.PropertiesAsList
        {
            get { return _publishedContent.Properties.Select(LegacyNodeHelper.ConvertToNodeProperty).ToList(); }
        }

        List&lt;INode&gt; INode.ChildrenAsList
        {
            get { return _publishedContent.Children.Select(LegacyNodeHelper.ConvertToNode).ToList(); }
        }

        IProperty INode.GetProperty(string alias)
        {
            return ((INode)this).PropertiesAsList.Cast&lt;global::umbraco.NodeFactory.Property&gt;().FirstOrDefault(p =&gt; p.Alias == alias);
        }

        IProperty INode.GetProperty(string alias, out bool propertyExists)
        {
            var prop = _publishedContent.GetProperty(alias);
            propertyExists = prop != null;
            return prop == null ? null : LegacyNodeHelper.ConvertToNodeProperty(prop);
        }

        DataTable INode.ChildrenAsTable()
        {
            return _publishedContent.ChildrenAsTable();
        }

        DataTable INode.ChildrenAsTable(string nodeTypeAliasFilter)
        {
            return _publishedContent.ChildrenAsTable(nodeTypeAliasFilter);
        }
    }
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[33,74,33,96,1],[34,9,34,10,1],[35,13,35,50,1],[37,13,37,42,1],[38,13,38,14,1],[39,17,39,25,1],[40,17,40,24,1],[43,13,43,53,1],[44,13,44,39,1],[45,13,45,43,1],[46,13,46,57,1],[47,13,47,53,1],[48,13,48,55,1],[49,13,49,43,1],[50,13,50,65,1],[51,13,51,55,1],[52,13,52,53,1],[53,13,53,45,1],[54,13,54,49,1],[55,13,55,49,1],[56,13,56,51,1],[57,13,57,55,1],[58,9,58,10,1],[62,17,62,18,1],[62,19,62,125,1],[62,126,62,127,1],[67,17,67,18,1],[67,19,67,30,1],[67,31,67,32,1],[72,17,72,18,0],[72,19,72,36,0],[72,37,72,38,0],[77,17,77,18,0],[77,19,77,37,0],[77,38,77,39,0],[82,17,82,18,0],[82,19,82,32,0],[82,33,82,34,0],[87,17,87,18,0],[87,19,87,35,0],[87,36,87,37,0],[92,17,92,18,0],[92,19,92,41,0],[92,42,92,43,0],[97,17,97,18,0],[97,19,97,38,0],[97,39,97,40,0],[102,17,102,18,0],[102,19,102,39,0],[102,40,102,41,0],[107,17,107,18,0],[107,19,107,36,0],[107,37,107,38,0],[112,17,112,18,0],[112,19,112,37,0],[112,38,112,39,0],[117,17,117,18,0],[117,19,117,32,0],[117,33,117,34,0],[122,17,122,18,0],[122,19,122,38,0],[122,39,122,40,0],[127,17,127,18,0],[127,19,127,38,0],[127,39,127,40,0],[132,17,132,18,0],[132,19,132,35,0],[132,36,132,37,0],[137,17,137,18,0],[137,19,137,48,0],[137,49,137,50,0],[142,17,142,18,0],[142,19,142,48,0],[142,49,142,50,0],[147,17,147,18,1],[147,19,147,33,1],[147,34,147,35,1],[152,17,152,18,0],[152,19,152,111,0],[152,112,152,113,0],[157,17,157,18,0],[157,19,157,101,0],[157,102,157,103,0],[161,9,161,10,0],[162,13,162,116,0],[162,116,162,132,0],[162,132,162,134,0],[162,13,162,134,0],[163,9,163,10,0],[166,9,166,10,0],[167,13,167,61,0],[168,13,168,43,0],[169,13,169,87,0],[170,9,170,10,0],[173,9,173,10,0],[174,13,174,56,0],[175,9,175,10,0],[178,9,178,10,0],[179,13,179,75,0],[180,9,180,10,0]]);
    </script>
  </body>
</html>