<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\umbraco.MacroEngines\RazorDynamicNode\DynamicBackingItem.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using umbraco.interfaces;
using umbraco.cms.businesslogic.media;
using umbraco.cms.businesslogic;
using umbraco.cms.businesslogic.property;
using System.Data;
using Umbraco.Core;
using umbraco.MacroEngines.Library;
using Umbraco.Web;
using Umbraco.Web.Models;
using Umbraco.Web.umbraco.presentation;

namespace umbraco.MacroEngines
{
    public class DynamicBackingItem
    {
        internal INode content;
        internal ExamineBackedMedia media;
        public DynamicBackingItemType Type;

        public DynamicBackingItem(INode iNode)
        {
            this.content = iNode;
            this.Type = DynamicBackingItemType.Content;
        }
        public DynamicBackingItem(ExamineBackedMedia media)
        {
            this.media = media;
            this.Type = DynamicBackingItemType.Media;
        }
        public DynamicBackingItem(int Id)
        {
            if (Id == -1)
            {
                // passing in -1 needs to return a real node, the &quot;root&quot; node, which has no 
                // properties (defaults apply) but can be used to access descendants, children, etc.
                
                this.content = new NodeFactory.Node(Id);
                return;
            }

            var n = LegacyNodeHelper.ConvertToNode(UmbracoContext.Current.ContentCache.GetById(Id));
           
            this.content = n;
            this.Type = DynamicBackingItemType.Content;
            if (n.Id == 0 &amp;&amp; Id != 0)
            {
                this.media = ExamineBackedMedia.GetUmbracoMedia(Id);
                this.Type = DynamicBackingItemType.Media;
                if (this.media == null)
                {
                    this.Type = DynamicBackingItemType.Content;
                }
                return;
            }

        }
        public DynamicBackingItem(int Id, DynamicBackingItemType Type)
        {
            if (Type == DynamicBackingItemType.Media)
            {
                this.media = ExamineBackedMedia.GetUmbracoMedia(Id);
                this.Type = Type;
            }
            else
            {
                if (Id == -1)
                {
                    // passing in -1 needs to return a real node, the &quot;root&quot; node, which has no 
                    // properties (defaults apply) but can be used to access descendants, children, etc.

                    this.content = new NodeFactory.Node(Id);
                }
                else
                {
                    this.content = LegacyNodeHelper.ConvertToNode(UmbracoContext.Current.ContentCache.GetById(Id));    
                }
                
                this.Type = Type;
            }
        }

        public DynamicBackingItem(CMSNode node)
        {
            this.content = (INode)node;
            this.Type = DynamicBackingItemType.Content;
        }

        public bool IsNull()
        {
            return (content == null &amp;&amp; media == null);
        }
        public List&lt;DynamicBackingItem&gt; ChildrenAsList
        {
            get
            {
                if (IsNull()) return null;
                if (Type == DynamicBackingItemType.Content)
                {
                    var children = content.ChildrenAsList;
                    if (children != null)
                    {
                        return children.ConvertAll(c =&gt; new DynamicBackingItem(c));
                    }
                }
                else
                {
                    var children = media.ChildrenAsList.Value;
                    if (children != null)
                    {
                        return children.ConvertAll(m =&gt; new DynamicBackingItem(m));
                    }
                }
                return new List&lt;DynamicBackingItem&gt;();
            }
        }

        public PropertyResult GetProperty(string alias)
        {
            if (IsNull()) return null;
            if (Type == DynamicBackingItemType.Content)
            {
                return GetPropertyInternal(alias, content);
            }
            else
            {
                return GetPropertyInternal(alias, media);
            }
        }

        private PropertyResult GetPropertyInternal(string alias, INode content)
        {
            bool propertyExists = false;
            var prop = content.GetProperty(alias, out propertyExists);
            if (prop != null)
            {
                return new PropertyResult(prop) { ContextAlias = content.NodeTypeAlias, ContextId = content.Id };
            }
            else
            {
                if (alias.Substring(0, 1).ToUpper() == alias.Substring(0, 1) &amp;&amp; !propertyExists)
                {
                    prop = content.GetProperty(alias.Substring(0, 1).ToLower() + alias.Substring((1)), out propertyExists);
                    if (prop != null)
                    {
                        return new PropertyResult(prop) { ContextAlias = content.NodeTypeAlias, ContextId = content.Id };
                    }
                    else
                    {
                        //reflect
                        object result = null;
                        try
                        {
                            result = content.GetType().InvokeMember(alias,
                                                      System.Reflection.BindingFlags.GetProperty |
                                                      System.Reflection.BindingFlags.Instance |
                                                      System.Reflection.BindingFlags.Public,
                                                      null,
                                                      content,
                                                      null);
                        }
                        catch (MissingMethodException)
                        {

                        }
                        if (result != null)
                        {
                            return new PropertyResult(alias, string.Format(&quot;{0}&quot;, result)) { ContextAlias = content.NodeTypeAlias, ContextId = content.Id };
                        }
                    }
                }
            }
            return null;
        }
        private PropertyResult GetPropertyInternal(string alias, ExamineBackedMedia content)
        {
            bool propertyExists = false;
            var prop = content.GetProperty(alias, out propertyExists);
            if (prop != null)
            {
                return new PropertyResult(prop) { ContextAlias = content.NodeTypeAlias, ContextId = content.Id };
            }
            else
            {
                if (alias.Substring(0, 1).ToUpper() == alias.Substring(0, 1) &amp;&amp; !propertyExists)
                {
                    prop = content.GetProperty(alias.Substring(0, 1).ToLower() + alias.Substring((1)), out propertyExists);
                    if (prop != null)
                    {
                        return new PropertyResult(prop) { ContextAlias = content.NodeTypeAlias, ContextId = content.Id };
                    }
                    else
                    {
                        object result = null;
                        try
                        {
                            result = content.GetType().InvokeMember(alias,
                                                      System.Reflection.BindingFlags.GetProperty |
                                                      System.Reflection.BindingFlags.Instance |
                                                      System.Reflection.BindingFlags.Public,
                                                      null,
                                                      content,
                                                      null);
                        }
                        catch (MissingMethodException)
                        {
                        }
                        if (result != null)
                        {
                            return new PropertyResult(alias, string.Format(&quot;{0}&quot;, result)) { ContextAlias = content.NodeTypeAlias, ContextId = content.Id };
                        }
                    }
                }
            }
            return null;
        }
        public PropertyResult GetProperty(string alias, out bool propertyExists)
        {
            if (IsNull())
            {
                propertyExists = false;
                return null;
            }
            PropertyResult property = null;
            IProperty innerProperty = null;
            if (Type == DynamicBackingItemType.Content)
            {
                innerProperty = content.GetProperty(alias, out propertyExists);
                if (innerProperty != null)
                {
                    property = new PropertyResult(innerProperty);
                    property.ContextAlias = content.NodeTypeAlias;
                    property.ContextId = content.Id;
                }
            }
            else
            {
                string[] internalProperties = new string[] {
                    &quot;id&quot;, &quot;nodeName&quot;, &quot;updateDate&quot;, &quot;writerName&quot;, &quot;path&quot;, &quot;nodeTypeAlias&quot;,
                    &quot;parentID&quot;, &quot;__NodeId&quot;, &quot;__IndexType&quot;, &quot;__Path&quot;, &quot;__NodeTypeAlias&quot;, 
                    &quot;__nodeName&quot;, Constants.Conventions.Media.Bytes, Constants.Conventions.Media.Extension, Constants.Conventions.Media.File, Constants.Conventions.Media.Width,
                    Constants.Conventions.Media.Height
                };
                if (media.WasLoadedFromExamine &amp;&amp; !internalProperties.Contains(alias) &amp;&amp; !media.Values.ContainsKey(alias))
                {
                    //examine doesn&#39;t load custom properties
                    innerProperty = media.LoadCustomPropertyNotFoundInExamine(alias, out propertyExists);
                    if (innerProperty != null)
                    {
                        property = new PropertyResult(innerProperty);
                        property.ContextAlias = media.NodeTypeAlias;
                        property.ContextId = media.Id;
                    }
                }
                else
                {
                    innerProperty = media.GetProperty(alias, out propertyExists);
                    if (innerProperty != null)
                    {
                        property = new PropertyResult(innerProperty);
                        property.ContextAlias = media.NodeTypeAlias;
                        property.ContextId = media.Id;
                    }
                }
            }
            return property;
        }

        public PropertyResult GetProperty(string alias, bool recursive)
        {
            bool propertyExists = false;
            return GetProperty(alias, recursive, out propertyExists);
        }
        public PropertyResult GetProperty(string alias, bool recursive, out bool propertyExists)
        {
            if (!recursive)
            {
                return GetProperty(alias, out propertyExists);
            }
            if (IsNull())
            {
                propertyExists = false;
                return null;
            }
            DynamicBackingItem context = this;
            PropertyResult prop = this.GetProperty(alias, out propertyExists);
            while (prop == null || string.IsNullOrEmpty(prop.Value))
            {
                context = context.Parent;
                if (context == null) break;
                prop = context.GetProperty(alias, out propertyExists);
            }
            if (prop != null)
            {
                return prop;
            }
            return null;
        }
        public string GetPropertyValue(string alias)
        {
            var prop = GetProperty(alias);
            if (prop != null) return prop.Value;
            return null;
        }
        public string GetPropertyValue(string alias, bool recursive)
        {
            var prop = GetProperty(alias, recursive);
            if (prop != null) return prop.Value;
            return null;
        }
        public List&lt;IProperty&gt; PropertiesAsList
        {
            get
            {
                if (IsNull()) return null;
                if (Type == DynamicBackingItemType.Content)
                {
                    return content.PropertiesAsList;
                }
                else
                {
                    return media.PropertiesAsList;
                }
            }
        }
        public DataTable ChildrenAsTable()
        {
            if (IsNull()) return null;
            if (Type == DynamicBackingItemType.Content)
            {
                return content.ChildrenAsTable();
            }
            else
            {
                //sorry
                return null;
            }

        }
        public DataTable ChildrenAsTable(string nodeTypeAlias)
        {
            if (IsNull()) return null;
            if (Type == DynamicBackingItemType.Content)
            {
                return content.ChildrenAsTable(nodeTypeAlias);
            }
            else
            {
                //sorry
                return null;
            }

        }
        public int Level
        {
            get { if (IsNull()) return 0; return Type == DynamicBackingItemType.Content ? content.Level : media.Level; }
        }


        public int Id
        {
            get { if (IsNull()) return 0; return Type == DynamicBackingItemType.Content ? content.Id : media.Id; }
        }

        public string NodeTypeAlias
        {
            get { if (IsNull()) return null; return Type == DynamicBackingItemType.Content ? content.NodeTypeAlias : media.NodeTypeAlias; }
        }

        public DynamicBackingItem Parent
        {
            get
            {
                if (IsNull()) return null;
                if (Type == DynamicBackingItemType.Content)
                {
                    var parent = content.Parent;
                    if (parent != null)
                    {

                        return new DynamicBackingItem(parent);
                    }

                }
                else
                {
                    var parent = media.Parent;
                    if (parent != null &amp;&amp; parent.Value != null)
                    {
                        return new DynamicBackingItem(parent.Value);
                    }
                }
                return null;
            }
        }
        public DateTime CreateDate
        {
            get { if (IsNull()) return DateTime.MinValue; return Type == DynamicBackingItemType.Content ? content.CreateDate : media.CreateDate; }
        }
        public DateTime UpdateDate
        {
            get { if (IsNull()) return DateTime.MinValue; return Type == DynamicBackingItemType.Content ? content.UpdateDate : media.UpdateDate; }
        }

        public string WriterName
        {
            get { if (IsNull()) return null; return Type == DynamicBackingItemType.Content ? content.WriterName : null; }
        }

        public string Name
        {
            get { if (IsNull()) return null; return Type == DynamicBackingItemType.Content ? content.Name : media.Name; }
        }
        public string nodeName
        {
            get { return Name; }
        }
        public string pageName
        {
            get { return Name; }
        }
        public Guid Version
        {
            get { if (IsNull()) return Guid.Empty; return Type == DynamicBackingItemType.Content ? content.Version : media.Version; }
        }

        public string Url
        {
            get { if (IsNull()) return null; return Type == DynamicBackingItemType.Content ? content.Url : media.Url; }
        }

        public string NiceUrl
        {
            get { if (IsNull()) return null; return Type == DynamicBackingItemType.Content ? content.NiceUrl : media.NiceUrl; }
        }

        public string UrlName
        {
            get { if (IsNull()) return null; return Type == DynamicBackingItemType.Content ? content.UrlName : null; }
        }

        public int template
        {
            get { if (IsNull()) return 0; return Type == DynamicBackingItemType.Content ? content.template : 0; }
        }

        public int SortOrder
        {
            get { if (IsNull()) return 0; return Type == DynamicBackingItemType.Content ? content.SortOrder : media.SortOrder; }
        }


        public string CreatorName
        {
            get { if (IsNull()) return null; return Type == DynamicBackingItemType.Content ? content.CreatorName : media.CreatorName; }
        }

        public int WriterID
        {
            get { if (IsNull()) return 0; return Type == DynamicBackingItemType.Content ? content.WriterID : 0; }
        }

        public int CreatorID
        {
            get { if (IsNull()) return 0; return Type == DynamicBackingItemType.Content ? content.CreatorID : media.CreatorID; }
        }

        public string Path
        {
            get { if (IsNull()) return null; return Type == DynamicBackingItemType.Content ? content.Path : media.Path; }
        }

        public List&lt;DynamicBackingItem&gt; GetChildrenAsList
        {
            get
            {
                if (Type == DynamicBackingItemType.Content)
                {
                    List&lt;INode&gt; children = content.ChildrenAsList;
                    //testing
                    if (children.Count == 0 &amp;&amp; content.Id == 0)
                    {
                        return new List&lt;DynamicBackingItem&gt;(new DynamicBackingItem[] { this });
                    }
                    return children.ConvertAll(n =&gt; new DynamicBackingItem(n));
                }
                else
                {
                    List&lt;ExamineBackedMedia&gt; children = media.ChildrenAsList.Value;
                    //testing
                    if (children.Count == 0 &amp;&amp; content.Id == 0)
                    {
                        return new List&lt;DynamicBackingItem&gt;(new DynamicBackingItem[] { this });
                    }
                    return children.ConvertAll(n =&gt; new DynamicBackingItem(n));
                }
            }
        }


    }
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[24,9,24,47,1],[25,9,25,10,1],[26,13,26,34,1],[27,13,27,56,1],[28,9,28,10,1],[29,9,29,60,0],[30,9,30,10,0],[31,13,31,32,0],[32,13,32,54,0],[33,9,33,10,0],[34,9,34,42,1],[35,9,35,10,1],[36,13,36,26,1],[37,13,37,14,1],[41,17,41,57,1],[42,17,42,24,1],[45,13,45,101,1],[47,13,47,30,1],[48,13,48,56,1],[49,13,49,38,1],[50,13,50,14,0],[51,17,51,69,0],[52,17,52,58,0],[53,17,53,40,0],[54,17,54,18,0],[55,21,55,64,0],[56,17,56,18,0],[57,17,57,24,0],[60,9,60,10,1],[61,9,61,71,1],[62,9,62,10,1],[63,13,63,54,1],[64,13,64,14,0],[65,17,65,69,0],[66,17,66,34,0],[67,13,67,14,0],[69,13,69,14,1],[70,17,70,30,1],[71,17,71,18,0],[75,21,75,61,0],[76,17,76,18,0],[78,17,78,18,1],[79,21,79,116,1],[80,17,80,18,1],[82,17,82,34,1],[83,13,83,14,1],[84,9,84,10,1],[86,9,86,48,0],[87,9,87,10,0],[88,13,88,40,0],[89,13,89,56,0],[90,9,90,10,0],[93,9,93,10,1],[94,13,94,55,1],[95,9,95,10,1],[99,13,99,14,1],[100,17,100,30,1],[100,31,100,43,0],[101,17,101,60,1],[102,17,102,18,1],[103,21,103,59,1],[104,21,104,42,1],[105,21,105,22,1],[106,25,106,57,1],[106,57,106,82,1],[106,82,106,84,1],[106,25,106,84,1],[108,17,108,18,0],[110,17,110,18,0],[111,21,111,63,0],[112,21,112,42,0],[113,21,113,22,0],[114,25,114,57,0],[114,57,114,82,0],[114,82,114,84,0],[114,25,114,84,0],[116,17,116,18,0],[117,17,117,55,0],[118,13,118,14,1],[122,9,122,10,1],[123,13,123,26,1],[123,27,123,39,0],[124,13,124,56,1],[125,13,125,14,1],[126,17,126,60,1],[129,13,129,14,0],[130,17,130,58,0],[132,9,132,10,1],[135,9,135,10,1],[136,13,136,41,1],[137,13,137,71,1],[138,13,138,30,1],[139,13,139,14,1],[140,17,140,114,1],[143,13,143,14,1],[144,17,144,97,1],[145,17,145,18,1],[146,21,146,124,1],[147,21,147,38,1],[148,21,148,22,1],[149,25,149,122,1],[152,21,152,22,1],[154,25,154,46,1],[156,25,156,26,1],[157,29,163,61,1],[164,25,164,26,0],[165,25,165,55,1],[166,25,166,26,1],[168,25,168,26,1],[169,25,169,44,1],[170,25,170,26,0],[171,29,171,157,0],[173,21,173,22,1],[174,17,174,18,1],[175,13,175,14,1],[176,13,176,25,1],[177,9,177,10,1],[179,9,179,10,0],[180,13,180,41,0],[181,13,181,71,0],[182,13,182,30,0],[183,13,183,14,0],[184,17,184,114,0],[187,13,187,14,0],[188,17,188,97,0],[189,17,189,18,0],[190,21,190,124,0],[191,21,191,38,0],[192,21,192,22,0],[193,25,193,122,0],[196,21,196,22,0],[197,25,197,46,0],[199,25,199,26,0],[200,29,206,61,0],[207,25,207,26,0],[208,25,208,55,0],[209,25,209,26,0],[210,25,210,26,0],[211,25,211,44,0],[212,25,212,26,0],[213,29,213,157,0],[215,21,215,22,0],[216,17,216,18,0],[217,13,217,14,0],[218,13,218,25,0],[219,9,219,10,0],[221,9,221,10,1],[222,13,222,26,1],[223,13,223,14,0],[224,17,224,40,0],[225,17,225,29,0],[227,13,227,44,1],[228,13,228,44,1],[229,13,229,56,1],[230,13,230,14,1],[231,17,231,80,1],[232,17,232,43,1],[233,17,233,18,1],[234,21,234,66,1],[235,21,235,67,1],[236,21,236,53,1],[237,17,237,18,1],[238,13,238,14,1],[240,13,240,14,0],[241,17,246,19,0],[247,17,247,123,0],[248,17,248,18,0],[250,21,250,106,0],[251,21,251,47,0],[252,21,252,22,0],[253,25,253,70,0],[254,25,254,69,0],[255,25,255,55,0],[256,21,256,22,0],[257,17,257,18,0],[259,17,259,18,0],[260,21,260,82,0],[261,21,261,47,0],[262,21,262,22,0],[263,25,263,70,0],[264,25,264,69,0],[265,25,265,55,0],[266,21,266,22,0],[267,17,267,18,0],[268,13,268,14,0],[269,13,269,29,1],[270,9,270,10,1],[273,9,273,10,1],[274,13,274,41,1],[275,13,275,70,1],[276,9,276,10,1],[278,9,278,10,1],[279,13,279,28,1],[280,13,280,14,1],[281,17,281,63,1],[283,13,283,26,1],[284,13,284,14,0],[285,17,285,40,0],[286,17,286,29,0],[288,13,288,47,1],[289,13,289,79,1],[290,13,290,69,1],[291,13,291,14,1],[292,17,292,42,1],[293,17,293,37,1],[293,38,293,44,0],[294,17,294,71,1],[295,13,295,14,1],[296,13,296,30,1],[297,13,297,14,1],[298,17,298,29,1],[300,13,300,25,0],[301,9,301,10,1],[303,9,303,10,0],[304,13,304,43,0],[305,13,305,30,0],[305,31,305,49,0],[306,13,306,25,0],[307,9,307,10,0],[309,9,309,10,0],[310,13,310,54,0],[311,13,311,30,0],[311,31,311,49,0],[312,13,312,25,0],[313,9,313,10,0],[317,13,317,14,0],[318,17,318,30,0],[318,31,318,43,0],[319,17,319,60,0],[320,17,320,18,0],[321,21,321,53,0],[324,17,324,18,0],[325,21,325,51,0],[327,13,327,14,0],[330,9,330,10,0],[331,13,331,26,0],[331,27,331,39,0],[332,13,332,56,0],[333,13,333,14,0],[334,17,334,50,0],[337,13,337,14,0],[339,17,339,29,0],[342,9,342,10,0],[344,9,344,10,0],[345,13,345,26,0],[345,27,345,39,0],[346,13,346,56,0],[347,13,347,14,0],[348,17,348,63,0],[351,13,351,14,0],[353,17,353,29,0],[356,9,356,10,0],[359,17,359,18,1],[359,19,359,32,1],[359,33,359,42,0],[359,43,359,119,1],[359,120,359,121,1],[365,17,365,18,1],[365,19,365,32,1],[365,33,365,42,0],[365,43,365,113,1],[365,114,365,115,1],[370,17,370,18,1],[370,19,370,32,1],[370,33,370,45,0],[370,46,370,138,1],[370,139,370,140,1],[376,13,376,14,1],[377,17,377,30,1],[377,31,377,43,0],[378,17,378,60,1],[379,17,379,18,1],[380,21,380,49,1],[381,21,381,40,1],[382,21,382,22,1],[384,25,384,63,1],[387,17,387,18,1],[389,17,389,18,0],[390,21,390,47,0],[391,21,391,64,0],[392,21,392,22,0],[393,25,393,69,0],[395,17,395,18,0],[396,17,396,29,1],[397,13,397,14,1],[401,17,401,18,0],[401,19,401,32,0],[401,33,401,58,0],[401,59,401,145,0],[401,146,401,147,0],[405,17,405,18,1],[405,19,405,32,1],[405,33,405,58,0],[405,59,405,145,1],[405,146,405,147,1],[410,17,410,18,0],[410,19,410,32,0],[410,33,410,45,0],[410,46,410,120,0],[410,121,410,122,0],[415,17,415,18,0],[415,19,415,32,0],[415,33,415,45,0],[415,46,415,120,0],[415,121,415,122,0],[419,17,419,18,0],[419,19,419,31,0],[419,32,419,33,0],[423,17,423,18,0],[423,19,423,31,0],[423,32,423,33,0],[427,17,427,18,0],[427,19,427,32,0],[427,33,427,51,0],[427,52,427,132,0],[427,133,427,134,0],[432,17,432,18,0],[432,19,432,32,0],[432,33,432,45,0],[432,46,432,118,0],[432,119,432,120,0],[437,17,437,18,0],[437,19,437,32,0],[437,33,437,45,0],[437,46,437,126,0],[437,127,437,128,0],[442,17,442,18,0],[442,19,442,32,0],[442,33,442,45,0],[442,46,442,117,0],[442,118,442,119,0],[447,17,447,18,0],[447,19,447,32,0],[447,33,447,42,0],[447,43,447,112,0],[447,113,447,114,0],[452,17,452,18,0],[452,19,452,32,0],[452,33,452,42,0],[452,43,452,127,0],[452,128,452,129,0],[458,17,458,18,1],[458,19,458,32,1],[458,33,458,45,0],[458,46,458,134,1],[458,135,458,136,1],[463,17,463,18,0],[463,19,463,32,0],[463,33,463,42,0],[463,43,463,112,0],[463,113,463,114,0],[468,17,468,18,0],[468,19,468,32,0],[468,33,468,42,0],[468,43,468,127,0],[468,128,468,129,0],[473,17,473,18,0],[473,19,473,32,0],[473,33,473,45,0],[473,46,473,120,0],[473,121,473,122,0],[479,13,479,14,0],[480,17,480,60,0],[481,17,481,18,0],[482,21,482,67,0],[484,21,484,64,0],[485,21,485,22,0],[486,25,486,96,0],[488,21,488,53,0],[488,53,488,78,0],[488,78,488,80,0],[488,21,488,80,0],[491,17,491,18,0],[492,21,492,84,0],[494,21,494,64,0],[495,21,495,22,0],[496,25,496,96,0],[498,21,498,53,0],[498,53,498,78,0],[498,78,498,80,0],[498,21,498,80,0],[500,13,500,14,0]]);
    </script>
  </body>
</html>