<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\Umbraco.Web\Mvc\BackOfficeArea.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System.Web;
using System.Web.Mvc;
using System.Web.Routing;
using Umbraco.Core.Configuration;
using Umbraco.Web.Editors;
using Umbraco.Web.Install;
using Umbraco.Web.Install.Controllers;

namespace Umbraco.Web.Mvc
{
    /// &lt;summary&gt;
    /// An area registration for back office components
    /// &lt;/summary&gt;
    internal class BackOfficeArea : AreaRegistration
    {

        /// &lt;summary&gt;
        /// Create the routes for the area
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;context&quot;&gt;&lt;/param&gt;
        /// &lt;remarks&gt;
        /// By using the context to register the routes it means that the area is already applied to them all 
        /// and that the namespaces searched for the controllers are ONLY the ones specified.
        /// &lt;/remarks&gt;
        public override void RegisterArea(AreaRegistrationContext context)
        {
            context.MapRoute(
                &quot;Umbraco_back_office&quot;,
                GlobalSettings.UmbracoMvcArea + &quot;/{action}/{id}&quot;,
                new {controller = &quot;BackOffice&quot;, action = &quot;Default&quot;, id = UrlParameter.Optional},
                //limit the action/id to only allow characters - this is so this route doesn&#39;t hog all other 
                // routes like: /umbraco/channels/word.aspx, etc...
                new
                    {
                        action = @&quot;[a-zA-Z]*&quot;, 
                        id = @&quot;[a-zA-Z]*&quot;
                    },
                new[] {typeof (BackOfficeController).Namespace});
            
            //Create the REST/web/script service routes
            context.MapRoute(
                &quot;Umbraco_web_services&quot;,
                GlobalSettings.UmbracoMvcArea + &quot;/RestServices/{controller}/{action}/{id}&quot;,
                new {controller = &quot;SaveFileController&quot;, action = &quot;Index&quot;, id = UrlParameter.Optional},
                //look in this namespace for controllers
                new[] {&quot;Umbraco.Web.WebServices&quot;});
        }

        public override string AreaName
        {
            get { return GlobalSettings.UmbracoMvcArea; }
        }
    }
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[26,9,26,10,1],[27,13,38,66,1],[41,13,46,52,1],[47,9,47,10,1],[51,17,51,18,1],[51,19,51,56,1],[51,57,51,58,1]]);
    </script>
  </body>
</html>