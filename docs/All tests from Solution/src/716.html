<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\Umbraco.Web\ContextualPublishedCacheExtensions.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System.Linq;
using System.Xml.XPath;
using Umbraco.Core.Dynamics;
using Umbraco.Core.Xml;
using Umbraco.Web.Models;
using Umbraco.Web.PublishedCache;

namespace Umbraco.Web
{
    /// &lt;summary&gt;
    /// Provides extension methods to ContextualPublishedCache.
    /// &lt;/summary&gt;
    public static class ContextualPublishedCacheExtensions
    {
        /// &lt;summary&gt;
        /// Gets a dynamic content identified by its unique identifier.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;cache&quot;&gt;The contextual cache.&lt;/param&gt;
        /// &lt;param name=&quot;contentId&quot;&gt;The content unique identifier.&lt;/param&gt;
        /// &lt;returns&gt;The dynamic content, or null.&lt;/returns&gt;
        public static dynamic GetDynamicById(this ContextualPublishedContentCache cache, int contentId)
        {
            var content = cache.GetById(contentId);
            return content == null ? DynamicNull.Null : new DynamicPublishedContent(content).AsDynamic();
        }

        /// &lt;summary&gt;
        /// Gets a dynamic content resulting from an XPath query.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;cache&quot;&gt;The contextual cache.&lt;/param&gt;
        /// &lt;param name=&quot;xpath&quot;&gt;The XPath query.&lt;/param&gt;
        /// &lt;param name=&quot;vars&quot;&gt;Optional XPath variables&lt;/param&gt;
        /// &lt;returns&gt;The dynamic content, or null.&lt;/returns&gt;
        public static dynamic GetDynamicSingleByXPath(this ContextualPublishedContentCache cache, string xpath, params XPathVariable[] vars)
        {
            var content = cache.GetSingleByXPath(xpath, vars);
            return content == null ? DynamicNull.Null : new DynamicPublishedContent(content).AsDynamic();
        }

        /// &lt;summary&gt;
        /// Gets a dynamic content resulting from an XPath query.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;cache&quot;&gt;The contextual cache.&lt;/param&gt;
        /// &lt;param name=&quot;xpath&quot;&gt;The XPath query.&lt;/param&gt;
        /// &lt;param name=&quot;vars&quot;&gt;Optional XPath variables&lt;/param&gt;
        /// &lt;returns&gt;The dynamic content, or null.&lt;/returns&gt;
        public static dynamic GetDynamicSingleByXPath(this ContextualPublishedContentCache cache, XPathExpression xpath, params XPathVariable[] vars)
        {
            var content = cache.GetSingleByXPath(xpath, vars);
            return content == null ? DynamicNull.Null : new DynamicPublishedContent(content).AsDynamic();
        }

        /// &lt;summary&gt;
        /// Gets dynamic contents resulting from an XPath query.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;cache&quot;&gt;The contextual cache.&lt;/param&gt;
        /// &lt;param name=&quot;xpath&quot;&gt;The XPath query.&lt;/param&gt;
        /// &lt;param name=&quot;vars&quot;&gt;Optional XPath variables&lt;/param&gt;
        /// &lt;returns&gt;The dynamic contents.&lt;/returns&gt;
        public static dynamic GetDynamicByXPath(this ContextualPublishedContentCache cache, string xpath, params XPathVariable[] vars)
        {
            var content = cache.GetByXPath(xpath, vars);
            return new DynamicPublishedContentList(content.Select(c =&gt; new DynamicPublishedContent(c)));
        }

        /// &lt;summary&gt;
        /// Gets dynamic contents resulting from an XPath query.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;cache&quot;&gt;The contextual cache.&lt;/param&gt;
        /// &lt;param name=&quot;xpath&quot;&gt;The XPath query.&lt;/param&gt;
        /// &lt;param name=&quot;vars&quot;&gt;Optional XPath variables&lt;/param&gt;
        /// &lt;returns&gt;The dynamic contents.&lt;/returns&gt;
        public static dynamic GetDynamicByXPath(this ContextualPublishedContentCache cache, XPathExpression xpath, params XPathVariable[] vars)
        {
            var content = cache.GetByXPath(xpath, vars);
            return new DynamicPublishedContentList(content.Select(c =&gt; new DynamicPublishedContent(c)));
        }

        /// &lt;summary&gt;
        /// Gets dynamic contents at root.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;cache&quot;&gt;The contextual cache.&lt;/param&gt;
        /// &lt;returns&gt;The dynamic contents.&lt;/returns&gt;
        public static dynamic GetDynamicAtRoot(this ContextualPublishedContentCache cache)
        {
            var content = cache.GetAtRoot();
            return new DynamicPublishedContentList(content.Select(c =&gt; new DynamicPublishedContent(c)));
        }
    }
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[22,9,22,10,0],[23,13,23,52,0],[24,13,24,106,0],[25,9,25,10,0],[35,9,35,10,0],[36,13,36,63,0],[37,13,37,106,0],[38,9,38,10,0],[48,9,48,10,0],[49,13,49,63,0],[50,13,50,106,0],[51,9,51,10,0],[61,9,61,10,0],[62,13,62,57,0],[63,13,63,72,0],[63,72,63,102,0],[63,102,63,105,0],[63,13,63,105,0],[64,9,64,10,0],[74,9,74,10,0],[75,13,75,57,0],[76,13,76,72,0],[76,72,76,102,0],[76,102,76,105,0],[76,13,76,105,0],[77,9,77,10,0],[85,9,85,10,0],[86,13,86,45,0],[87,13,87,72,0],[87,72,87,102,0],[87,102,87,105,0],[87,13,87,105,0],[88,9,88,10,0]]);
    </script>
  </body>
</html>