<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\Umbraco.Web\HealthCheck\Checks\Config\NotificationEmailCheck.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System.Collections.Generic;
using Umbraco.Core.Services;

namespace Umbraco.Web.HealthCheck.Checks.Config
{
    [HealthCheck(&quot;3E2F7B14-4B41-452B-9A30-E67FBC8E1206&quot;, &quot;Notification Email Settings&quot;,
        Description = &quot;If notifications are used, the &#39;from&#39; email address should be specified and changed from the default value.&quot;,
        Group = &quot;Configuration&quot;)]
    public class NotificationEmailCheck : AbstractConfigCheck
    {
        private readonly ILocalizedTextService _textService;
        private const string DefaultFromEmail = &quot;your@email.here&quot;;

        public NotificationEmailCheck(HealthCheckContext healthCheckContext) : base(healthCheckContext)
        {
            _textService = healthCheckContext.ApplicationContext.Services.TextService;
        }

        public override string FilePath
        {
            get { return &quot;~/Config/umbracoSettings.config&quot;; }
        }

        public override string XPath
        {
            get { return &quot;/settings/content/notifications/email&quot;; }
        }

        public override ValueComparisonType ValueComparisonType
        {
            get { return ValueComparisonType.ShouldNotEqual; }
        }

        public override IEnumerable&lt;AcceptableConfiguration&gt; Values
        {
            get
            {
                return new List&lt;AcceptableConfiguration&gt;
                {
                    new AcceptableConfiguration { IsRecommended = false, Value = DefaultFromEmail }
                };
            }
        }

        public override string CheckSuccessMessage
        {
            get { return _textService.Localize(&quot;healthcheck/notificationEmailsCheckSuccessMessage&quot;, new [] { CurrentValue } ); }
        }

        public override string CheckErrorMessage
        {
            get { return _textService.Localize(&quot;healthcheck/notificationEmailsCheckErrorMessage&quot;, new[] { DefaultFromEmail }); }
        }
    }
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[14,80,14,104,0],[15,9,15,10,0],[16,13,16,87,0],[17,9,17,10,0],[21,17,21,18,0],[21,19,21,60,0],[21,61,21,62,0],[26,17,26,18,0],[26,19,26,66,0],[26,67,26,68,0],[31,17,31,18,0],[31,19,31,61,0],[31,62,31,63,0],[37,13,37,14,0],[38,17,41,19,0],[42,13,42,14,0],[47,17,47,18,0],[47,19,47,127,0],[47,128,47,129,0],[52,17,52,18,0],[52,19,52,127,0],[52,128,52,129,0]]);
    </script>
  </body>
</html>