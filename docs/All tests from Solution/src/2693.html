<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\umbraco.editorControls\relatedlinks\RelatedLinksDataEditor.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.Collections.Generic;
using System.Text;
using System.Web.UI;
using System.Web.UI.HtmlControls;
using System.Web.UI.WebControls;
using System.Web.UI.WebControls.WebParts;
using System.Xml;
using umbraco.interfaces;
using umbraco.editorControls;
using umbraco.cms.businesslogic;
using umbraco.cms.businesslogic.datatype;
using Umbraco.Core.IO;

namespace umbraco.editorControls.relatedlinks
{
    [ValidationProperty(&quot;IsValid&quot;)]
    [Obsolete(&quot;IDataType and all other references to the legacy property editors are no longer used this will be removed from the codebase in future versions&quot;)]
    public class RelatedLinksDataEditor : UpdatePanel, IDataEditor
    {
        private umbraco.interfaces.IData _data;
        string _configuration;

        private ListBox _listboxLinks;
        private Button _buttonUp;
        private Button _buttonDown;
        private Button _buttonDelete;
        private TextBox _textboxLinkTitle;
        private CheckBox _checkNewWindow;
        private TextBox _textBoxExtUrl;
        private Button _buttonAddExtUrl;
        private Button _buttonAddIntUrlCP;
        private XmlDocument _xml;

        private pagePicker _pagePicker;
        private PagePickerDataExtractor _pagePickerExtractor;

        public RelatedLinksDataEditor(umbraco.interfaces.IData Data, string Configuration)
        {
            _data = Data;
            _configuration = Configuration;
        }

        public virtual bool TreatAsRichTextEditor
        {
            get { return false; }
        }

        /// &lt;summary&gt;
        /// Internal logic for validation controls to detect whether or not it&#39;s valid (has to be public though) 
        /// &lt;/summary&gt;
        /// &lt;value&gt;Am I valid?&lt;/value&gt;
        public string IsValid
        {
            get {
                if (_listboxLinks != null) {
                    if (_listboxLinks.Items.Count &gt; 0)
                        return &quot;Valid&quot;;
                }
                return &quot;&quot;;
            }
        }

        public bool ShowLabel
        {
            get { return true; }
        }

        public Control Editor { get { return this; } }

        //Creates and saves a xml format of the content of the _listboxLinks
        // &lt;links&gt;
        //    &lt;link type=&quot;external&quot; title=&quot;google&quot; link=&quot;http://google.com&quot; newwindow=&quot;1&quot; /&gt;
        //    &lt;link type=&quot;internal&quot; title=&quot;home&quot; link=&quot;1234&quot; newwindow=&quot;0&quot; /&gt;
        // &lt;/links&gt;
        //We could adapt the global xml at every adjustment, but this implementation is easier
        // (and possibly more efficient).
        public void Save()
        {
            XmlDocument doc = createBaseXmlDocument();
            XmlNode root = doc.DocumentElement;
            foreach (ListItem item in _listboxLinks.Items)
            {
                string value = item.Value;

                XmlNode newNode = doc.CreateElement(&quot;link&quot;);

                XmlNode titleAttr = doc.CreateNode(XmlNodeType.Attribute, &quot;title&quot;, null);
                titleAttr.Value = item.Text;
                newNode.Attributes.SetNamedItem(titleAttr);

                XmlNode linkAttr = doc.CreateNode(XmlNodeType.Attribute, &quot;link&quot;, null);
                linkAttr.Value = value.Substring(2);
                newNode.Attributes.SetNamedItem(linkAttr);

                XmlNode typeAttr = doc.CreateNode(XmlNodeType.Attribute, &quot;type&quot;, null);
                if (value.Substring(0, 1).Equals(&quot;i&quot;))
                    typeAttr.Value = &quot;internal&quot;;
                else
                    typeAttr.Value = &quot;external&quot;;
                newNode.Attributes.SetNamedItem(typeAttr);

                XmlNode windowAttr = doc.CreateNode(XmlNodeType.Attribute, &quot;newwindow&quot;, null);
                if (value.Substring(1, 1).Equals(&quot;n&quot;))
                    windowAttr.Value = &quot;1&quot;;
                else
                    windowAttr.Value = &quot;0&quot;;
                newNode.Attributes.SetNamedItem(windowAttr);

                root.AppendChild(newNode);
            }

            this._data.Value = doc.InnerXml;
        }

        //Draws the controls, only gets called for the first drawing of the page, not for each postback
        protected override void OnInit(EventArgs e)
        {
            base.OnInit(e);

            try
            {
                _xml = new XmlDocument();
                _xml.LoadXml(_data.Value.ToString());

            }
            catch
            {
                _xml = createBaseXmlDocument();
            }

            _listboxLinks = new ListBox();
            _listboxLinks.ID = &quot;links&quot; + base.ID;
            _listboxLinks.Width = 400;
            _listboxLinks.Height = 140;
            foreach (XmlNode node in _xml.DocumentElement.ChildNodes)
            {
                string text = node.Attributes[&quot;title&quot;].Value.ToString();
                string value = (node.Attributes[&quot;type&quot;].Value.ToString().Equals(&quot;internal&quot;) ? &quot;i&quot; : &quot;e&quot;)
                    + (node.Attributes[&quot;newwindow&quot;].Value.ToString().Equals(&quot;1&quot;) ? &quot;n&quot; : &quot;o&quot;)
                    + node.Attributes[&quot;link&quot;].Value.ToString();
                _listboxLinks.Items.Add(new ListItem(text, value));
            }

            _buttonUp = new Button();
            _buttonUp.ID = &quot;btnUp&quot; + base.ID;
            _buttonUp.Text = umbraco.ui.GetText(&quot;relatedlinks&quot;, &quot;modeUp&quot;);
            _buttonUp.Width = 80;
            _buttonUp.Click += new EventHandler(this.buttonUp_Click);

           
            _buttonDown = new Button();
            _buttonDown.ID = &quot;btnDown&quot; + base.ID;
            _buttonDown.Attributes.Add(&quot;style&quot;, &quot;margin-top: 5px;&quot;);
            _buttonDown.Text = umbraco.ui.GetText(&quot;relatedlinks&quot;, &quot;modeDown&quot;);
            _buttonDown.Width = 80;
            _buttonDown.Click += new EventHandler(this.buttonDown_Click);

            _buttonDelete = new Button();
            _buttonDelete.ID = &quot;btnDel&quot; + base.ID;
            _buttonDelete.Text = umbraco.ui.GetText(&quot;relatedlinks&quot;, &quot;removeLink&quot;);
            _buttonDelete.Width = 80;
            _buttonDelete.Click += new EventHandler(this.buttonDel_Click);

            _textboxLinkTitle = new TextBox();
            _textboxLinkTitle.Width = 400;
            _textboxLinkTitle.ID = &quot;linktitle&quot; + base.ID;

            _checkNewWindow = new CheckBox();
            _checkNewWindow.ID = &quot;checkNewWindow&quot; + base.ID;
            _checkNewWindow.Checked = false;
            _checkNewWindow.Text = umbraco.ui.GetText(&quot;relatedlinks&quot;, &quot;newWindow&quot;);

            _textBoxExtUrl = new TextBox();
            _textBoxExtUrl.Width = 400;
            _textBoxExtUrl.ID = &quot;exturl&quot; + base.ID;

            _buttonAddExtUrl = new Button();
            _buttonAddExtUrl.ID = &quot;btnAddExtUrl&quot; + base.ID;
            _buttonAddExtUrl.Text = umbraco.ui.GetText(&quot;relatedlinks&quot;, &quot;addlink&quot;);
            _buttonAddExtUrl.Width = 80;
            _buttonAddExtUrl.Click += new EventHandler(this.buttonAddExt_Click);

            _buttonAddIntUrlCP = new Button();
            _buttonAddIntUrlCP.ID = &quot;btnAddIntUrl&quot; + base.ID;
            _buttonAddIntUrlCP.Text = umbraco.ui.GetText(&quot;relatedlinks&quot;, &quot;addlink&quot;);
            _buttonAddIntUrlCP.Width = 80;
            _buttonAddIntUrlCP.Click += new EventHandler(this.buttonAddIntCP_Click);

            _pagePickerExtractor = new PagePickerDataExtractor();
            _pagePicker = new pagePicker(_pagePickerExtractor);
            _pagePicker.ID = &quot;pagePicker&quot; + base.ID;
            
            ContentTemplateContainer.Controls.Add(new LiteralControl(&quot;&lt;div class=\&quot;relatedlinksdatatype\&quot; style=\&quot;text-align: left;  padding: 5px;\&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td rowspan=\&quot;2\&quot;&gt;&quot;));
            ContentTemplateContainer.Controls.Add(_listboxLinks);
            ContentTemplateContainer.Controls.Add(new LiteralControl(&quot;&lt;/td&gt;&lt;td style=\&quot;vertical-align: top\&quot;&gt;&quot;));
            ContentTemplateContainer.Controls.Add(_buttonUp);
            ContentTemplateContainer.Controls.Add(new LiteralControl(&quot;&lt;br /&gt;&quot;));
            ContentTemplateContainer.Controls.Add(_buttonDown);
            ContentTemplateContainer.Controls.Add(new LiteralControl(&quot;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=\&quot;vertical-align: bottom\&quot;&gt;&quot;));
            ContentTemplateContainer.Controls.Add(_buttonDelete);
            ContentTemplateContainer.Controls.Add(new LiteralControl(&quot;&lt;br /&gt;&quot;));
            ContentTemplateContainer.Controls.Add(new LiteralControl(&quot;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&quot;));

            // Add related links container
            ContentTemplateContainer.Controls.Add(new LiteralControl(String.Format(&quot;&lt;a href=\&quot;javascript:;\&quot; onClick=\&quot;document.getElementById(&#39;{0}_addExternalLinkPanel&#39;).style.display=&#39;none&#39;;document.getElementById(&#39;{0}_addExternalLinkButton&#39;).style.display=&#39;none&#39;;document.getElementById(&#39;{0}_addLinkContainer&#39;).style.display=&#39;block&#39;;document.getElementById(&#39;{0}_addInternalLinkPanel&#39;).style.display=&#39;block&#39;;document.getElementById(&#39;{0}_addInternalLinkButton&#39;).style.display=&#39;block&#39;;\&quot;&gt;&lt;strong&gt;{1}&lt;/strong&gt;&lt;/a&gt;&quot;, ClientID, umbraco.ui.GetText(&quot;relatedlinks&quot;, &quot;addInternal&quot;))));
            ContentTemplateContainer.Controls.Add(new LiteralControl(String.Format(&quot; | &lt;a href=\&quot;javascript:;\&quot; onClick=\&quot;document.getElementById(&#39;{0}_addInternalLinkPanel&#39;).style.display=&#39;none&#39;;document.getElementById(&#39;{0}_addInternalLinkButton&#39;).style.display=&#39;none&#39;;document.getElementById(&#39;{0}_addLinkContainer&#39;).style.display=&#39;block&#39;;document.getElementById(&#39;{0}_addExternalLinkPanel&#39;).style.display=&#39;block&#39;;document.getElementById(&#39;{0}_addExternalLinkButton&#39;).style.display=&#39;block&#39;;\&quot;&gt;&lt;strong&gt;{1}&lt;/strong&gt;&lt;/a&gt;&quot;, ClientID, umbraco.ui.GetText(&quot;relatedlinks&quot;, &quot;addExternal&quot;))));

            // All urls
            ContentTemplateContainer.Controls.Add(new LiteralControl(String.Format(&quot;&lt;div id=\&quot;{0}_addLinkContainer\&quot; style=\&quot;display: none; padding: 4px; border: 1px solid #ccc; margin-top: 5px;margin-right:10px;\&quot;&gt;&quot;, ClientID)));
            ContentTemplateContainer.Controls.Add(new LiteralControl(String.Format(&quot;&lt;a href=\&quot;javascript:;\&quot; onClick=\&quot;document.getElementById(&#39;{0}_addLinkContainer&#39;).style.display=&#39;none&#39;;\&quot; style=\&quot;border: none;\&quot;&gt;&lt;img src=\&quot;{1}/images/close.png\&quot; style=\&quot;float: right\&quot; /&gt;&lt;/a&gt;&quot;, ClientID,  this.Page.ResolveUrl(SystemDirectories.Umbraco))));
            ContentTemplateContainer.Controls.Add(new LiteralControl(String.Format(&quot;{0}:&lt;br /&gt;&quot;, umbraco.ui.GetText(&quot;relatedlinks&quot;, &quot;caption&quot;))));
            ContentTemplateContainer.Controls.Add(_textboxLinkTitle);
            ContentTemplateContainer.Controls.Add(new LiteralControl(&quot;&lt;br /&gt;&quot;));
            ContentTemplateContainer.Controls.Add(new LiteralControl(String.Format(&quot;&lt;div id=\&quot;{0}_addExternalLinkPanel\&quot; style=\&quot;display: none; margin: 3px 0\&quot;&gt;&quot;, ClientID)));
            ContentTemplateContainer.Controls.Add(new LiteralControl(String.Format(&quot;{0}:&lt;br /&gt;&quot;, umbraco.ui.GetText(&quot;relatedlinks&quot;, &quot;linkurl&quot;))));
            ContentTemplateContainer.Controls.Add(_textBoxExtUrl);
            ContentTemplateContainer.Controls.Add(new LiteralControl(&quot;&lt;/div&gt;&quot;));

            ContentTemplateContainer.Controls.Add(new LiteralControl(String.Format(&quot;&lt;div id=\&quot;{0}_addInternalLinkPanel\&quot; style=\&quot;display: none; margin: 3px 0\&quot;&gt;&quot;, ClientID)));
            ContentTemplateContainer.Controls.Add(new LiteralControl(String.Format(&quot;{0}:&lt;br /&gt;&quot;, umbraco.ui.GetText(&quot;relatedlinks&quot;, &quot;internalPage&quot;))));
            ContentTemplateContainer.Controls.Add(_pagePicker);
            ContentTemplateContainer.Controls.Add(new LiteralControl(&quot;&lt;/div&gt;&quot;));

            ContentTemplateContainer.Controls.Add(new LiteralControl(&quot;&lt;div style=\&quot;margin: 5px 0\&quot;&gt;&quot;));
            ContentTemplateContainer.Controls.Add(_checkNewWindow);
            ContentTemplateContainer.Controls.Add(new LiteralControl(&quot;&lt;/div&gt;&quot;));

            ContentTemplateContainer.Controls.Add(new LiteralControl(String.Format(&quot;&lt;div id=\&quot;{0}_addInternalLinkButton\&quot; style=\&quot;display: none;\&quot;&gt;&quot;, ClientID)));
            ContentTemplateContainer.Controls.Add(_buttonAddIntUrlCP);
            ContentTemplateContainer.Controls.Add(new LiteralControl(&quot;&lt;/div&gt;&quot;));

            ContentTemplateContainer.Controls.Add(new LiteralControl(String.Format(&quot;&lt;div id=\&quot;{0}_addExternalLinkButton\&quot; style=\&quot;display: none;\&quot;&gt;&quot;, ClientID)));
            ContentTemplateContainer.Controls.Add(_buttonAddExtUrl);
            ContentTemplateContainer.Controls.Add(new LiteralControl(&quot;&lt;/div&gt;&quot;));

            ContentTemplateContainer.Controls.Add(new LiteralControl(&quot;&lt;/div&gt;&quot;));

            ContentTemplateContainer.Controls.Add(new LiteralControl(&quot;&lt;/div&gt;&quot;));

            resetInputMedia();
        }


        private XmlDocument createBaseXmlDocument()
        {
            XmlDocument doc = new XmlDocument();
            XmlNode root = doc.CreateElement(&quot;links&quot;);
            doc.AppendChild(root);
            return doc;
        }

        private void buttonUp_Click(Object o, EventArgs ea)
        {
            int index = _listboxLinks.SelectedIndex;
            if (index &gt; 0) //not the first item
            {
                ListItem temp = _listboxLinks.SelectedItem;
                _listboxLinks.Items.RemoveAt(index);
                _listboxLinks.Items.Insert(index - 1, temp);
                _listboxLinks.SelectedIndex = index - 1;
            }
        }

        private void buttonDown_Click(Object o, EventArgs ea)
        {
            int index = _listboxLinks.SelectedIndex;
            if (index &gt; -1 &amp;&amp; index &lt; _listboxLinks.Items.Count - 1) //not the last item
            {
                ListItem temp = _listboxLinks.SelectedItem;
                _listboxLinks.Items.RemoveAt(index);
                _listboxLinks.Items.Insert(index + 1, temp);
                _listboxLinks.SelectedIndex = index + 1;
            }
        }

        private void buttonDel_Click(Object o, EventArgs ea)
        {
            int index = _listboxLinks.SelectedIndex;
            if (index &gt; -1)
            {
                _listboxLinks.Items.RemoveAt(index);
            }
        }

        private void buttonAddExt_Click(Object o, EventArgs ea)
        {
            string url = _textBoxExtUrl.Text.Trim();
            if (url.Length &gt; 0 &amp;&amp; _textboxLinkTitle.Text.Length &gt; 0)
            {
                // use default HTTP protocol if no protocol was specified
                if (!(url.Contains(&quot;://&quot;)))
                {
                    url = &quot;http://&quot; + url;
                }

                string value = &quot;e&quot; + (_checkNewWindow.Checked ? &quot;n&quot; : &quot;o&quot;) + url;
                _listboxLinks.Items.Add(new ListItem(_textboxLinkTitle.Text, value));
                resetInputMedia();
            }
        }

        private void buttonAddIntCP_Click(Object o, EventArgs ea)
        {
            _pagePicker.Save();
            if (!String.IsNullOrEmpty(_textboxLinkTitle.Text)
                &amp;&amp; _pagePickerExtractor.Value != null
                &amp;&amp; _pagePickerExtractor.Value.ToString() != &quot;&quot;)
            {
                string value = &quot;i&quot; + (_checkNewWindow.Checked ? &quot;n&quot; : &quot;o&quot;) + _pagePickerExtractor.Value.ToString();
                _listboxLinks.Items.Add(new ListItem(_textboxLinkTitle.Text, value));
                resetInputMedia();
                ScriptManager.RegisterClientScriptBlock(_pagePicker, _pagePicker.GetType(), &quot;clearPagePicker&quot;, _pagePicker.ClientID + &quot;_clear();&quot;, true);
            }
        }

        private void resetInputMedia()
        {
            _textBoxExtUrl.Text = &quot;http://&quot;;
            _textboxLinkTitle.Text = &quot;&quot;;
            _pagePickerExtractor.Value = &quot;&quot;;
            
        }

    }

}

    </pre>
    <script type="text/javascript">
      highlightRanges([[38,9,38,91,0],[39,9,39,10,0],[40,13,40,26,0],[41,13,41,44,0],[42,9,42,10,0],[46,17,46,18,0],[46,19,46,32,0],[46,33,46,34,0],[55,17,55,18,0],[56,17,56,43,0],[56,44,56,45,0],[57,21,57,55,0],[58,25,58,40,0],[59,17,59,18,0],[60,17,60,27,0],[61,13,61,14,0],[66,17,66,18,0],[66,19,66,31,0],[66,32,66,33,0],[69,37,69,38,0],[69,39,69,51,0],[69,52,69,53,0],[79,9,79,10,0],[80,13,80,55,0],[81,13,81,48,0],[82,13,82,20,0],[82,22,82,35,0],[82,36,82,38,0],[82,39,82,58,0],[83,13,83,14,0],[84,17,84,43,0],[86,17,86,61,0],[88,17,88,90,0],[89,17,89,45,0],[90,17,90,60,0],[92,17,92,88,0],[93,17,93,53,0],[94,17,94,59,0],[96,17,96,88,0],[97,17,97,55,0],[98,21,98,49,0],[100,21,100,49,0],[101,17,101,59,0],[103,17,103,95,0],[104,17,104,55,0],[105,21,105,44,0],[107,21,107,44,0],[108,17,108,61,0],[110,17,110,43,0],[111,13,111,14,0],[113,13,113,45,0],[114,9,114,10,0],[118,9,118,10,0],[119,13,119,28,0],[122,13,122,14,0],[123,17,123,42,0],[124,17,124,54,0],[126,13,126,14,0],[127,13,127,18,0],[128,13,128,14,0],[129,17,129,48,0],[130,13,130,14,0],[132,13,132,43,0],[133,13,133,50,0],[134,13,134,39,0],[135,13,135,40,0],[136,13,136,20,0],[136,22,136,34,0],[136,35,136,37,0],[136,38,136,69,0],[137,13,137,14,0],[138,17,138,73,0],[139,17,141,64,0],[142,17,142,68,0],[143,13,143,14,0],[145,13,145,38,0],[146,13,146,46,0],[147,13,147,75,0],[148,13,148,34,0],[149,13,149,70,0],[152,13,152,40,0],[153,13,153,50,0],[154,13,154,69,0],[155,13,155,79,0],[156,13,156,36,0],[157,13,157,74,0],[159,13,159,42,0],[160,13,160,51,0],[161,13,161,83,0],[162,13,162,38,0],[163,13,163,75,0],[165,13,165,47,0],[166,13,166,43,0],[167,13,167,58,0],[169,13,169,46,0],[170,13,170,61,0],[171,13,171,45,0],[172,13,172,84,0],[174,13,174,44,0],[175,13,175,40,0],[176,13,176,52,0],[178,13,178,45,0],[179,13,179,60,0],[180,13,180,83,0],[181,13,181,41,0],[182,13,182,81,0],[184,13,184,47,0],[185,13,185,62,0],[186,13,186,85,0],[187,13,187,43,0],[188,13,188,85,0],[190,13,190,66,0],[191,13,191,64,0],[192,13,192,53,0],[194,13,194,183,0],[195,13,195,66,0],[196,13,196,114,0],[197,13,197,62,0],[198,13,198,81,0],[199,13,199,64,0],[200,13,200,126,0],[201,13,201,66,0],[202,13,202,81,0],[203,13,203,93,0],[206,13,206,579,0],[207,13,207,582,0],[210,13,210,231,0],[211,13,211,344,0],[212,13,212,147,0],[213,13,213,70,0],[214,13,214,81,0],[215,13,215,176,0],[216,13,216,147,0],[217,13,217,67,0],[218,13,218,81,0],[220,13,220,176,0],[221,13,221,152,0],[222,13,222,64,0],[223,13,223,81,0],[225,13,225,104,0],[226,13,226,68,0],[227,13,227,81,0],[229,13,229,163,0],[230,13,230,71,0],[231,13,231,81,0],[233,13,233,163,0],[234,13,234,69,0],[235,13,235,81,0],[237,13,237,81,0],[239,13,239,81,0],[241,13,241,31,0],[242,9,242,10,0],[246,9,246,10,0],[247,13,247,49,0],[248,13,248,55,0],[249,13,249,35,0],[250,13,250,24,0],[251,9,251,10,0],[254,9,254,10,0],[255,13,255,53,0],[256,13,256,27,0],[257,13,257,14,0],[258,17,258,60,0],[259,17,259,53,0],[260,17,260,61,0],[261,17,261,57,0],[262,13,262,14,0],[263,9,263,10,0],[266,9,266,10,0],[267,13,267,53,0],[268,13,268,69,0],[269,13,269,14,0],[270,17,270,60,0],[271,17,271,53,0],[272,17,272,61,0],[273,17,273,57,0],[274,13,274,14,0],[275,9,275,10,0],[278,9,278,10,0],[279,13,279,53,0],[280,13,280,28,0],[281,13,281,14,0],[282,17,282,53,0],[283,13,283,14,0],[284,9,284,10,0],[287,9,287,10,0],[288,13,288,53,0],[289,13,289,69,0],[290,13,290,14,0],[292,17,292,44,0],[293,17,293,18,0],[294,21,294,43,0],[295,17,295,18,0],[297,17,297,82,0],[298,17,298,86,0],[299,17,299,35,0],[300,13,300,14,0],[301,9,301,10,0],[304,9,304,10,0],[305,13,305,32,0],[306,13,308,64,0],[309,13,309,14,0],[310,17,310,116,0],[311,17,311,86,0],[312,17,312,35,0],[313,17,313,154,0],[314,13,314,14,0],[315,9,315,10,0],[318,9,318,10,0],[319,13,319,45,0],[320,13,320,41,0],[321,13,321,45,0],[323,9,323,10,0]]);
    </script>
  </body>
</html>