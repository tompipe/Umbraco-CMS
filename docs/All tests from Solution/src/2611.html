<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\umbraco.editorControls\label\noEdit.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.Web.UI;
using System.Web.UI.WebControls;

namespace umbraco.editorControls
{
    [Obsolete(&quot;IDataType and all other references to the legacy property editors are no longer used this will be removed from the codebase in future versions&quot;)]
	public class noEdit : System.Web.UI.WebControls.Label, interfaces.IDataEditor
	{
		private interfaces.IData _data;
        private bool labelRefreshed = false;

		public noEdit(interfaces.IData Data) {
			_data = Data;
		}
		public virtual bool TreatAsRichTextEditor 
		{
			get {return false;}
		}
		public bool ShowLabel {get {return true;}}

		public void Save() 
		{
            // Uncommented this as a label should *never* update itself via ui
//			_data.Value = this.Text;		
		}

        public void RefreshLabel(string content)
        {
            Text = content;
            labelRefreshed = true;
        }

		public Control Editor {get {return this;}}

		protected override void OnInit(EventArgs e)
		{
            if (!labelRefreshed &amp;&amp; (_data != null &amp;&amp; _data.Value != null))
				Text = _data.Value.ToString();

			base.OnInit(e);
		}

		//public override string Text {
		//     get {return _data.Value.ToString();}
		//}
	}
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[11,9,11,45,0],[13,3,13,39,0],[13,40,13,41,0],[14,4,14,17,0],[15,3,15,4,0],[18,8,18,9,0],[18,9,18,22,0],[18,22,18,23,0],[20,30,20,31,0],[20,31,20,43,0],[20,43,20,44,0],[23,3,23,4,0],[26,3,26,4,0],[29,9,29,10,0],[30,13,30,28,0],[31,13,31,35,0],[32,9,32,10,0],[34,30,34,31,0],[34,31,34,43,0],[34,43,34,44,0],[37,3,37,4,0],[38,13,38,75,0],[39,5,39,35,0],[41,4,41,19,0],[42,3,42,4,0]]);
    </script>
  </body>
</html>