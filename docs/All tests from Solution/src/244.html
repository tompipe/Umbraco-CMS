<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\Umbraco.Tests\Cache\PublishedCache\PublishedMediaCacheTests.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.Collections.Generic;
using System.Linq;
using System.Xml;
using Examine;
using NUnit.Framework;
using umbraco.BusinessLogic;
using Umbraco.Core;
using Umbraco.Core.Models;
using Umbraco.Core.Models.PublishedContent;
using Umbraco.Tests.PublishedContent;
using Umbraco.Tests.TestHelpers;
using Umbraco.Web;
using Umbraco.Web.PublishedCache;
using Umbraco.Web.PublishedCache.XmlPublishedCache;

namespace Umbraco.Tests.Cache.PublishedCache
{
    [DatabaseTestBehavior(DatabaseBehavior.NewDbFileAndSchemaPerTest)]
	[TestFixture]
    public class PublishMediaCacheTests : BaseWebTest
	{
        protected override void FreezeResolution()
        {
            PublishedContentModelFactoryResolver.Current = new PublishedContentModelFactoryResolver();
            base.FreezeResolution();
        }
        
        [Test]
		public void Get_Root_Docs()
		{
			var user = new User(0);
			var mType = global::umbraco.cms.businesslogic.media.MediaType.MakeNew(user, &quot;TestMediaType&quot;);
			var mRoot1 = global::umbraco.cms.businesslogic.media.Media.MakeNew(&quot;MediaRoot1&quot;, mType, user, -1);
			var mRoot2 = global::umbraco.cms.businesslogic.media.Media.MakeNew(&quot;MediaRoot2&quot;, mType, user, -1);
			var mChild1 = global::umbraco.cms.businesslogic.media.Media.MakeNew(&quot;Child1&quot;, mType, user, mRoot1.Id);
			var mChild2 = global::umbraco.cms.businesslogic.media.Media.MakeNew(&quot;Child2&quot;, mType, user, mRoot2.Id);
			
			var ctx = GetUmbracoContext(&quot;/test&quot;, 1234);
            var cache = new ContextualPublishedMediaCache(new PublishedMediaCache(ctx.Application), ctx);
			var roots = cache.GetAtRoot();
			Assert.AreEqual(2, roots.Count());
			Assert.IsTrue(roots.Select(x =&gt; x.Id).ContainsAll(new[] {mRoot1.Id, mRoot2.Id}));

		}

		[Test]
		public void Get_Item_Without_Examine()
		{
			var user = new User(0);
			var mType = global::umbraco.cms.businesslogic.media.MediaType.MakeNew(user, &quot;TestMediaType&quot;);
			var mRoot = global::umbraco.cms.businesslogic.media.Media.MakeNew(&quot;MediaRoot&quot;, mType, user, -1);
			var mChild1 = global::umbraco.cms.businesslogic.media.Media.MakeNew(&quot;Child1&quot;, mType, user, mRoot.Id);
			var publishedMedia = PublishedMediaTests.GetNode(mRoot.Id, GetUmbracoContext(&quot;/test&quot;, 1234));

			Assert.AreEqual(mRoot.Id, publishedMedia.Id);
			Assert.AreEqual(mRoot.CreateDateTime.ToString(&quot;dd/MM/yyyy HH:mm:ss&quot;), publishedMedia.CreateDate.ToString(&quot;dd/MM/yyyy HH:mm:ss&quot;));
			Assert.AreEqual(mRoot.User.Id, publishedMedia.CreatorId);
			Assert.AreEqual(mRoot.User.Name, publishedMedia.CreatorName);
			Assert.AreEqual(mRoot.ContentType.Alias, publishedMedia.DocumentTypeAlias);
			Assert.AreEqual(mRoot.ContentType.Id, publishedMedia.DocumentTypeId);
			Assert.AreEqual(mRoot.Level, publishedMedia.Level);
			Assert.AreEqual(mRoot.Text, publishedMedia.Name);
			Assert.AreEqual(mRoot.Path, publishedMedia.Path);
			Assert.AreEqual(mRoot.sortOrder, publishedMedia.SortOrder);
			Assert.IsNull(publishedMedia.Parent);
		}

		[TestCase(&quot;id&quot;)]
		[TestCase(&quot;nodeId&quot;)]
		[TestCase(&quot;__NodeId&quot;)]
		public void DictionaryDocument_Id_Keys(string key)
		{
			var dicDoc = GetDictionaryDocument(idKey: key);
			DoAssert(dicDoc);
		}

		[TestCase(&quot;template&quot;)]
		[TestCase(&quot;templateId&quot;)]
		public void DictionaryDocument_Template_Keys(string key)
		{
			var dicDoc = GetDictionaryDocument(templateKey: key);
			DoAssert(dicDoc);
		}

		[TestCase(&quot;nodeName&quot;)]
		[TestCase(&quot;__nodeName&quot;)]
		public void DictionaryDocument_NodeName_Keys(string key)
		{
			var dicDoc = GetDictionaryDocument(nodeNameKey: key);
			DoAssert(dicDoc);
		}

		[TestCase(&quot;nodeTypeAlias&quot;)]
		[TestCase(&quot;__NodeTypeAlias&quot;)]
		public void DictionaryDocument_NodeTypeAlias_Keys(string key)
		{
			var dicDoc = GetDictionaryDocument(nodeTypeAliasKey: key);
			DoAssert(dicDoc);
		}

		[TestCase(&quot;path&quot;)]
		[TestCase(&quot;__Path&quot;)]
		public void DictionaryDocument_Path_Keys(string key)
		{
			var dicDoc = GetDictionaryDocument(pathKey: key);
			DoAssert(dicDoc);
		}

        [Test]
        public void DictionaryDocument_Key()
        {
            var key = Guid.NewGuid();
            var dicDoc = GetDictionaryDocument(keyVal: key);
            DoAssert(dicDoc, keyVal: key);
        }

		[Test]
		public void DictionaryDocument_Get_Children()
		{
			var child1 = GetDictionaryDocument(idVal: 222333);
			var child2 = GetDictionaryDocument(idVal: 444555);

			var dicDoc = GetDictionaryDocument(children: new List&lt;IPublishedContent&gt;()
				{
					child1, child2
				});
			
			Assert.AreEqual(2, dicDoc.Children.Count());
			Assert.AreEqual(222333, dicDoc.Children.ElementAt(0).Id);
			Assert.AreEqual(444555, dicDoc.Children.ElementAt(1).Id);
		}

		[TestCase(true)]
        [TestCase(false)]
        public void Convert_From_Search_Result(bool withKey)
		{
            var ctx = GetUmbracoContext(&quot;/test&quot;, 1234);
		    var key = Guid.NewGuid();

			var result = new SearchResult()
				{
					Id = 1234,
					Score = 1
				};
			result.Fields.Add(&quot;__IndexType&quot;, &quot;media&quot;);
			result.Fields.Add(&quot;__NodeId&quot;, &quot;1234&quot;);
			result.Fields.Add(&quot;__NodeTypeAlias&quot;, Constants.Conventions.MediaTypes.Image);
			result.Fields.Add(&quot;__Path&quot;, &quot;-1,1234&quot;);
			result.Fields.Add(&quot;__nodeName&quot;, &quot;Test&quot;);
			result.Fields.Add(&quot;id&quot;, &quot;1234&quot;);
            if (withKey) result.Fields.Add(&quot;key&quot;, key.ToString());
			result.Fields.Add(&quot;nodeName&quot;, &quot;Test&quot;);
			result.Fields.Add(&quot;nodeTypeAlias&quot;, Constants.Conventions.MediaTypes.Image);
			result.Fields.Add(&quot;parentID&quot;, &quot;-1&quot;);
			result.Fields.Add(&quot;path&quot;, &quot;-1,1234&quot;);
			result.Fields.Add(&quot;updateDate&quot;, &quot;2012-07-16T10:34:09&quot;);
			result.Fields.Add(&quot;writerName&quot;, &quot;Shannon&quot;);

            var store = new PublishedMediaCache(ctx.Application);
			var doc = store.CreateFromCacheValues(store.ConvertFromSearchResult(result));

			DoAssert(doc, 1234, withKey ? key : default(Guid), 0, 0, &quot;&quot;, &quot;Image&quot;, 0, &quot;Shannon&quot;, &quot;&quot;, 0, 0, &quot;-1,1234&quot;, default(DateTime), DateTime.Parse(&quot;2012-07-16T10:34:09&quot;), 2);
			Assert.AreEqual(null, doc.Parent);
		}

        [TestCase(true)]
        [TestCase(false)]
        public void Convert_From_XPath_Navigator(bool withKey)
		{
            var ctx = GetUmbracoContext(&quot;/test&quot;, 1234);
            var key = Guid.NewGuid();

			var xmlDoc = GetMediaXml();
            if (withKey) ((XmlElement)xmlDoc.DocumentElement.FirstChild).SetAttribute(&quot;key&quot;, key.ToString());
			var navigator = xmlDoc.SelectSingleNode(&quot;/root/Image&quot;).CreateNavigator();
            var cache = new PublishedMediaCache(ctx.Application);
			var doc = cache.CreateFromCacheValues(cache.ConvertFromXPathNavigator(navigator, true));

			DoAssert(doc, 2000, withKey ? key : default(Guid), 0, 2, &quot;image1&quot;, &quot;Image&quot;, 2044, &quot;Shannon&quot;, &quot;Shannon2&quot;, 22, 33, &quot;-1,2000&quot;, DateTime.Parse(&quot;2012-06-12T14:13:17&quot;), DateTime.Parse(&quot;2012-07-20T18:50:43&quot;), 1);
			Assert.AreEqual(null, doc.Parent);
			Assert.AreEqual(2, doc.Children.Count());
			Assert.AreEqual(2001, doc.Children.ElementAt(0).Id);
			Assert.AreEqual(2002, doc.Children.ElementAt(1).Id);
		}

		private XmlDocument GetMediaXml()
		{
			var xml = @&quot;&lt;?xml version=&quot;&quot;1.0&quot;&quot; encoding=&quot;&quot;utf-8&quot;&quot;?&gt;
&lt;!DOCTYPE root[ 
&lt;!ELEMENT Home ANY&gt;
&lt;!ATTLIST Home id ID #REQUIRED&gt;
&lt;!ELEMENT CustomDocument ANY&gt;
&lt;!ATTLIST CustomDocument id ID #REQUIRED&gt;
]&gt;
&lt;root id=&quot;&quot;-1&quot;&quot;&gt;
	&lt;Image id=&quot;&quot;2000&quot;&quot; parentID=&quot;&quot;-1&quot;&quot; level=&quot;&quot;1&quot;&quot; writerID=&quot;&quot;22&quot;&quot; creatorID=&quot;&quot;33&quot;&quot; nodeType=&quot;&quot;2044&quot;&quot; template=&quot;&quot;0&quot;&quot; sortOrder=&quot;&quot;2&quot;&quot; createDate=&quot;&quot;2012-06-12T14:13:17&quot;&quot; updateDate=&quot;&quot;2012-07-20T18:50:43&quot;&quot; nodeName=&quot;&quot;Image1&quot;&quot; urlName=&quot;&quot;image1&quot;&quot; writerName=&quot;&quot;Shannon&quot;&quot; creatorName=&quot;&quot;Shannon2&quot;&quot; path=&quot;&quot;-1,2000&quot;&quot; isDoc=&quot;&quot;&quot;&quot;&gt;
		&lt;file&gt;&lt;![CDATA[/media/1234/image1.png]]&gt;&lt;/file&gt;		
		&lt;Image id=&quot;&quot;2001&quot;&quot; parentID=&quot;&quot;2000&quot;&quot; level=&quot;&quot;2&quot;&quot; writerID=&quot;&quot;22&quot;&quot; creatorID=&quot;&quot;33&quot;&quot; nodeType=&quot;&quot;2044&quot;&quot; template=&quot;&quot;0&quot;&quot; sortOrder=&quot;&quot;2&quot;&quot; createDate=&quot;&quot;2012-06-12T14:13:17&quot;&quot; updateDate=&quot;&quot;2012-07-20T18:50:43&quot;&quot; nodeName=&quot;&quot;Image1&quot;&quot; urlName=&quot;&quot;image1&quot;&quot; writerName=&quot;&quot;Shannon&quot;&quot; creatorName=&quot;&quot;Shannon2&quot;&quot; path=&quot;&quot;-1,2000,2001&quot;&quot; isDoc=&quot;&quot;&quot;&quot;&gt;
			&lt;file&gt;&lt;![CDATA[/media/1234/image1.png]]&gt;&lt;/file&gt;		
		&lt;/Image&gt;
		&lt;Image id=&quot;&quot;2002&quot;&quot; parentID=&quot;&quot;2000&quot;&quot; level=&quot;&quot;2&quot;&quot; writerID=&quot;&quot;22&quot;&quot; creatorID=&quot;&quot;33&quot;&quot; nodeType=&quot;&quot;2044&quot;&quot; template=&quot;&quot;0&quot;&quot; sortOrder=&quot;&quot;2&quot;&quot; createDate=&quot;&quot;2012-06-12T14:13:17&quot;&quot; updateDate=&quot;&quot;2012-07-20T18:50:43&quot;&quot; nodeName=&quot;&quot;Image1&quot;&quot; urlName=&quot;&quot;image1&quot;&quot; writerName=&quot;&quot;Shannon&quot;&quot; creatorName=&quot;&quot;Shannon2&quot;&quot; path=&quot;&quot;-1,2000,2002&quot;&quot; isDoc=&quot;&quot;&quot;&quot;&gt;
			&lt;file&gt;&lt;![CDATA[/media/1234/image1.png]]&gt;&lt;/file&gt;		
		&lt;/Image&gt;
	&lt;/Image&gt;
&lt;/root&gt;&quot;;

			var xmlDoc = new XmlDocument();
			xmlDoc.LoadXml(xml);
			return xmlDoc;
		}

		private Dictionary&lt;string, string&gt; GetDictionary(			
			int id, 
            Guid key,
			int parentId,
			string idKey,
			string templateKey,
			string nodeNameKey,
			string nodeTypeAliasKey,
			string pathKey)
		{
			return new Dictionary&lt;string, string&gt;()
				{
					{idKey, id.ToString()},
                    {&quot;key&quot;, key.ToString()},
					{templateKey, &quot;333&quot;},
					{&quot;sortOrder&quot;, &quot;44&quot;},
					{nodeNameKey, &quot;Testing&quot;},
					{&quot;urlName&quot;, &quot;testing&quot;},
					{nodeTypeAliasKey, &quot;myType&quot;},
					{&quot;nodeType&quot;, &quot;22&quot;},
					{&quot;writerName&quot;, &quot;Shannon&quot;},
					{&quot;creatorName&quot;, &quot;Shannon2&quot;},
					{&quot;writerID&quot;, &quot;33&quot;},
					{&quot;creatorID&quot;, &quot;44&quot;},
					{pathKey, &quot;1,2,3,4,5&quot;},
					{&quot;createDate&quot;, &quot;2012-01-02&quot;},
					{&quot;updateDate&quot;, &quot;2012-01-03&quot;},
					{&quot;level&quot;, &quot;3&quot;},
					{&quot;parentID&quot;, parentId.ToString()}
				};
		}
		
		private PublishedMediaCache.DictionaryPublishedContent GetDictionaryDocument(
			string idKey = &quot;id&quot;,
			string templateKey = &quot;template&quot;,
			string nodeNameKey = &quot;nodeName&quot;,
			string nodeTypeAliasKey = &quot;nodeTypeAlias&quot;,
			string pathKey = &quot;path&quot;, 
			int idVal = 1234,
            Guid keyVal = default(Guid),
			int parentIdVal = 321,
			IEnumerable&lt;IPublishedContent&gt; children = null)
		{
			if (children == null)
				children = new List&lt;IPublishedContent&gt;();
            var dicDoc = new PublishedMediaCache.DictionaryPublishedContent(
				//the dictionary
				GetDictionary(idVal, keyVal, parentIdVal, idKey, templateKey, nodeNameKey, nodeTypeAliasKey, pathKey),
				//callback to get the parent
                d =&gt; new PublishedMediaCache.DictionaryPublishedContent(
						GetDictionary(parentIdVal, default(Guid), -1, idKey, templateKey, nodeNameKey, nodeTypeAliasKey, pathKey),
					//there is no parent
						a =&gt; null,
					//we&#39;re not going to test this so ignore
						(dd, n) =&gt; new List&lt;IPublishedContent&gt;(),
						(dd, a) =&gt; dd.Properties.FirstOrDefault(x =&gt; x.PropertyTypeAlias.InvariantEquals(a)), 
                        null,
						false),
				//callback to get the children
				(dd, n) =&gt; children,
				(dd, a) =&gt; dd.Properties.FirstOrDefault(x =&gt; x.PropertyTypeAlias.InvariantEquals(a)), 
                null,
				false);
			return dicDoc;
		}

		private void DoAssert(
			PublishedMediaCache.DictionaryPublishedContent dicDoc,
			int idVal = 1234,
            Guid keyVal = default(Guid),
			int templateIdVal = 333,
			int sortOrderVal = 44,
			string urlNameVal = &quot;testing&quot;,
			string nodeTypeAliasVal = &quot;myType&quot;,
			int nodeTypeIdVal = 22,
			string writerNameVal = &quot;Shannon&quot;,
			string creatorNameVal = &quot;Shannon2&quot;,
			int writerIdVal = 33,
			int creatorIdVal = 44,
			string pathVal = &quot;1,2,3,4,5&quot;,
			DateTime? createDateVal = null,
			DateTime? updateDateVal = null,
			int levelVal = 3,
			int parentIdVal = 321)
		{
			if (!createDateVal.HasValue)
				createDateVal = DateTime.Parse(&quot;2012-01-02&quot;);
			if (!updateDateVal.HasValue)
				updateDateVal = DateTime.Parse(&quot;2012-01-03&quot;);

			DoAssert((IPublishedContent)dicDoc, idVal, keyVal, templateIdVal, sortOrderVal, urlNameVal, nodeTypeAliasVal, nodeTypeIdVal, writerNameVal, 
				creatorNameVal, writerIdVal, creatorIdVal, pathVal, createDateVal, updateDateVal, levelVal);

			//now validate the parentId that has been parsed, this doesn&#39;t exist on the IPublishedContent
			Assert.AreEqual(parentIdVal, dicDoc.ParentId);
		}

		private void DoAssert(
			IPublishedContent doc,
			int idVal = 1234,
            Guid keyVal = default(Guid),
            int templateIdVal = 333,
			int sortOrderVal = 44,
			string urlNameVal = &quot;testing&quot;,
			string nodeTypeAliasVal = &quot;myType&quot;,
			int nodeTypeIdVal = 22,
			string writerNameVal = &quot;Shannon&quot;,
			string creatorNameVal = &quot;Shannon2&quot;,
			int writerIdVal = 33,
			int creatorIdVal = 44,
			string pathVal = &quot;1,2,3,4,5&quot;,
			DateTime? createDateVal = null,
			DateTime? updateDateVal = null,
			int levelVal = 3)
		{
			if (!createDateVal.HasValue)
				createDateVal = DateTime.Parse(&quot;2012-01-02&quot;);
			if (!updateDateVal.HasValue)
				updateDateVal = DateTime.Parse(&quot;2012-01-03&quot;);

			Assert.AreEqual(idVal, doc.Id);
            Assert.AreEqual(keyVal, doc.GetKey());
			Assert.AreEqual(templateIdVal, doc.TemplateId);
			Assert.AreEqual(sortOrderVal, doc.SortOrder);
			Assert.AreEqual(urlNameVal, doc.UrlName);
			Assert.AreEqual(nodeTypeAliasVal, doc.DocumentTypeAlias);
			Assert.AreEqual(nodeTypeIdVal, doc.DocumentTypeId);
			Assert.AreEqual(writerNameVal, doc.WriterName);
			Assert.AreEqual(creatorNameVal, doc.CreatorName);
			Assert.AreEqual(writerIdVal, doc.WriterId);
			Assert.AreEqual(creatorIdVal, doc.CreatorId);
			Assert.AreEqual(pathVal, doc.Path);
			Assert.AreEqual(createDateVal.Value, doc.CreateDate);
			Assert.AreEqual(updateDateVal.Value, doc.UpdateDate);
			Assert.AreEqual(levelVal, doc.Level);
			
		}

		
	}
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[24,9,24,10,1],[25,13,25,103,1],[26,13,26,37,1],[27,9,27,10,1],[31,3,31,4,1],[32,4,32,27,1],[33,4,33,97,1],[34,4,34,102,1],[35,4,35,102,1],[36,4,36,106,1],[37,4,37,106,1],[39,4,39,47,1],[40,13,40,106,1],[41,4,41,34,1],[42,4,42,38,1],[43,4,43,36,1],[43,36,43,40,1],[43,40,43,85,1],[43,4,43,85,1],[45,3,45,4,1],[49,3,49,4,1],[50,4,50,27,1],[51,4,51,97,1],[52,4,52,100,1],[53,4,53,105,1],[54,4,54,97,1],[56,4,56,49,1],[57,4,57,133,1],[58,4,58,61,1],[59,4,59,65,1],[60,4,60,79,1],[61,4,61,73,1],[62,4,62,55,1],[63,4,63,53,1],[64,4,64,53,1],[65,4,65,63,1],[66,4,66,41,1],[67,3,67,4,1],[73,3,73,4,1],[74,4,74,51,1],[75,4,75,21,1],[76,3,76,4,1],[81,3,81,4,1],[82,4,82,57,1],[83,4,83,21,1],[84,3,84,4,1],[89,3,89,4,1],[90,4,90,57,1],[91,4,91,21,1],[92,3,92,4,1],[97,3,97,4,1],[98,4,98,62,1],[99,4,99,21,1],[100,3,100,4,1],[105,3,105,4,1],[106,4,106,53,1],[107,4,107,21,1],[108,3,108,4,1],[112,9,112,10,1],[113,13,113,38,1],[114,13,114,61,1],[115,13,115,43,1],[116,9,116,10,1],[120,3,120,4,1],[121,4,121,54,1],[122,4,122,54,1],[124,4,127,8,1],[129,4,129,48,1],[130,4,130,61,1],[131,4,131,61,1],[132,3,132,4,1],[137,3,137,4,1],[138,13,138,56,1],[139,7,139,32,1],[141,4,145,7,1],[146,4,146,46,1],[147,4,147,42,1],[148,4,148,81,1],[149,4,149,43,1],[150,4,150,44,1],[151,4,151,36,1],[152,13,152,25,1],[152,26,152,67,1],[153,4,153,42,1],[154,4,154,79,1],[155,4,155,40,1],[156,4,156,41,1],[157,4,157,59,1],[158,4,158,47,1],[160,13,160,66,1],[161,4,161,81,1],[163,4,163,170,1],[164,4,164,38,1],[165,3,165,4,1],[170,3,170,4,1],[171,13,171,56,1],[172,13,172,38,1],[174,4,174,31,1],[175,13,175,25,1],[175,26,175,110,1],[176,4,176,77,1],[177,13,177,66,1],[178,4,178,92,1],[180,4,180,209,1],[181,4,181,38,1],[182,4,182,45,1],[183,4,183,56,1],[184,4,184,56,1],[185,3,185,4,1],[188,3,188,4,1],[189,4,206,10,1],[208,4,208,35,1],[209,4,209,24,1],[210,4,210,18,1],[211,3,211,4,1],[222,3,222,4,1],[223,4,242,7,1],[243,3,243,4,1],[255,3,255,4,1],[256,4,256,25,1],[257,5,257,46,1],[258,13,262,22,1],[262,22,265,12,0],[265,12,265,16,0],[265,16,267,18,0],[267,18,267,47,0],[267,47,268,18,0],[268,18,268,52,0],[268,52,268,90,0],[268,90,268,91,0],[268,18,268,91,0],[268,91,270,13,0],[262,22,270,13,0],[270,13,272,16,1],[272,16,272,24,1],[272,24,273,16,1],[273,16,273,50,0],[273,50,273,88,0],[273,88,273,89,0],[273,16,273,89,0],[273,89,275,12,1],[258,13,275,12,1],[276,4,276,18,1],[277,3,277,4,1],[297,3,297,4,1],[298,4,298,32,1],[299,5,299,50,1],[300,4,300,32,1],[301,5,301,50,1],[303,4,304,97,1],[307,4,307,50,1],[308,3,308,4,1],[327,3,327,4,1],[328,4,328,32,1],[329,5,329,50,0],[330,4,330,32,1],[331,5,331,50,0],[333,4,333,35,1],[334,13,334,51,1],[335,4,335,51,1],[336,4,336,49,1],[337,4,337,45,1],[338,4,338,61,1],[339,4,339,55,1],[340,4,340,51,1],[341,4,341,53,1],[342,4,342,47,1],[343,4,343,49,1],[344,4,344,39,1],[345,4,345,57,1],[346,4,346,57,1],[347,4,347,41,1],[349,3,349,4,1]]);
    </script>
  </body>
</html>