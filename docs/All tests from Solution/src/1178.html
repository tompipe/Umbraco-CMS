<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\Umbraco.Web\Models\DynamicPublishedContentList.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.Collections.Generic;
using System.Linq;
using System.Dynamic;
using Umbraco.Core;
using Umbraco.Core.Cache;
using Umbraco.Core.Dynamics;
using System.Collections;
using System.Reflection;
using Umbraco.Core.Models;
using Umbraco.Core.Models.PublishedContent;
using Umbraco.Web.Dynamics;

namespace Umbraco.Web.Models
{
    /// &lt;summary&gt;
    /// Represents a collection of DynamicPublishedContent items.
    /// &lt;/summary&gt;
    public class DynamicPublishedContentList : DynamicObject, IEnumerable&lt;DynamicPublishedContent&gt;
    {
        private readonly List&lt;IPublishedContent&gt; _content;
        private readonly PublishedContentSet&lt;IPublishedContent&gt; _contentSet;
        internal readonly List&lt;DynamicPublishedContent&gt; Items;

        #region Constructor

        public DynamicPublishedContentList()
        {
            _content = new List&lt;IPublishedContent&gt;();
            _contentSet = new PublishedContentSet&lt;IPublishedContent&gt;(_content);
            Items = new List&lt;DynamicPublishedContent&gt;();
        }

        public DynamicPublishedContentList(IEnumerable&lt;IPublishedContent&gt; items)
        {
            _content = items.ToList();
            _contentSet = new PublishedContentSet&lt;IPublishedContent&gt;(_content);
            Items = _contentSet.Select(x =&gt; new DynamicPublishedContent(x, this)).ToList();
        }

        public DynamicPublishedContentList(IEnumerable&lt;DynamicPublishedContent&gt; items)
        {
            _content = items.Select(x =&gt; x.PublishedContent).ToList();
            _contentSet = new PublishedContentSet&lt;IPublishedContent&gt;(_content);
            Items = _contentSet.Select(x =&gt; new DynamicPublishedContent(x, this)).ToList();
        }

        #endregion

        #region ContentSet

        // so we are ~compatible with strongly typed syntax
        public DynamicPublishedContentList ToContentSet()
        {
            return this;
        }

        #endregion

        #region IList (well, part of it)

        /// &lt;summary&gt;
        /// Adds an item to the collection.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;dynamicContent&quot;&gt;The item to add.&lt;/param&gt;
        public void Add(DynamicPublishedContent dynamicContent)
        {
            var content = dynamicContent.PublishedContent;
            _content.Add(content);
            _contentSet.SourceChanged();

            var setContent = _contentSet.MapContent(content);
            Items.Add(new DynamicPublishedContent(setContent, this));
        }

        /// &lt;summary&gt;
        /// Removes an item from the collection.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;dynamicContent&quot;&gt;The item to remove.&lt;/param&gt;
        public void Remove(DynamicPublishedContent dynamicContent)
        {
            if (Items.Contains(dynamicContent) == false) return;
            Items.Remove(dynamicContent);
            _content.Remove(dynamicContent.PublishedContent);
            _contentSet.SourceChanged();
        }

        #endregion

        #region DynamicObject

        // because we want to return DynamicNull and not null, we need to implement the index property
        // via the dynamic getter and not natively - otherwise it&#39;s not possible to return DynamicNull

        public override bool TryGetIndex(GetIndexBinder binder, object[] indexes, out object result)
        {
            result = DynamicNull.Null;

            if (indexes.Length != 1)
                return false;

            var index = indexes[0] as int?;
            if (index.HasValue == false)
                return false;

            if (index &gt;= 0 &amp;&amp; index &lt; Items.Count)
                result = Items[index.Value];

            return true;
        }

        public override bool TryInvokeMember(InvokeMemberBinder binder, object[] args, out object result)
        {
			//TODO: Nowhere here are we checking if args is the correct length!

			//NOTE: For many of these we could actually leave them out since we are executing custom extension methods and because
			// we implement IEnumerable&lt;T&gt; they will execute just fine, however, to do that will be quite a bit slower than checking here.

			var firstArg = args.FirstOrDefault();
			//this is to check for &#39;DocumentTypeAlias&#39; vs &#39;NodeTypeAlias&#39; for compatibility
			if (firstArg != null &amp;&amp; firstArg.ToString().InvariantStartsWith(&quot;NodeTypeAlias&quot;))
			{
				firstArg = &quot;DocumentTypeAlias&quot; + firstArg.ToString().Substring(&quot;NodeTypeAlias&quot;.Length);
			}

            var name = binder.Name;
			if (name == &quot;Single&quot;)
			{
				string predicate = firstArg == null ? &quot;&quot; : firstArg.ToString();
				var values = predicate.IsNullOrWhiteSpace() ? new object[] {} : args.Skip(1).ToArray();
				var single = Single&lt;DynamicPublishedContent&gt;(predicate, values);				
				result = new DynamicPublishedContent(single);				
				return true;
			}
			if (name == &quot;SingleOrDefault&quot;)
			{
				string predicate = firstArg == null ? &quot;&quot; : firstArg.ToString();
				var values = predicate.IsNullOrWhiteSpace() ? new object[] { } : args.Skip(1).ToArray();
				var single = SingleOrDefault&lt;DynamicPublishedContent&gt;(predicate, values);
				if (single == null)
                    result = DynamicNull.Null;
				else
					result = new DynamicPublishedContent(single);
				return true;
			}
			if (name == &quot;First&quot;)
			{
				string predicate = firstArg == null ? &quot;&quot; : firstArg.ToString();
				var values = predicate.IsNullOrWhiteSpace() ? new object[] { } : args.Skip(1).ToArray();
				var first = First&lt;DynamicPublishedContent&gt;(predicate, values);
				result = new DynamicPublishedContent(first);
				return true;
			}
			if (name == &quot;FirstOrDefault&quot;)
			{
				string predicate = firstArg == null ? &quot;&quot; : firstArg.ToString();
				var values = predicate.IsNullOrWhiteSpace() ? new object[] { } : args.Skip(1).ToArray();
				var first = FirstOrDefault&lt;DynamicPublishedContent&gt;(predicate, values);
				if (first == null)
                    result = DynamicNull.Null;
				else
					result = new DynamicPublishedContent(first);
				return true;
			}
			if (name == &quot;Last&quot;)
			{
				string predicate = firstArg == null ? &quot;&quot; : firstArg.ToString();
				var values = predicate.IsNullOrWhiteSpace() ? new object[] { } : args.Skip(1).ToArray();
				var last = Last&lt;DynamicPublishedContent&gt;(predicate, values);
				result = new DynamicPublishedContent(last);
				return true;
			}
			if (name == &quot;LastOrDefault&quot;)
			{
				string predicate = firstArg == null ? &quot;&quot; : firstArg.ToString();
				var values = predicate.IsNullOrWhiteSpace() ? new object[] { } : args.Skip(1).ToArray();
				var last = LastOrDefault&lt;DynamicPublishedContent&gt;(predicate, values);
				if (last == null)
                    result = DynamicNull.Null;
				else
					result = new DynamicPublishedContent(last);
				return true;
			}
            if (name == &quot;Where&quot;)
            {
				string predicate = firstArg.ToString();
                var values = args.Skip(1).ToArray();
				//TODO: We are pre-resolving the where into a ToList() here which will have performance impacts if there where clauses
				// are nested! We should somehow support an QueryableDocumentList!
				result = new DynamicPublishedContentList(Where&lt;DynamicPublishedContent&gt;(predicate, values).ToList());				
                return true;
            }
            if (name == &quot;OrderBy&quot;)
            {
				//TODO: We are pre-resolving the where into a ToList() here which will have performance impacts if there where clauses
				// are nested! We should somehow support an QueryableDocumentList!
				result = new DynamicPublishedContentList(OrderBy&lt;DynamicPublishedContent&gt;(firstArg.ToString()).ToList());
                return true;
            }
			if (name == &quot;Take&quot;)
			{
				result = new DynamicPublishedContentList(this.Take&lt;DynamicPublishedContent&gt;((int)firstArg));
				return true;
			}
			if (name == &quot;Skip&quot;)
			{
                result = new DynamicPublishedContentList(this.Skip&lt;DynamicPublishedContent&gt;((int)firstArg));
				return true;
			}
        	if (name == &quot;InGroupsOf&quot;)
            {
                int groupSize;
				if (int.TryParse(firstArg.ToString(), out groupSize))
                {
                    result = InGroupsOf(groupSize);
                    return true;
                }
                result = DynamicNull.Null;
                return true;
            }
            if (name == &quot;GroupedInto&quot;)
            {
                int groupCount;
				if (int.TryParse(firstArg.ToString(), out groupCount))
                {
                    result = GroupedInto(groupCount);
                    return true;
                }
                result = DynamicNull.Null;
                return true;
            }
            if (name == &quot;GroupBy&quot;)
            {
				result = GroupBy(firstArg.ToString());
                return true;
            }
            if (name == &quot;Average&quot; || name == &quot;Min&quot; || name == &quot;Max&quot; || name == &quot;Sum&quot;)
            {
                result = Aggregate(args, name);
                return true;
            }
            if (name == &quot;Union&quot;)
            {
                // check DynamicPublishedContentList before IEnumerable&lt;...&gt; because DynamicPublishedContentList
                // is IEnumerable&lt;...&gt; so ... the check on DynamicPublishedContentList would never be reached.

                var firstArgAsDynamicPublishedContentList = firstArg as DynamicPublishedContentList;
                if (firstArgAsDynamicPublishedContentList != null)
                {
                    result = new DynamicPublishedContentList(Items.Union((firstArgAsDynamicPublishedContentList).Items));
                    return true;
                }

                var firstArgAsIEnumerable = firstArg as IEnumerable&lt;DynamicPublishedContent&gt;;
                if (firstArgAsIEnumerable != null)
                {
                    result = new DynamicPublishedContentList(Items.Union(firstArgAsIEnumerable));
                    return true;
                }
            }
            if (name == &quot;Except&quot;)
            {
				if ((firstArg as IEnumerable&lt;DynamicPublishedContent&gt;) != null)
                {
					result = new DynamicPublishedContentList(Items.Except(firstArg as IEnumerable&lt;DynamicPublishedContent&gt;, new DynamicPublishedContentIdEqualityComparer()));					
                    return true;
                }
            }
            if (name == &quot;Intersect&quot;)
            {
				if ((firstArg as IEnumerable&lt;DynamicPublishedContent&gt;) != null)
                {
					result = new DynamicPublishedContentList(Items.Intersect(firstArg as IEnumerable&lt;DynamicPublishedContent&gt;, new DynamicPublishedContentIdEqualityComparer()));					
                    return true;
                }
            }
            if (name == &quot;Distinct&quot;)
            {
                result = new DynamicPublishedContentList(Items.Distinct(new DynamicPublishedContentIdEqualityComparer()));
                return true;
            }
            if (name == &quot;Pluck&quot; || name == &quot;Select&quot;)
            {
                result = Pluck(args);
                return true;
            }

            var runtimeCache = ApplicationContext.Current != null ? ApplicationContext.Current.ApplicationCache.RuntimeCache : new NullCacheProvider();

			//ok, now lets try to match by member, property, extensino method
            var attempt = DynamicInstanceHelper.TryInvokeMember(runtimeCache, this, binder, args, new[]
				{
					typeof (IEnumerable&lt;DynamicPublishedContent&gt;),
					typeof (DynamicPublishedContentList)
				});

			if (attempt.Success)
			{
				result = attempt.Result.ObjectResult;

				//need to check the return type and possibly cast if result is from an extension method found
				if (attempt.Result.Reason == DynamicInstanceHelper.TryInvokeMemberSuccessReason.FoundExtensionMethod)
				{
					//we don&#39;t need to cast if the result is already DynamicPublishedContentList
					if (attempt.Result.ObjectResult != null &amp;&amp; (!(attempt.Result.ObjectResult is DynamicPublishedContentList)))
					{
						if (attempt.Result.ObjectResult is IPublishedContent)
						{
							result = new DynamicPublishedContent((IPublishedContent)attempt.Result.ObjectResult);
						}
						else if (attempt.Result.ObjectResult is IEnumerable&lt;DynamicPublishedContent&gt;)
						{
							result = new DynamicPublishedContentList((IEnumerable&lt;DynamicPublishedContent&gt;)attempt.Result.ObjectResult);
						}
						else if (attempt.Result.ObjectResult is IEnumerable&lt;IPublishedContent&gt;)
						{
							result = new DynamicPublishedContentList((IEnumerable&lt;IPublishedContent&gt;)attempt.Result.ObjectResult);
						}						
					}
				}
				return true;
			}

			//this is the result of an extension method execution gone wrong so we return dynamic null
			if (attempt.Result.Reason == DynamicInstanceHelper.TryInvokeMemberSuccessReason.FoundExtensionMethod
				&amp;&amp; attempt.Exception != null &amp;&amp; attempt.Exception is TargetInvocationException)
			{
                result = DynamicNull.Null;
				return true;
			}

			result = null;
			return false;

        }

        #endregion

        #region Linq and stuff

        private T Aggregate&lt;T&gt;(IEnumerable&lt;T&gt; data, string name) where T : struct
        {
            switch (name)
            {
                case &quot;Min&quot;:
                    return data.Min&lt;T&gt;();
                case &quot;Max&quot;:
                    return data.Max&lt;T&gt;();
                case &quot;Average&quot;:
                    if (typeof(T) == typeof(int))
                    {
                        return (T)Convert.ChangeType((data as List&lt;int&gt;).Average(), typeof(T));
                    }
                    if (typeof(T) == typeof(decimal))
                    {
                        return (T)Convert.ChangeType((data as List&lt;decimal&gt;).Average(), typeof(T));
                    }
                    break;
                case &quot;Sum&quot;:
                    if (typeof(T) == typeof(int))
                    {
                        return (T)Convert.ChangeType((data as List&lt;int&gt;).Sum(), typeof(T));
                    }
                    if (typeof(T) == typeof(decimal))
                    {
                        return (T)Convert.ChangeType((data as List&lt;decimal&gt;).Sum(), typeof(T));
                    }
                    break;
            }
            return default(T);
        }
        private object Aggregate(object[] args, string name)
        {
            object result;
            string predicate = args.First().ToString();
            var values = args.Skip(1).ToArray();
            var query = (IQueryable&lt;object&gt;)this.Select(predicate, values);
            object firstItem = query.FirstOrDefault();
            if (firstItem == null)
            {
                result = DynamicNull.Null;
            }
            else
            {
                var types = from i in query
                            group i by i.GetType() into g
                            where g.Key != typeof(DynamicNull)
                            orderby g.Count() descending
                            select new { g, Instances = g.Count() };
                var dominantType = types.First().g.Key;
                //remove items that are not the dominant type
                //e.g. string,string,string,string,false[DynamicNull],string
                var itemsOfDominantTypeOnly = query.ToList();
                itemsOfDominantTypeOnly.RemoveAll(item =&gt; !item.GetType().IsAssignableFrom(dominantType));
                if (dominantType == typeof(string))
                {
                    throw new ArgumentException(&quot;Can only use aggregate methods on properties which are numeric&quot;);
                }
                else if (dominantType == typeof(int))
                {
                    List&lt;int&gt; data = (List&lt;int&gt;)itemsOfDominantTypeOnly.Cast&lt;int&gt;().ToList();
                    return Aggregate&lt;int&gt;(data, name);
                }
                else if (dominantType == typeof(decimal))
                {
                    List&lt;decimal&gt; data = (List&lt;decimal&gt;)itemsOfDominantTypeOnly.Cast&lt;decimal&gt;().ToList();
                    return Aggregate&lt;decimal&gt;(data, name);
                }
                else if (dominantType == typeof(bool))
                {
                    throw new ArgumentException(&quot;Can only use aggregate methods on properties which are numeric or datetime&quot;);
                }
                else if (dominantType == typeof(DateTime))
                {
                    if (name != &quot;Min&quot; || name != &quot;Max&quot;)
                    {
                        throw new ArgumentException(&quot;Can only use aggregate min or max methods on properties which are datetime&quot;);
                    }
                    List&lt;DateTime&gt; data = (List&lt;DateTime&gt;)itemsOfDominantTypeOnly.Cast&lt;DateTime&gt;().ToList();
                    return Aggregate&lt;DateTime&gt;(data, name);
                }
                else
                {
                    result = query.ToList();
                }
            }
            return result;
        }
        private object Pluck(object[] args)
        {
            object result;
            string predicate = args.First().ToString();
            var values = args.Skip(1).ToArray();
            var query = (IQueryable&lt;object&gt;)this.Select(predicate, values);
            object firstItem = query.FirstOrDefault();
            if (firstItem == null)
            {
                result = new List&lt;object&gt;();
            }
            else
            {
                var types = from i in query
                            group i by i.GetType() into g
                            where g.Key != typeof(DynamicNull)
                            orderby g.Count() descending
                            select new { g, Instances = g.Count() };
                var dominantType = types.First().g.Key;
                //remove items that are not the dominant type
                //e.g. string,string,string,string,false[DynamicNull],string
                var itemsOfDominantTypeOnly = query.ToList();
                itemsOfDominantTypeOnly.RemoveAll(item =&gt; !item.GetType().IsAssignableFrom(dominantType));
                if (dominantType == typeof(string))
                {
                    result = (List&lt;string&gt;)itemsOfDominantTypeOnly.Cast&lt;string&gt;().ToList();
                }
                else if (dominantType == typeof(int))
                {
                    result = (List&lt;int&gt;)itemsOfDominantTypeOnly.Cast&lt;int&gt;().ToList();
                }
                else if (dominantType == typeof(decimal))
                {
                    result = (List&lt;decimal&gt;)itemsOfDominantTypeOnly.Cast&lt;decimal&gt;().ToList();
                }
                else if (dominantType == typeof(bool))
                {
                    result = (List&lt;bool&gt;)itemsOfDominantTypeOnly.Cast&lt;bool&gt;().ToList();
                }
                else if (dominantType == typeof(DateTime))
                {
                    result = (List&lt;DateTime&gt;)itemsOfDominantTypeOnly.Cast&lt;DateTime&gt;().ToList();
                }
                else
                {
                    result = query.ToList();
                }
            }
            return result;
        }
		
		public T Single&lt;T&gt;(string predicate, params object[] values)
		{
			return predicate.IsNullOrWhiteSpace() 
				? ((IQueryable&lt;T&gt;) Items.AsQueryable()).Single() 
				: Where&lt;T&gt;(predicate, values).Single();
		}

	    public T SingleOrDefault&lt;T&gt;(string predicate, params object[] values)
		{
			return predicate.IsNullOrWhiteSpace()
				? ((IQueryable&lt;T&gt;)Items.AsQueryable()).SingleOrDefault()
				: Where&lt;T&gt;(predicate, values).SingleOrDefault();
		}
		public T First&lt;T&gt;(string predicate, params object[] values)
		{
			return predicate.IsNullOrWhiteSpace()
				? ((IQueryable&lt;T&gt;)Items.AsQueryable()).First()
				: Where&lt;T&gt;(predicate, values).First();
		}
		public T FirstOrDefault&lt;T&gt;(string predicate, params object[] values)
		{
			return predicate.IsNullOrWhiteSpace()
				? ((IQueryable&lt;T&gt;)Items.AsQueryable()).FirstOrDefault()
				: Where&lt;T&gt;(predicate, values).FirstOrDefault();
		}
		public T Last&lt;T&gt;(string predicate, params object[] values)
		{
			return predicate.IsNullOrWhiteSpace()
				? ((IQueryable&lt;T&gt;)Items.AsQueryable()).Last()
				: Where&lt;T&gt;(predicate, values).Last();
		}
		public T LastOrDefault&lt;T&gt;(string predicate, params object[] values)
		{
			return predicate.IsNullOrWhiteSpace()
				? ((IQueryable&lt;T&gt;)Items.AsQueryable()).LastOrDefault()
				: Where&lt;T&gt;(predicate, values).LastOrDefault();
		}
        public IQueryable&lt;T&gt; Where&lt;T&gt;(string predicate, params object[] values)
        {
            return ((IQueryable&lt;T&gt;)Items.AsQueryable()).Where(predicate, values);
        }
        public IQueryable&lt;T&gt; OrderBy&lt;T&gt;(string key)
        {
			return ((IQueryable&lt;T&gt;)Items.AsQueryable()).OrderBy(key, () =&gt; typeof(DynamicPublishedContentListOrdering));
        }
        public DynamicGrouping GroupBy(string key)
        {
            var group = new DynamicGrouping(this, key);
            return group;
        }
        public DynamicGrouping GroupedInto(int groupCount)
        {
            var groupSize = (int)Math.Ceiling(((decimal)Items.Count() / groupCount));
            return new DynamicGrouping(
               Items
               .Select((node, index) =&gt; new KeyValuePair&lt;int, DynamicPublishedContent&gt;(index, node))
               .GroupBy(kv =&gt; (object)(kv.Key / groupSize))
               .Select(item =&gt; new Grouping&lt;object, DynamicPublishedContent&gt;()
               {
                   Key = item.Key,
                   Elements = item.Select(inner =&gt; inner.Value)
               }));
        }
        public DynamicGrouping InGroupsOf(int groupSize)
        {
            return new DynamicGrouping(
                Items
                .Select((node, index) =&gt; new KeyValuePair&lt;int, DynamicPublishedContent&gt;(index, node))
                .GroupBy(kv =&gt; (object)(kv.Key / groupSize))
                .Select(item =&gt; new Grouping&lt;object, DynamicPublishedContent&gt;()
                {
                    Key = item.Key,
                    Elements = item.Select(inner =&gt; inner.Value)
                }));

        }

        public IQueryable Select(string predicate, params object[] values)
        {
	        return DynamicQueryable.Select(Items.AsQueryable(), predicate, values);
        }

        #endregion

        #region Dynamic

        public bool IsNull()
        {
            return false;
        }

        public bool HasValue()
        {
            return true;
        }

        #endregion

        #region Enumerate inner IPublishedContent items

        public IEnumerator&lt;DynamicPublishedContent&gt; GetEnumerator()
    	{
    		return Items.GetEnumerator();
    	}

    	IEnumerator IEnumerable.GetEnumerator()
    	{
    		return GetEnumerator();
        }

        #endregion
    }
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[27,9,27,45,0],[28,9,28,10,0],[29,13,29,54,0],[30,13,30,80,0],[31,13,31,57,0],[32,9,32,10,0],[34,9,34,81,1],[35,9,35,10,1],[36,13,36,39,1],[37,13,37,80,1],[38,13,38,45,1],[38,45,38,81,1],[38,81,38,92,1],[38,13,38,92,1],[39,9,39,10,1],[41,9,41,87,1],[42,9,42,10,1],[43,13,43,42,1],[43,42,43,60,1],[43,60,43,71,1],[43,13,43,71,1],[44,13,44,80,1],[45,13,45,45,1],[45,45,45,81,1],[45,81,45,92,1],[45,13,45,92,1],[46,9,46,10,1],[54,9,54,10,0],[55,13,55,25,0],[56,9,56,10,0],[67,9,67,10,0],[68,13,68,59,0],[69,13,69,35,0],[70,13,70,41,0],[72,13,72,62,0],[73,13,73,70,0],[74,9,74,10,0],[81,9,81,10,0],[82,13,82,57,0],[82,58,82,65,0],[83,13,83,42,0],[84,13,84,62,0],[85,13,85,41,0],[86,9,86,10,0],[96,9,96,10,0],[97,13,97,39,0],[99,13,99,37,0],[100,17,100,30,0],[102,13,102,44,0],[103,13,103,41,0],[104,17,104,30,0],[106,13,106,51,0],[107,17,107,45,0],[109,13,109,25,0],[110,9,110,10,0],[113,9,113,10,1],[119,4,119,41,1],[121,4,121,85,1],[122,4,122,5,1],[123,5,123,92,1],[124,4,124,5,1],[126,13,126,36,1],[127,4,127,25,1],[128,4,128,5,1],[129,5,129,68,1],[130,5,130,92,1],[131,5,131,69,1],[132,5,132,50,1],[133,5,133,17,1],[135,4,135,34,1],[136,4,136,5,0],[137,5,137,68,0],[138,5,138,93,0],[139,5,139,78,0],[140,5,140,24,0],[141,21,141,47,0],[143,6,143,51,0],[144,5,144,17,0],[146,4,146,24,1],[147,4,147,5,1],[148,5,148,68,1],[149,5,149,93,1],[150,5,150,67,1],[151,5,151,49,1],[152,5,152,17,1],[154,4,154,33,1],[155,4,155,5,1],[156,5,156,68,1],[157,5,157,93,1],[158,5,158,76,1],[159,5,159,23,1],[160,21,160,47,1],[162,6,162,50,1],[163,5,163,17,1],[165,4,165,23,1],[166,4,166,5,0],[167,5,167,68,0],[168,5,168,93,0],[169,5,169,65,0],[170,5,170,48,0],[171,5,171,17,0],[173,4,173,32,1],[174,4,174,5,0],[175,5,175,68,0],[176,5,176,93,0],[177,5,177,74,0],[178,5,178,22,0],[179,21,179,47,0],[181,6,181,49,0],[182,5,182,17,0],[184,13,184,33,1],[185,13,185,14,1],[186,5,186,44,1],[187,17,187,53,1],[190,5,190,106,1],[191,17,191,29,1],[193,13,193,35,1],[194,13,194,14,1],[197,5,197,110,1],[198,17,198,29,1],[200,4,200,23,1],[201,4,201,5,1],[202,5,202,97,1],[203,5,203,17,1],[205,4,205,23,1],[206,4,206,5,1],[207,17,207,109,1],[208,5,208,17,1],[210,10,210,35,1],[211,13,211,14,0],[213,5,213,58,0],[214,17,214,18,0],[215,21,215,52,0],[216,21,216,33,0],[218,17,218,43,0],[219,17,219,29,0],[221,13,221,39,1],[222,13,222,14,0],[224,5,224,59,0],[225,17,225,18,0],[226,21,226,54,0],[227,21,227,33,0],[229,17,229,43,0],[230,17,230,29,0],[232,13,232,35,1],[233,13,233,14,0],[234,5,234,43,0],[235,17,235,29,0],[237,13,237,86,1],[238,13,238,14,0],[239,17,239,48,0],[240,17,240,29,0],[242,13,242,33,1],[243,13,243,14,0],[247,17,247,101,0],[248,17,248,67,0],[249,17,249,18,0],[250,21,250,122,0],[251,21,251,33,0],[254,17,254,94,0],[255,17,255,51,0],[256,17,256,18,0],[257,21,257,98,0],[258,21,258,33,0],[260,13,260,14,0],[261,13,261,34,1],[262,13,262,14,0],[263,5,263,68,0],[264,17,264,18,0],[265,6,265,160,0],[266,21,266,33,0],[268,13,268,14,0],[269,13,269,37,1],[270,13,270,14,0],[271,5,271,68,0],[272,17,272,18,0],[273,6,273,163,0],[274,21,274,33,0],[276,13,276,14,0],[277,13,277,36,1],[278,13,278,14,0],[279,17,279,123,0],[280,17,280,29,0],[282,13,282,53,1],[283,13,283,14,0],[284,17,284,38,0],[285,17,285,29,0],[288,13,288,152,1],[291,13,295,8,1],[297,4,297,24,1],[298,4,298,5,1],[299,5,299,42,1],[302,5,302,106,1],[303,5,303,6,1],[305,6,305,113,1],[306,6,306,7,1],[307,7,307,60,1],[308,7,308,8,0],[309,8,309,93,0],[310,7,310,8,0],[311,12,311,84,1],[312,7,312,8,0],[313,8,313,116,0],[314,7,314,8,0],[315,12,315,78,1],[316,7,316,8,0],[317,8,317,110,0],[318,7,318,8,0],[319,6,319,7,1],[320,5,320,6,1],[321,5,321,17,1],[325,4,326,84,0],[327,4,327,5,0],[328,17,328,43,0],[329,5,329,17,0],[332,4,332,18,0],[333,4,333,17,0],[335,9,335,10,1],[342,9,342,10,0],[343,13,343,26,0],[346,21,346,42,0],[348,21,348,42,0],[350,21,350,50,0],[351,21,351,22,0],[352,25,352,96,0],[354,21,354,54,0],[355,21,355,22,0],[356,25,356,100,0],[358,21,358,27,0],[360,21,360,50,0],[361,21,361,22,0],[362,25,362,92,0],[364,21,364,54,0],[365,21,365,22,0],[366,25,366,96,0],[368,21,368,27,0],[370,13,370,31,0],[371,9,371,10,0],[373,9,373,10,0],[375,13,375,56,0],[376,13,376,49,0],[377,13,377,76,0],[378,13,378,55,0],[379,13,379,35,0],[380,13,380,14,0],[381,17,381,43,0],[382,13,382,14,0],[384,13,384,14,0],[385,17,389,69,0],[390,17,390,56,0],[393,17,393,62,0],[394,17,394,59,0],[394,59,394,105,0],[394,105,394,107,0],[394,17,394,107,0],[395,17,395,52,0],[396,17,396,18,0],[397,21,397,115,0],[399,22,399,54,0],[400,17,400,18,0],[401,21,401,94,0],[402,21,402,55,0],[404,22,404,58,0],[405,17,405,18,0],[406,21,406,106,0],[407,21,407,59,0],[409,22,409,55,0],[410,17,410,18,0],[411,21,411,127,0],[413,22,413,59,0],[414,17,414,18,0],[415,21,415,56,0],[416,21,416,22,0],[417,25,417,131,0],[419,21,419,109,0],[420,21,420,60,0],[423,17,423,18,0],[424,21,424,45,0],[425,17,425,18,0],[426,13,426,14,0],[427,13,427,27,0],[428,9,428,10,0],[430,9,430,10,0],[432,13,432,56,0],[433,13,433,49,0],[434,13,434,76,0],[435,13,435,55,0],[436,13,436,35,0],[437,13,437,14,0],[438,17,438,45,0],[439,13,439,14,0],[441,13,441,14,0],[442,17,446,69,0],[447,17,447,56,0],[450,17,450,62,0],[451,17,451,59,0],[451,59,451,105,0],[451,105,451,107,0],[451,17,451,107,0],[452,17,452,52,0],[453,17,453,18,0],[454,21,454,92,0],[455,17,455,18,0],[456,22,456,54,0],[457,17,457,18,0],[458,21,458,86,0],[459,17,459,18,0],[460,22,460,58,0],[461,17,461,18,0],[462,21,462,94,0],[463,17,463,18,0],[464,22,464,55,0],[465,17,465,18,0],[466,21,466,88,0],[467,17,467,18,0],[468,22,468,59,0],[469,17,469,18,0],[470,21,470,96,0],[471,17,471,18,0],[473,17,473,18,0],[474,21,474,45,0],[475,17,475,18,0],[476,13,476,14,0],[477,13,477,27,0],[478,9,478,10,0],[481,3,481,4,1],[482,4,484,44,1],[485,3,485,4,1],[488,3,488,4,0],[489,4,491,53,0],[492,3,492,4,0],[494,3,494,4,1],[495,4,497,43,1],[498,3,498,4,1],[500,3,500,4,1],[501,4,503,52,1],[504,3,504,4,1],[506,3,506,4,0],[507,4,509,42,0],[510,3,510,4,0],[512,3,512,4,0],[513,4,515,51,0],[516,3,516,4,0],[518,9,518,10,1],[519,13,519,82,1],[520,9,520,10,1],[522,9,522,10,1],[523,4,523,67,1],[523,67,523,110,0],[523,110,523,112,1],[523,4,523,112,1],[524,9,524,10,1],[526,9,526,10,1],[527,13,527,56,1],[528,13,528,26,1],[529,9,529,10,1],[531,9,531,10,0],[532,13,532,86,0],[533,13,535,41,0],[535,41,535,100,0],[535,100,536,31,0],[536,31,536,59,0],[536,59,537,32,0],[537,32,540,52,0],[540,52,540,63,0],[540,63,541,17,0],[537,32,541,17,0],[541,17,541,20,0],[533,13,541,20,0],[542,9,542,10,0],[544,9,544,10,0],[545,13,547,42,0],[547,42,547,101,0],[547,101,548,32,0],[548,32,548,60,0],[548,60,549,33,0],[549,33,552,53,0],[552,53,552,64,0],[552,64,553,18,0],[549,33,553,18,0],[553,18,553,21,0],[545,13,553,21,0],[555,9,555,10,0],[558,9,558,10,1],[559,10,559,81,1],[560,9,560,10,1],[567,9,567,10,0],[568,13,568,26,0],[569,9,569,10,0],[572,9,572,10,0],[573,13,573,25,0],[574,9,574,10,0],[581,6,581,7,1],[582,7,582,36,1],[583,6,583,7,1],[586,6,586,7,1],[587,7,587,30,1],[588,9,588,10,1]]);
    </script>
  </body>
</html>