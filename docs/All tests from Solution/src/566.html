<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\Umbraco.Web\umbraco.presentation\umbraco\plugins\tinymce3\insertImage.aspx.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.Collections.Generic;
using System.Web;
using System.Web.UI;
using System.Web.UI.WebControls;
using umbraco.BusinessLogic;
using umbraco.businesslogic.Exceptions;

namespace umbraco.presentation.plugins.tinymce3
{
    public partial class insertImage : BasePages.UmbracoEnsuredPage
    {
        protected uicontrols.TabView tbv = new uicontrols.TabView();


        protected void Page_Load(object sender, EventArgs e)
        {
			ClientLoader.DataBind();

            pp_src.Text = ui.Text(&quot;url&quot;);
            pp_title.Text = ui.Text(&quot;name&quot;);
            pp_dimensions.Text = ui.Text(&quot;dimensions&quot;);

            pane_src.Style.Add(&quot;height&quot;, &quot;105px&quot;);
            
            lt_heightLabel.Text = ui.Text(&quot;height&quot;);
            lt_widthLabel.Text = ui.Text(&quot;width&quot;);

            Title = ui.Text(&quot;insertimage&quot;);

            // Put user code to initialize the page here 
            var tp = tv_options.NewTabPage(ui.Text(&quot;choose&quot;));
            tp.HasMenu = false;
            tp.Controls.Add(pane_select);
          
            var tp2 = tv_options.NewTabPage(ui.Text(&quot;create&quot;) + &quot; &quot; + ui.Text(&quot;new&quot;));
            tp2.HasMenu = false;
            tp2.Controls.Add(pane_upload);
    }

        
        protected override void OnInit(EventArgs e)
        {
            tbv.ID = &quot;tabview1&quot;;
            tbv.AutoResize = false;
            tbv.Width = 500;
            tbv.Height = 290;

            //this could be used for media or content so we need to at least validate that the user has access to one or the other
            if (!ValidateUserApp(DefaultApps.content.ToString()) &amp;&amp; !ValidateUserApp(DefaultApps.media.ToString()))
                throw new UserAuthorizationException(&quot;The current user doesn&#39;t have access to the section/app&quot;);

            base.OnInit(e);
        }

    }
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[13,9,13,69,0],[17,9,17,10,0],[18,4,18,28,0],[20,13,20,42,0],[21,13,21,45,0],[22,13,22,56,0],[24,13,24,51,0],[26,13,26,53,0],[27,13,27,51,0],[29,13,29,44,0],[32,13,32,63,0],[33,13,33,32,0],[34,13,34,42,0],[36,13,36,87,0],[37,13,37,33,0],[38,13,38,43,0],[39,5,39,6,0],[43,9,43,10,0],[44,13,44,33,0],[45,13,45,36,0],[46,13,46,29,0],[47,13,47,30,0],[50,13,50,116,0],[51,17,51,113,0],[53,13,53,28,0],[54,9,54,10,0]]);
    </script>
  </body>
</html>