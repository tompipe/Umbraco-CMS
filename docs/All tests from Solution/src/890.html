<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\Umbraco.Web\Trees\LegacyTreeDataConverter.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.Collections.Generic;
using System.Linq;
using System.Net.Http.Formatting;
using System.Text;
using System.Web;
using System.Web.Http.Routing;
using Umbraco.Core;
using Umbraco.Core.IO;
using Umbraco.Core.Logging;
using Umbraco.Core.Services;
using Umbraco.Web.Models.Trees;
using umbraco;
using umbraco.BusinessLogic;
using umbraco.BusinessLogic.Actions;
using umbraco.cms.helpers;
using umbraco.cms.presentation.Trees;
using umbraco.controls.Tree;
using umbraco.interfaces;

namespace Umbraco.Web.Trees
{
    /// &lt;summary&gt;
    /// Converts the legacy tree data to the new format
    /// &lt;/summary&gt;
    internal class LegacyTreeDataConverter
    {
        internal static BaseTree GetLegacyTreeForLegacyServices(Core.Models.ApplicationTree appTree)
        {
            if (appTree == null) throw new ArgumentNullException(&quot;appTree&quot;);

            BaseTree tree;

            var controllerAttempt = appTree.TryGetControllerTree();
            if (controllerAttempt.Success)
            {
                var legacyAtt = controllerAttempt.Result.GetCustomAttribute&lt;LegacyBaseTreeAttribute&gt;(false);
                if (legacyAtt == null)
                {
                    LogHelper.Warn&lt;LegacyTreeDataConverter&gt;(&quot;Cannot render tree: &quot; + appTree.Alias + &quot;. Cannot render a &quot; + typeof(TreeController) + &quot; tree type with the legacy web services unless attributed with &quot; + typeof(LegacyBaseTreeAttribute));
                    return null;
                }

                var treeDef = new TreeDefinition(
                    legacyAtt.BaseTreeType,
                    new ApplicationTree(false, true, (byte)appTree.SortOrder, appTree.ApplicationAlias, appTree.Alias, appTree.Title, appTree.IconClosed, appTree.IconOpened, &quot;&quot;, legacyAtt.BaseTreeType.GetFullNameWithAssembly(), &quot;&quot;),
                    new Application(appTree.Alias, appTree.Alias, &quot;&quot;, 0));

                tree = treeDef.CreateInstance();
                tree.TreeAlias = appTree.Alias;

            }
            else
            {
                //get the tree that we need to render                    
                var treeDef = TreeDefinitionCollection.Instance.FindTree(appTree.Alias);
                if (treeDef == null)
                {
                    return null;
                }
                tree = treeDef.CreateInstance();
            }

            return tree;
        }

        /// &lt;summary&gt;
        /// This is used by any legacy services that require rendering a BaseTree, if a new controller tree is detected it will try to invoke it&#39;s legacy predecessor.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;appTreeService&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;treeType&quot;&gt;&lt;/param&gt;
        /// &lt;returns&gt;&lt;/returns&gt;
        internal static BaseTree GetLegacyTreeForLegacyServices(IApplicationTreeService appTreeService, string treeType)
        {
            if (appTreeService == null) throw new ArgumentNullException(&quot;appTreeService&quot;);
            if (treeType == null) throw new ArgumentNullException(&quot;treeType&quot;);

            //first get the app tree definition so we can then figure out if we need to load by legacy or new
            //now we&#39;ll look up that tree
            var appTree = appTreeService.GetByAlias(treeType);
            if (appTree == null)
                throw new InvalidOperationException(&quot;No tree found with alias &quot; + treeType);

            return GetLegacyTreeForLegacyServices(appTree);
        }

        /// &lt;summary&gt;
        /// Gets the menu item collection from a legacy tree node based on it&#39;s parent node&#39;s child collection
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;nodeId&quot;&gt;The node id&lt;/param&gt;
        /// &lt;param name=&quot;xmlTree&quot;&gt;The node collection that contains the node id&lt;/param&gt;
        /// &lt;param name=&quot;currentSection&quot;&gt;&lt;/param&gt;
        /// &lt;returns&gt;&lt;/returns&gt;
        internal static MenuItemCollection ConvertFromLegacyMenu(string nodeId, XmlTree xmlTree, string currentSection)
        {
            var xmlTreeNode = xmlTree.treeCollection.FirstOrDefault(x =&gt; x.NodeID == nodeId);
            if (xmlTreeNode == null)
            {
                return null;
            }

            return ConvertFromLegacyMenu(xmlTreeNode, currentSection);
        }

        /// &lt;summary&gt;
        /// Gets the menu item collection from a legacy tree node
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;xmlTreeNode&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;currentSection&quot;&gt;&lt;/param&gt;
        /// &lt;returns&gt;&lt;/returns&gt;
        internal static MenuItemCollection ConvertFromLegacyMenu(XmlTreeNode xmlTreeNode, string currentSection)
        {
            var collection = new MenuItemCollection();

            var menuItems = xmlTreeNode.Menu.ToArray();
            var numAdded = 0;
            var seperators = new List&lt;int&gt;();
            foreach (var t in menuItems)
            {
                if (t is ContextMenuSeperator &amp;&amp; numAdded &gt; 0)
                {
                    //store the index for which the seperator should be placed
                    seperators.Add(collection.Items.Count());
                }
                else
                {
                    var menuItem = collection.Items.Add(t, ui.Text(&quot;actions&quot;, t.Alias));

                    var currentAction = t;

                    //First try to get a URL/title from the legacy action,
                    // if that doesn&#39;t work, try to get the legacy confirm view
                    // if that doesn&#39;t work and there&#39;s no jsAction in there already then add the legacy js method call
                    Attempt
                        .Try(GetUrlAndTitleFromLegacyAction(currentAction, xmlTreeNode.NodeID, xmlTreeNode.NodeType, xmlTreeNode.Text, currentSection),
                             action =&gt; menuItem.LaunchDialogUrl(action.Url, action.DialogTitle))
                        .OnFailure(() =&gt; GetLegacyConfirmView(currentAction, currentSection),
                                   view =&gt; menuItem.LaunchDialogView(
                                       view,
                                       ui.GetText(&quot;defaultdialogs&quot;, &quot;confirmdelete&quot;) + &quot; &#39;&quot; + xmlTreeNode.Text + &quot;&#39; ?&quot;))
                        .OnFailure(() =&gt; menuItem.AdditionalData.ContainsKey(MenuItem.JsActionKey)
                                             ? Attempt.Fail(false)
                                             : Attempt.Succeed(true),
                                   b =&gt; menuItem.ExecuteLegacyJs(menuItem.Action.JsFunctionName));
                    
                    numAdded++;
                }
            }
            var length = collection.Items.Count();
            foreach (var s in seperators)
            {
                if (length &gt;= s)
                {
                    collection.Items.ElementAt(s).SeperatorBefore = true;
                }
            }

            return collection;
        }

        

        /// &lt;summary&gt;
        /// This will look at the legacy IAction&#39;s JsFunctionName and convert it to a confirmation dialog view if possible
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;action&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;currentSection&quot;&gt;&lt;/param&gt;
        /// &lt;returns&gt;&lt;/returns&gt;
        internal static Attempt&lt;string&gt; GetLegacyConfirmView(IAction action, string currentSection)
        {
            if (action.JsFunctionName.IsNullOrWhiteSpace())
            {
                return Attempt&lt;string&gt;.Fail();
            }

            switch (action.JsFunctionName)
            {
                case &quot;UmbClientMgr.appActions().actionDelete()&quot;:
                    return Attempt.Succeed(
                        Core.Configuration.GlobalSettings.Path.EnsureEndsWith(&#39;/&#39;) + &quot;views/common/dialogs/legacydelete.html&quot;);
            }

            return Attempt&lt;string&gt;.Fail();
        }

        /// &lt;summary&gt;
        /// This will look at a legacy IAction&#39;s JsFunctionName and convert it to a URL if possible.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;action&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;nodeName&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;currentSection&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;nodeId&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;nodeType&quot;&gt;&lt;/param&gt;
        internal static Attempt&lt;LegacyUrlAction&gt; GetUrlAndTitleFromLegacyAction(IAction action, string nodeId, string nodeType, string nodeName, string currentSection)
        {
            if (action.JsFunctionName.IsNullOrWhiteSpace())
            {
                return Attempt&lt;LegacyUrlAction&gt;.Fail();
            }

            switch (action.JsFunctionName)
            {
                case &quot;UmbClientMgr.appActions().actionNew()&quot;:
                    return Attempt.Succeed(
                        new LegacyUrlAction(
                            &quot;create.aspx?nodeId=&quot; + nodeId + &quot;&amp;nodeType=&quot; + nodeType + &quot;&amp;nodeName=&quot; + nodeName + &quot;&amp;rnd=&quot; + DateTime.UtcNow.Ticks,
                            ui.GetText(&quot;actions&quot;, &quot;create&quot;)));
                case &quot;UmbClientMgr.appActions().actionNewFolder()&quot;:
                    return Attempt.Succeed(
                        new LegacyUrlAction(
                            &quot;createFolder.aspx?nodeId=&quot; + nodeId + &quot;&amp;nodeType=&quot; + nodeType + &quot;&amp;nodeName=&quot; + nodeName + &quot;&amp;rnd=&quot; + DateTime.UtcNow.Ticks,
                            ui.GetText(&quot;actions&quot;, &quot;create&quot;)));
                case &quot;UmbClientMgr.appActions().actionSort()&quot;:
                    return Attempt.Succeed(
                        new LegacyUrlAction(
                            &quot;dialogs/sort.aspx?id=&quot; + nodeId + &quot;&amp;nodeType=&quot; + nodeType + &quot;&amp;app=&quot; + currentSection + &quot;&amp;rnd=&quot; + DateTime.UtcNow.Ticks,
                            ui.GetText(&quot;actions&quot;, &quot;sort&quot;)));
                case &quot;UmbClientMgr.appActions().actionRights()&quot;:
                    return Attempt.Succeed(
                        new LegacyUrlAction(
                            &quot;dialogs/cruds.aspx?id=&quot; + nodeId + &quot;&amp;rnd=&quot; + DateTime.UtcNow.Ticks,
                            ui.GetText(&quot;actions&quot;, &quot;rights&quot;)));
                case &quot;UmbClientMgr.appActions().actionProtect()&quot;:
                    return Attempt.Succeed(
                        new LegacyUrlAction(
                            &quot;dialogs/protectPage.aspx?mode=cut&amp;nodeId=&quot; + nodeId + &quot;&amp;rnd=&quot; + DateTime.UtcNow.Ticks,
                            ui.GetText(&quot;actions&quot;, &quot;protect&quot;)));
                case &quot;UmbClientMgr.appActions().actionRollback()&quot;:
                    return Attempt.Succeed(
                        new LegacyUrlAction(
                            &quot;dialogs/rollback.aspx?nodeId=&quot; + nodeId + &quot;&amp;rnd=&quot; + DateTime.UtcNow.Ticks,
                            ui.GetText(&quot;actions&quot;, &quot;rollback&quot;)));
                case &quot;UmbClientMgr.appActions().actionNotify()&quot;:
                    return Attempt.Succeed(
                        new LegacyUrlAction(
                            &quot;dialogs/notifications.aspx?id=&quot; + nodeId + &quot;&amp;rnd=&quot; + DateTime.UtcNow.Ticks,
                            ui.GetText(&quot;actions&quot;, &quot;notify&quot;)));
                case &quot;UmbClientMgr.appActions().actionPublish()&quot;:
                    return Attempt.Succeed(
                        new LegacyUrlAction(
                            &quot;dialogs/publish.aspx?id=&quot; + nodeId + &quot;&amp;rnd=&quot; + DateTime.UtcNow.Ticks,
                            ui.GetText(&quot;actions&quot;, &quot;publish&quot;)));
                case &quot;UmbClientMgr.appActions().actionChangeDocType()&quot;:
                    return Attempt.Succeed(
                        new LegacyUrlAction(
                            &quot;dialogs/ChangeDocType.aspx?id=&quot; + nodeId + &quot;&amp;rnd=&quot; + DateTime.UtcNow.Ticks,
                            ui.GetText(&quot;actions&quot;, &quot;changeDocType&quot;)));
                case &quot;UmbClientMgr.appActions().actionToPublish()&quot;:
                    return Attempt.Succeed(
                        new LegacyUrlAction(
                            &quot;dialogs/SendPublish.aspx?id=&quot; + nodeId + &quot;&amp;rnd=&quot; + DateTime.UtcNow.Ticks,
                            ui.GetText(&quot;actions&quot;, &quot;sendtopublish&quot;)));
                case &quot;UmbClientMgr.appActions().actionRePublish()&quot;:
                    return Attempt.Succeed(
                        new LegacyUrlAction(
                            &quot;dialogs/republish.aspx?rnd=&quot; + DateTime.UtcNow.Ticks,
                            ui.GetText(&quot;actions&quot;, &quot;republish&quot;)));
                case &quot;UmbClientMgr.appActions().actionAssignDomain()&quot;:
                    return Attempt.Succeed(
                        new LegacyUrlAction(
                            &quot;dialogs/assignDomain2.aspx?id=&quot; + nodeId + &quot;&amp;rnd=&quot; + DateTime.UtcNow.Ticks,
                            ui.GetText(&quot;actions&quot;, &quot;assignDomain&quot;)));                
                case &quot;UmbClientMgr.appActions().actionSendToTranslate()&quot;:
                    return Attempt.Succeed(
                        new LegacyUrlAction(
                            &quot;dialogs/sendToTranslation.aspx?id=&quot; + nodeId + &quot;&amp;rnd=&quot; + DateTime.UtcNow.Ticks,
                            ui.GetText(&quot;actions&quot;, &quot;sendToTranslate&quot;)));
                case &quot;UmbClientMgr.appActions().actionEmptyTranscan()&quot;:
                    return Attempt.Succeed(
                        new LegacyUrlAction(
                            &quot;dialogs/emptyTrashcan.aspx?type=&quot; + currentSection,
                            ui.GetText(&quot;actions&quot;, &quot;emptyTrashcan&quot;)));
                case &quot;UmbClientMgr.appActions().actionImport()&quot;:
                    return Attempt.Succeed(
                        new LegacyUrlAction(
                            &quot;dialogs/importDocumentType.aspx&quot;,
                            ui.GetText(&quot;actions&quot;, &quot;importDocumentType&quot;)));
                case &quot;UmbClientMgr.appActions().actionExport()&quot;:
                    return Attempt.Succeed(
                        new LegacyUrlAction(
                            &quot;dialogs/exportDocumentType.aspx?nodeId=&quot; + nodeId + &quot;&amp;rnd=&quot; + DateTime.UtcNow.Ticks,
                            &quot;&quot;));
                case &quot;UmbClientMgr.appActions().actionAudit()&quot;:
                    return Attempt.Succeed(
                        new LegacyUrlAction(
                            &quot;dialogs/viewAuditTrail.aspx?nodeId=&quot; + nodeId + &quot;&amp;rnd=&quot; + DateTime.UtcNow.Ticks,
                            ui.GetText(&quot;actions&quot;, &quot;auditTrail&quot;)));
                case &quot;UmbClientMgr.appActions().actionMove()&quot;:
                    return Attempt.Succeed(
                        new LegacyUrlAction(
                            &quot;dialogs/moveOrCopy.aspx?app=&quot; + currentSection + &quot;&amp;mode=cut&amp;id=&quot; + nodeId + &quot;&amp;rnd=&quot; + DateTime.UtcNow.Ticks,
                            ui.GetText(&quot;actions&quot;, &quot;move&quot;)));
                case &quot;UmbClientMgr.appActions().actionCopy()&quot;:
                    return Attempt.Succeed(
                        new LegacyUrlAction(
                            &quot;dialogs/moveOrCopy.aspx?app=&quot; + currentSection + &quot;&amp;mode=copy&amp;id=&quot; + nodeId + &quot;&amp;rnd=&quot; + DateTime.UtcNow.Ticks,
                            ui.GetText(&quot;actions&quot;, &quot;copy&quot;)));
            }
            return Attempt&lt;LegacyUrlAction&gt;.Fail();
        }

        /// &lt;summary&gt;
        /// Converts a legacy XmlTreeNode to a new TreeNode
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;parentId&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;xmlTreeNode&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;urlHelper&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;currentSection&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;currentQueryStrings&quot;&gt;
        /// The current query strings for the request - this is used to append the query strings to the menu URL of the item being rendered since the menu
        /// actually belongs to this same node (request) the query strings need to exist so the menu can be rendered in some cases.
        /// &lt;/param&gt;
        /// &lt;param name=&quot;isRoot&quot;&gt;&lt;/param&gt;
        /// &lt;returns&gt;&lt;/returns&gt;
        internal static TreeNode ConvertFromLegacy(string parentId, XmlTreeNode xmlTreeNode, UrlHelper urlHelper, string currentSection, FormDataCollection currentQueryStrings, bool isRoot = false)
        {
            //  /umbraco/tree.aspx?rnd=d0d0ff11a1c347dabfaa0fc75effcc2a&amp;id=1046&amp;treeType=content&amp;contextMenu=false&amp;isDialog=false

            //we need to convert the node source to our legacy tree controller
            var childNodesSource = urlHelper.GetUmbracoApiService&lt;LegacyTreeController&gt;(&quot;GetNodes&quot;);

            var childQuery = (xmlTreeNode.Source.IsNullOrWhiteSpace() || xmlTreeNode.Source.IndexOf(&#39;?&#39;) == -1)
                ? &quot;&quot;
                : xmlTreeNode.Source.Substring(xmlTreeNode.Source.IndexOf(&#39;?&#39;));

            //append the query strings
            childNodesSource = childNodesSource.AppendQueryStringToUrl(childQuery);

            //for the menu source we need to detect if this is a root node since we&#39;ll need to set the parentId and id to -1
            // for which we&#39;ll handle correctly on the server side.            
            //if there are no menu items, then this will be empty
            var menuSource = &quot;&quot;;
            if (xmlTreeNode.Menu != null &amp;&amp; xmlTreeNode.Menu.Any())
            {
                menuSource = urlHelper.GetUmbracoApiService&lt;LegacyTreeController&gt;(&quot;GetMenu&quot;);
                //these are the absolute required query strings
                var menuQueryStrings = new Dictionary&lt;string, object&gt;
                    {
                        {&quot;id&quot;, (isRoot ? &quot;-1&quot; : xmlTreeNode.NodeID)},
                        {&quot;treeType&quot;, xmlTreeNode.TreeType},
                        {&quot;parentId&quot;, (isRoot ? &quot;-1&quot; : parentId)},
                        {&quot;section&quot;, currentSection}
                    };
                //append the extra ones on this request
                foreach (var i in currentQueryStrings.Where(x =&gt; menuQueryStrings.Keys.Contains(x.Key) == false))
                {
                    menuQueryStrings.Add(i.Key, i.Value);
                }
                
                menuSource = menuSource.AppendQueryStringToUrl(menuQueryStrings.ToQueryString());    
            }
            

            //TODO: Might need to add stuff to additional attributes

            var node = new TreeNode(xmlTreeNode.NodeID, isRoot ? null : parentId, childNodesSource, menuSource)
            {
                HasChildren = xmlTreeNode.HasChildren,
                Icon = xmlTreeNode.Icon,
                Name = xmlTreeNode.Text,
                NodeType = xmlTreeNode.NodeType
            };
            if (isRoot)
            {
                node.AdditionalData.Add(&quot;treeAlias&quot;, xmlTreeNode.TreeType);
            }

            foreach (var appliedClass in xmlTreeNode.Style.AppliedClasses)
            {
                node.CssClasses.Add(appliedClass);
            }

            //This is a special case scenario, we know that content/media works based on the normal Belle routing/editing so we&#39;ll ensure we don&#39;t
            // pass in the legacy JS handler so we do it the new way, for all other trees (Currently, this is a WIP), we&#39;ll render
            // the legacy js callback,.
            var knownNonLegacyNodeTypes = new[] { &quot;content&quot;, &quot;contentRecycleBin&quot;, &quot;mediaRecyleBin&quot;, &quot;media&quot; };
            if (knownNonLegacyNodeTypes.InvariantContains(xmlTreeNode.NodeType) == false)
            {
                node.AssignLegacyJsCallback(xmlTreeNode.Action);
            }
            return node;
        }

        internal static TreeNodeCollection ConvertFromLegacy(string parentId, XmlTree xmlTree, UrlHelper urlHelper, string currentSection, FormDataCollection currentQueryStrings)
        {
            //TODO: Once we get the editor URL stuff working we&#39;ll need to figure out how to convert 
            // that over to use the old school ui.xml stuff for these old trees and however the old menu items worked.

            var collection = new TreeNodeCollection();
            foreach (var x in xmlTree.treeCollection)
            {
                collection.Add(ConvertFromLegacy(parentId, x, urlHelper, currentSection, currentQueryStrings));
            }
            return collection;
        }

        internal class LegacyUrlAction
        {
            public LegacyUrlAction(string url, string dialogTitle)
                : this(url, dialogTitle, ActionUrlMethod.Dialog)
            {

            }

            public LegacyUrlAction(string url, string dialogTitle, ActionUrlMethod actionMethod)
            {
                Url = url;
                ActionMethod = actionMethod;
                DialogTitle = dialogTitle;
            }

            public string Url { get; private set; }
            public ActionUrlMethod ActionMethod { get; private set; }
            public string DialogTitle { get; private set; }
        }

    }
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[29,9,29,10,0],[30,13,30,33,0],[30,34,30,77,0],[34,13,34,68,0],[35,13,35,43,0],[36,13,36,14,0],[37,17,37,109,0],[38,17,38,39,0],[39,17,39,18,0],[40,21,40,251,0],[41,21,41,33,0],[44,17,47,75,0],[49,17,49,49,0],[50,17,50,48,0],[52,13,52,14,0],[54,13,54,14,0],[56,17,56,89,0],[57,17,57,37,0],[58,17,58,18,0],[59,21,59,33,0],[61,17,61,49,0],[62,13,62,14,0],[64,13,64,25,0],[65,9,65,10,0],[74,9,74,10,0],[75,13,75,40,0],[75,41,75,91,0],[76,13,76,34,0],[76,35,76,79,0],[80,13,80,63,0],[81,13,81,33,0],[82,17,82,93,0],[84,13,84,60,0],[85,9,85,10,0],[95,9,95,10,0],[96,13,96,74,0],[96,74,96,92,0],[96,92,96,94,0],[96,13,96,94,0],[97,13,97,37,0],[98,13,98,14,0],[99,17,99,29,0],[102,13,102,71,0],[103,9,103,10,0],[112,9,112,10,0],[113,13,113,55,0],[115,13,115,56,0],[116,13,116,30,0],[117,13,117,46,0],[118,13,118,20,0],[118,22,118,27,0],[118,28,118,30,0],[118,31,118,40,0],[119,13,119,14,0],[120,17,120,63,0],[121,17,121,18,0],[123,21,123,62,0],[124,17,124,18,0],[126,17,126,18,0],[127,21,127,89,0],[129,21,129,43,0],[134,21,136,40,0],[136,40,136,96,0],[136,96,137,42,0],[137,42,137,93,0],[137,93,138,44,0],[138,44,140,120,0],[140,120,141,42,0],[141,42,143,69,0],[143,69,144,41,0],[144,41,144,97,0],[144,97,144,99,0],[134,21,144,99,0],[146,21,146,32,0],[147,17,147,18,0],[148,13,148,14,0],[149,13,149,51,0],[150,13,150,20,0],[150,22,150,27,0],[150,28,150,30,0],[150,31,150,41,0],[151,13,151,14,0],[152,17,152,33,0],[153,17,153,18,0],[154,21,154,74,0],[155,17,155,18,0],[156,13,156,14,0],[158,13,158,31,0],[159,9,159,10,0],[170,9,170,10,0],[171,13,171,60,0],[172,13,172,14,0],[173,17,173,47,0],[176,13,176,43,0],[179,21,180,128,0],[183,13,183,43,0],[184,9,184,10,0],[195,9,195,10,0],[196,13,196,60,0],[197,13,197,14,0],[198,17,198,56,0],[201,13,201,43,0],[204,21,207,63,0],[209,21,212,63,0],[214,21,217,61,0],[219,21,222,63,0],[224,21,227,64,0],[229,21,232,65,0],[234,21,237,63,0],[239,21,242,64,0],[244,21,247,70,0],[249,21,252,70,0],[254,21,257,66,0],[259,21,262,69,0],[264,21,267,72,0],[269,21,272,70,0],[274,21,277,75,0],[279,21,282,34,0],[284,21,287,67,0],[289,21,292,61,0],[294,21,297,61,0],[299,13,299,52,0],[300,9,300,10,0],[316,9,316,10,0],[320,13,320,101,0],[322,13,324,81,0],[327,13,327,84,0],[332,13,332,33,0],[333,13,333,68,0],[334,13,334,14,0],[335,17,335,94,0],[337,17,343,23,0],[345,17,345,24,0],[345,26,345,31,0],[345,32,345,34,0],[345,35,345,66,0],[345,66,345,112,0],[345,112,345,113,0],[345,35,345,113,0],[346,17,346,18,0],[347,21,347,58,0],[348,17,348,18,0],[350,17,350,98,0],[351,13,351,14,0],[356,13,362,15,0],[363,13,363,24,0],[364,13,364,14,0],[365,17,365,76,0],[366,13,366,14,0],[368,13,368,20,0],[368,22,368,38,0],[368,39,368,41,0],[368,42,368,74,0],[369,13,369,14,0],[370,17,370,51,0],[371,13,371,14,0],[376,13,376,111,0],[377,13,377,90,0],[378,13,378,14,0],[379,17,379,65,0],[380,13,380,14,0],[381,13,381,25,0],[382,9,382,10,0],[385,9,385,10,0],[389,13,389,55,0],[390,13,390,20,0],[390,22,390,27,0],[390,28,390,30,0],[390,31,390,53,0],[391,13,391,14,0],[392,17,392,112,0],[393,13,393,14,0],[394,13,394,31,0],[395,9,395,10,0],[400,19,400,65,0],[401,13,401,14,0],[403,13,403,14,0],[405,13,405,97,0],[406,13,406,14,0],[407,17,407,27,0],[408,17,408,45,0],[409,17,409,43,0],[410,13,410,14,0],[412,33,412,37,0],[412,38,412,50,0],[413,51,413,55,0],[413,56,413,68,0],[414,41,414,45,0],[414,46,414,58,0]]);
    </script>
  </body>
</html>