<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\Umbraco.Core\Persistence\Migrations\Syntax\Create\ForeignKey\CreateForeignKeyBuilder.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System.Data;
using Umbraco.Core.Persistence.Migrations.Syntax.Expressions;

namespace Umbraco.Core.Persistence.Migrations.Syntax.Create.ForeignKey
{
    public class CreateForeignKeyBuilder : ExpressionBuilderBase&lt;CreateForeignKeyExpression&gt;,
                                           ICreateForeignKeyFromTableSyntax,
                                           ICreateForeignKeyForeignColumnSyntax,
                                           ICreateForeignKeyToTableSyntax,
                                           ICreateForeignKeyPrimaryColumnSyntax,
                                           ICreateForeignKeyCascadeSyntax
    {
        public CreateForeignKeyBuilder(CreateForeignKeyExpression expression) : base(expression)
        {
        }

        public ICreateForeignKeyForeignColumnSyntax FromTable(string table)
        {
            Expression.ForeignKey.ForeignTable = table;
            return this;
        }

        public ICreateForeignKeyToTableSyntax ForeignColumn(string column)
        {
            Expression.ForeignKey.ForeignColumns.Add(column);
            return this;
        }

        public ICreateForeignKeyToTableSyntax ForeignColumns(params string[] columns)
        {
            foreach (var column in columns)
                Expression.ForeignKey.ForeignColumns.Add(column);
            return this;
        }

        public ICreateForeignKeyPrimaryColumnSyntax ToTable(string table)
        {
            Expression.ForeignKey.PrimaryTable = table;
            return this;
        }

        public ICreateForeignKeyCascadeSyntax PrimaryColumn(string column)
        {
            Expression.ForeignKey.PrimaryColumns.Add(column);
            return this;
        }

        public ICreateForeignKeyCascadeSyntax PrimaryColumns(params string[] columns)
        {
            foreach (var column in columns)
                Expression.ForeignKey.PrimaryColumns.Add(column);
            return this;
        }

        public ICreateForeignKeyCascadeSyntax OnDelete(Rule rule)
        {
            Expression.ForeignKey.OnDelete = rule;
            return this;
        }

        public ICreateForeignKeyCascadeSyntax OnUpdate(Rule rule)
        {
            Expression.ForeignKey.OnUpdate = rule;
            return this;
        }

        public void OnDeleteOrUpdate(Rule rule)
        {
            Expression.ForeignKey.OnDelete = rule;
            Expression.ForeignKey.OnUpdate = rule;
        }
    }
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[13,81,13,97,1],[14,9,14,10,1],[15,9,15,10,1],[18,9,18,10,1],[19,13,19,56,1],[20,13,20,25,1],[21,9,21,10,1],[24,9,24,10,1],[25,13,25,62,1],[26,13,26,25,1],[27,9,27,10,1],[30,9,30,10,0],[31,13,31,20,0],[31,22,31,32,0],[31,33,31,35,0],[31,36,31,43,0],[32,17,32,66,0],[33,13,33,25,0],[34,9,34,10,0],[37,9,37,10,1],[38,13,38,56,1],[39,13,39,25,1],[40,9,40,10,1],[43,9,43,10,1],[44,13,44,62,1],[45,13,45,25,1],[46,9,46,10,1],[49,9,49,10,0],[50,13,50,20,0],[50,22,50,32,0],[50,33,50,35,0],[50,36,50,43,0],[51,17,51,66,0],[52,13,52,25,0],[53,9,53,10,0],[56,9,56,10,0],[57,13,57,51,0],[58,13,58,25,0],[59,9,59,10,0],[62,9,62,10,0],[63,13,63,51,0],[64,13,64,25,0],[65,9,65,10,0],[68,9,68,10,1],[69,13,69,51,1],[70,13,70,51,1],[71,9,71,10,1]]);
    </script>
  </body>
</html>