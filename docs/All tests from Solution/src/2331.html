<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\umbraco.MacroEngines\RazorCore\UmbracoCultureDictionary.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.Collections.Generic;
using System.Dynamic;
using System.Globalization;
using umbraco.cms.businesslogic;
using umbraco.cms.businesslogic.language;

namespace umbraco.MacroEngines
{

	//TODO: This is legacy code now since we have the Umbraco.Core.Dictionary.ICultureDictionary and we have a DefaultCultureDictionary 
	// in the Umbraco.Web project. We need to keep this here though because the new ICultureDictionary is different and 
	// doesn&#39;t expose the &#39;Language&#39; property because this is really poor design since the Language object exposes business
	// logic methods and designers could just call &#39;Delete&#39; on the object and it will actually remove it from the database!! yikes.

	[Obsolete(&quot;This class has been superceded by Umbraco.Web.Dictionary.DefaultCultureDictionary&quot;)]
	public class UmbracoCultureDictionary : DynamicObject, ICultureDictionary, Umbraco.Core.Dictionary.ICultureDictionary
	{

		public string this[string key]
		{
			get
			{
				try
				{
					return new Dictionary.DictionaryItem(key).Value(Language.id);
				}
				catch (Exception)
				{
					return string.Empty;
				}
			}
		}

		CultureInfo Umbraco.Core.Dictionary.ICultureDictionary.Culture
		{
			get
			{
				return new CultureInfo(Language.CultureAlias);
			}
		}

	    [Obsolete(&quot;This returns an empty dictionary, it is not intended to be used by the legacy razor macros&quot;)]
	    public IDictionary&lt;string, string&gt; GetChildren(string key)
	    {
	        return new Dictionary&lt;string, string&gt;();
	    }

	    public Language Language
		{
			get { return Language.GetByCultureCode(System.Threading.Thread.CurrentThread.CurrentUICulture.Name); }
		}

		public override bool TryGetMember(GetMemberBinder binder, out object result)
		{
			result = this[binder.Name];
			return true;
		}

	}

}

    </pre>
    <script type="text/javascript">
      highlightRanges([[23,4,23,5,0],[25,5,25,6,0],[26,6,26,67,0],[28,5,28,22,0],[29,5,29,6,0],[30,6,30,26,0],[32,4,32,5,0],[38,4,38,5,0],[39,5,39,51,0],[40,4,40,5,0],[45,6,45,7,0],[46,10,46,50,0],[47,6,47,7,0],[51,8,51,9,0],[51,10,51,104,0],[51,105,51,106,0],[55,3,55,4,0],[56,4,56,31,0],[57,4,57,16,0],[58,3,58,4,0]]);
    </script>
  </body>
</html>