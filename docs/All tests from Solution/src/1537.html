<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\Umbraco.Core\Services\ServiceContext.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using Umbraco.Core.Logging;
using System.IO;
using System.Linq;
using Umbraco.Core.IO;
using Umbraco.Core.Persistence;
using Umbraco.Core.Persistence.UnitOfWork;
using Umbraco.Core.Publishing;
using Umbraco.Core.Events;

namespace Umbraco.Core.Services
{
    /// &lt;summary&gt;
    /// These are used currently to return the temporary &#39;operation&#39; interfaces for services
    /// which are used to return a status from operational methods so we can determine if things are
    /// cancelled, etc...
    /// 
    /// These will be obsoleted in v8 since all real services methods will be changed to have the correct result.
    /// &lt;/summary&gt;
    public static class ServiceWithResultExtensions
    {
        public static IContentServiceOperations WithResult(this IContentService contentService)
        {
            return (IContentServiceOperations)contentService;
        }
        public static IMediaServiceOperations WithResult(this IMediaService mediaService)
        {
            return (IMediaServiceOperations)mediaService;
        }
    }

    /// &lt;summary&gt;
    /// The Umbraco ServiceContext, which provides access to the following services:
    /// &lt;see cref=&quot;IContentService&quot;/&gt;, &lt;see cref=&quot;IContentTypeService&quot;/&gt;, &lt;see cref=&quot;IDataTypeService&quot;/&gt;,
    /// &lt;see cref=&quot;IFileService&quot;/&gt;, &lt;see cref=&quot;ILocalizationService&quot;/&gt; and &lt;see cref=&quot;IMediaService&quot;/&gt;.
    /// &lt;/summary&gt;
    public class ServiceContext
    {
        private Lazy&lt;IMigrationEntryService&gt; _migrationEntryService; 
        private Lazy&lt;IPublicAccessService&gt; _publicAccessService; 
        private Lazy&lt;ITaskService&gt; _taskService; 
        private Lazy&lt;IDomainService&gt; _domainService; 
        private Lazy&lt;IAuditService&gt; _auditService; 
        private Lazy&lt;ILocalizedTextService&gt; _localizedTextService;
        private Lazy&lt;ITagService&gt; _tagService;
        private Lazy&lt;IContentService&gt; _contentService;
        private Lazy&lt;IUserService&gt; _userService;
        private Lazy&lt;IMemberService&gt; _memberService;
        private Lazy&lt;IMediaService&gt; _mediaService;
        private Lazy&lt;IContentTypeService&gt; _contentTypeService;
        private Lazy&lt;IDataTypeService&gt; _dataTypeService;
        private Lazy&lt;IFileService&gt; _fileService;
        private Lazy&lt;ILocalizationService&gt; _localizationService;
        private Lazy&lt;IPackagingService&gt; _packagingService;
        private Lazy&lt;IServerRegistrationService&gt; _serverRegistrationService;
        private Lazy&lt;IEntityService&gt; _entityService;
        private Lazy&lt;IRelationService&gt; _relationService;
        private Lazy&lt;IApplicationTreeService&gt; _treeService;
        private Lazy&lt;ISectionService&gt; _sectionService;
        private Lazy&lt;IMacroService&gt; _macroService;
        private Lazy&lt;IMemberTypeService&gt; _memberTypeService;
        private Lazy&lt;IMemberGroupService&gt; _memberGroupService;
        private Lazy&lt;INotificationService&gt; _notificationService;
        private Lazy&lt;IExternalLoginService&gt; _externalLoginService;
        private Lazy&lt;IRedirectUrlService&gt; _redirectUrlService;

        /// &lt;summary&gt;
        /// public ctor - will generally just be used for unit testing all items are optional and if not specified, the defaults will be used
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;contentService&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;mediaService&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;contentTypeService&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;dataTypeService&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;fileService&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;localizationService&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;packagingService&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;entityService&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;relationService&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;memberGroupService&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;memberTypeService&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;memberService&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;userService&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;sectionService&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;treeService&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;tagService&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;notificationService&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;localizedTextService&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;auditService&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;domainService&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;taskService&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;macroService&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;publicAccessService&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;externalLoginService&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;migrationEntryService&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;redirectUrlService&quot;&gt;&lt;/param&gt;
        public ServiceContext(
            IContentService contentService = null,
            IMediaService mediaService = null,
            IContentTypeService contentTypeService = null,
            IDataTypeService dataTypeService = null,
            IFileService fileService = null,
            ILocalizationService localizationService = null,
            IPackagingService packagingService = null,
            IEntityService entityService = null,
            IRelationService relationService = null,
            IMemberGroupService memberGroupService = null,
            IMemberTypeService memberTypeService = null,
            IMemberService memberService = null,
            IUserService userService = null,
            ISectionService sectionService = null,
            IApplicationTreeService treeService = null,
            ITagService tagService = null,
            INotificationService notificationService = null,
            ILocalizedTextService localizedTextService = null,
            IAuditService auditService = null,
            IDomainService domainService = null,
            ITaskService taskService = null,
            IMacroService macroService = null,
            IPublicAccessService publicAccessService = null,
            IExternalLoginService externalLoginService = null,
            IMigrationEntryService migrationEntryService = null,
            IRedirectUrlService redirectUrlService = null)
        {
            if (migrationEntryService != null) _migrationEntryService = new Lazy&lt;IMigrationEntryService&gt;(() =&gt; migrationEntryService);
            if (externalLoginService != null) _externalLoginService = new Lazy&lt;IExternalLoginService&gt;(() =&gt; externalLoginService);
            if (auditService != null) _auditService = new Lazy&lt;IAuditService&gt;(() =&gt; auditService);
            if (localizedTextService != null) _localizedTextService = new Lazy&lt;ILocalizedTextService&gt;(() =&gt; localizedTextService);
            if (tagService != null) _tagService = new Lazy&lt;ITagService&gt;(() =&gt; tagService);
            if (contentService != null) _contentService = new Lazy&lt;IContentService&gt;(() =&gt; contentService);
            if (mediaService != null) _mediaService = new Lazy&lt;IMediaService&gt;(() =&gt; mediaService);
            if (contentTypeService != null) _contentTypeService = new Lazy&lt;IContentTypeService&gt;(() =&gt; contentTypeService);
            if (dataTypeService != null) _dataTypeService = new Lazy&lt;IDataTypeService&gt;(() =&gt; dataTypeService);
            if (fileService != null) _fileService = new Lazy&lt;IFileService&gt;(() =&gt; fileService);
            if (localizationService != null) _localizationService = new Lazy&lt;ILocalizationService&gt;(() =&gt; localizationService);
            if (packagingService != null) _packagingService = new Lazy&lt;IPackagingService&gt;(() =&gt; packagingService);
            if (entityService != null) _entityService = new Lazy&lt;IEntityService&gt;(() =&gt; entityService);
            if (relationService != null) _relationService = new Lazy&lt;IRelationService&gt;(() =&gt; relationService);
            if (sectionService != null) _sectionService = new Lazy&lt;ISectionService&gt;(() =&gt; sectionService);
            if (memberGroupService != null) _memberGroupService = new Lazy&lt;IMemberGroupService&gt;(() =&gt; memberGroupService);
            if (memberTypeService != null) _memberTypeService = new Lazy&lt;IMemberTypeService&gt;(() =&gt; memberTypeService);
            if (treeService != null) _treeService = new Lazy&lt;IApplicationTreeService&gt;(() =&gt; treeService);
            if (memberService != null) _memberService = new Lazy&lt;IMemberService&gt;(() =&gt; memberService);
            if (userService != null) _userService = new Lazy&lt;IUserService&gt;(() =&gt; userService);
            if (notificationService != null) _notificationService = new Lazy&lt;INotificationService&gt;(() =&gt; notificationService);
            if (domainService != null) _domainService = new Lazy&lt;IDomainService&gt;(() =&gt; domainService);
            if (taskService != null) _taskService = new Lazy&lt;ITaskService&gt;(() =&gt; taskService);
            if (macroService != null) _macroService = new Lazy&lt;IMacroService&gt;(() =&gt; macroService);
            if (publicAccessService != null) _publicAccessService = new Lazy&lt;IPublicAccessService&gt;(() =&gt; publicAccessService);
            if (redirectUrlService != null) _redirectUrlService = new Lazy&lt;IRedirectUrlService&gt;(() =&gt; redirectUrlService);
        }

        /// &lt;summary&gt;
        /// Creates a service context with a RepositoryFactory which is used to construct Services
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;repositoryFactory&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;dbUnitOfWorkProvider&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;fileUnitOfWorkProvider&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;publishingStrategy&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;cache&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;logger&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;eventMessagesFactory&quot;&gt;&lt;/param&gt;
        public ServiceContext(
            RepositoryFactory repositoryFactory,
            IDatabaseUnitOfWorkProvider dbUnitOfWorkProvider, 
            IUnitOfWorkProvider fileUnitOfWorkProvider, 
            BasePublishingStrategy publishingStrategy, 
            CacheHelper cache, 
            ILogger logger,
            IEventMessagesFactory eventMessagesFactory)
        {
            if (repositoryFactory == null) throw new ArgumentNullException(&quot;repositoryFactory&quot;);
            if (dbUnitOfWorkProvider == null) throw new ArgumentNullException(&quot;dbUnitOfWorkProvider&quot;);
            if (fileUnitOfWorkProvider == null) throw new ArgumentNullException(&quot;fileUnitOfWorkProvider&quot;);
            if (publishingStrategy == null) throw new ArgumentNullException(&quot;publishingStrategy&quot;);
            if (cache == null) throw new ArgumentNullException(&quot;cache&quot;);
            if (logger == null) throw new ArgumentNullException(&quot;logger&quot;);
            if (eventMessagesFactory == null) throw new ArgumentNullException(&quot;eventMessagesFactory&quot;);

            BuildServiceCache(dbUnitOfWorkProvider, fileUnitOfWorkProvider, publishingStrategy, cache,
                              repositoryFactory,
                              logger, eventMessagesFactory);
        }

        /// &lt;summary&gt;
        /// Builds the various services
        /// &lt;/summary&gt;
        private void BuildServiceCache(
            IDatabaseUnitOfWorkProvider dbUnitOfWorkProvider,
            IUnitOfWorkProvider fileUnitOfWorkProvider,
            BasePublishingStrategy publishingStrategy,
            CacheHelper cache,
            RepositoryFactory repositoryFactory,
            ILogger logger,
            IEventMessagesFactory eventMessagesFactory)
        {
            var provider = dbUnitOfWorkProvider;
            var fileProvider = fileUnitOfWorkProvider;

            if (_migrationEntryService == null)
                _migrationEntryService = new Lazy&lt;IMigrationEntryService&gt;(() =&gt; new MigrationEntryService(provider, repositoryFactory, logger, eventMessagesFactory));

            if (_externalLoginService == null)
                _externalLoginService = new Lazy&lt;IExternalLoginService&gt;(() =&gt; new ExternalLoginService(provider, repositoryFactory, logger, eventMessagesFactory));

            if (_publicAccessService == null)
                _publicAccessService = new Lazy&lt;IPublicAccessService&gt;(() =&gt; new PublicAccessService(provider, repositoryFactory, logger, eventMessagesFactory));

            if (_taskService == null)
                _taskService = new Lazy&lt;ITaskService&gt;(() =&gt; new TaskService(provider, repositoryFactory, logger, eventMessagesFactory));

            if (_domainService == null)
                _domainService = new Lazy&lt;IDomainService&gt;(() =&gt; new DomainService(provider, repositoryFactory, logger, eventMessagesFactory));

            if (_auditService == null)
                _auditService = new Lazy&lt;IAuditService&gt;(() =&gt; new AuditService(provider, repositoryFactory, logger, eventMessagesFactory));

            if (_localizedTextService == null)
            {
                
                _localizedTextService = new Lazy&lt;ILocalizedTextService&gt;(() =&gt; new LocalizedTextService(
                    new Lazy&lt;LocalizedTextServiceFileSources&gt;(() =&gt;
                    {
                        var mainLangFolder = new DirectoryInfo(IOHelper.MapPath(SystemDirectories.Umbraco + &quot;/config/lang/&quot;));
                        var appPlugins = new DirectoryInfo(IOHelper.MapPath(SystemDirectories.AppPlugins));
                        var configLangFolder = new DirectoryInfo(IOHelper.MapPath(SystemDirectories.Config + &quot;/lang/&quot;));

                        var pluginLangFolders = appPlugins.Exists == false
                            ? Enumerable.Empty&lt;LocalizedTextServiceSupplementaryFileSource&gt;()
                            : appPlugins.GetDirectories()
                                .SelectMany(x =&gt; x.GetDirectories(&quot;Lang&quot;))
                                .SelectMany(x =&gt; x.GetFiles(&quot;*.xml&quot;, SearchOption.TopDirectoryOnly))
                                .Where(x =&gt; Path.GetFileNameWithoutExtension(x.FullName).Length == 5)
                                .Select(x =&gt; new LocalizedTextServiceSupplementaryFileSource(x, false));

                        //user defined langs that overwrite the default, these should not be used by plugin creators
                        var userLangFolders = configLangFolder.Exists == false
                            ? Enumerable.Empty&lt;LocalizedTextServiceSupplementaryFileSource&gt;()
                            : configLangFolder
                                .GetFiles(&quot;*.user.xml&quot;, SearchOption.TopDirectoryOnly)
                                .Where(x =&gt; Path.GetFileNameWithoutExtension(x.FullName).Length == 10)
                                .Select(x =&gt; new LocalizedTextServiceSupplementaryFileSource(x, true));

                        return new LocalizedTextServiceFileSources(
                            logger,
                            cache.RuntimeCache,
                            mainLangFolder,
                            pluginLangFolders.Concat(userLangFolders));

                    }),
                    logger));
            }
                

            if (_notificationService == null)
                _notificationService = new Lazy&lt;INotificationService&gt;(() =&gt; new NotificationService(provider, _userService.Value, _contentService.Value, logger));

            if (_serverRegistrationService == null)
                _serverRegistrationService = new Lazy&lt;IServerRegistrationService&gt;(() =&gt; new ServerRegistrationService(provider, repositoryFactory, logger, eventMessagesFactory));

            if (_userService == null)
                _userService = new Lazy&lt;IUserService&gt;(() =&gt; new UserService(provider, repositoryFactory, logger, eventMessagesFactory));

            if (_memberService == null)
                _memberService = new Lazy&lt;IMemberService&gt;(() =&gt; new MemberService(provider, repositoryFactory, logger, eventMessagesFactory, _memberGroupService.Value, _dataTypeService.Value));

            if (_contentService == null)
                _contentService = new Lazy&lt;IContentService&gt;(() =&gt; new ContentService(provider, repositoryFactory, logger, eventMessagesFactory, publishingStrategy, _dataTypeService.Value, _userService.Value));

            if (_mediaService == null)
                _mediaService = new Lazy&lt;IMediaService&gt;(() =&gt; new MediaService(provider, repositoryFactory, logger, eventMessagesFactory, _dataTypeService.Value, _userService.Value));

            if (_contentTypeService == null)
                _contentTypeService = new Lazy&lt;IContentTypeService&gt;(() =&gt; new ContentTypeService(provider, repositoryFactory, logger, eventMessagesFactory, _contentService.Value, _mediaService.Value));

            if (_dataTypeService == null)
                _dataTypeService = new Lazy&lt;IDataTypeService&gt;(() =&gt; new DataTypeService(provider, repositoryFactory, logger, eventMessagesFactory));

            if (_fileService == null)
                _fileService = new Lazy&lt;IFileService&gt;(() =&gt; new FileService(fileProvider, provider, repositoryFactory, logger, eventMessagesFactory));

            if (_localizationService == null)
                _localizationService = new Lazy&lt;ILocalizationService&gt;(() =&gt; new LocalizationService(provider, repositoryFactory, logger, eventMessagesFactory));

            if (_entityService == null)
                _entityService = new Lazy&lt;IEntityService&gt;(() =&gt; new EntityService(
                    provider, repositoryFactory, logger, eventMessagesFactory,
                    _contentService.Value, _contentTypeService.Value, _mediaService.Value, _dataTypeService.Value, _memberService.Value, _memberTypeService.Value,
                    //TODO: Consider making this an isolated cache instead of using the global one
                    cache.RuntimeCache));
            
            if (_packagingService == null)
                _packagingService = new Lazy&lt;IPackagingService&gt;(() =&gt; new PackagingService(logger, _contentService.Value, _contentTypeService.Value, _mediaService.Value, _macroService.Value, _dataTypeService.Value, _fileService.Value, _localizationService.Value, _entityService.Value, _userService.Value, repositoryFactory, provider));

            if (_relationService == null)
                _relationService = new Lazy&lt;IRelationService&gt;(() =&gt; new RelationService(provider, repositoryFactory, logger, eventMessagesFactory, _entityService.Value));

            if (_treeService == null)
                _treeService = new Lazy&lt;IApplicationTreeService&gt;(() =&gt; new ApplicationTreeService(logger, cache));

            if (_sectionService == null)
                _sectionService = new Lazy&lt;ISectionService&gt;(() =&gt; new SectionService(_userService.Value, _treeService.Value, provider, cache));

            if (_macroService == null)
                _macroService = new Lazy&lt;IMacroService&gt;(() =&gt; new MacroService(provider, repositoryFactory, logger, eventMessagesFactory));

            if (_memberTypeService == null)
                _memberTypeService = new Lazy&lt;IMemberTypeService&gt;(() =&gt; new MemberTypeService(provider, repositoryFactory, logger, eventMessagesFactory, _memberService.Value));

            if (_tagService == null)
                _tagService = new Lazy&lt;ITagService&gt;(() =&gt; new TagService(provider, repositoryFactory, logger, eventMessagesFactory));

            if (_memberGroupService == null)
                _memberGroupService = new Lazy&lt;IMemberGroupService&gt;(() =&gt; new MemberGroupService(provider, repositoryFactory, logger, eventMessagesFactory));

            if (_redirectUrlService == null)
                _redirectUrlService = new Lazy&lt;IRedirectUrlService&gt;(() =&gt; new RedirectUrlService(provider, repositoryFactory, logger, eventMessagesFactory));
        }

        /// &lt;summary&gt;
        /// Gets the &lt;see cref=&quot;IMigrationEntryService&quot;/&gt;
        /// &lt;/summary&gt;
        public IMigrationEntryService MigrationEntryService
        {
            get { return _migrationEntryService.Value; }
        }

        /// &lt;summary&gt;
        /// Gets the &lt;see cref=&quot;IPublicAccessService&quot;/&gt;
        /// &lt;/summary&gt;
        public IPublicAccessService PublicAccessService
        {
            get { return _publicAccessService.Value; }
        }

        /// &lt;summary&gt;
        /// Gets the &lt;see cref=&quot;ITaskService&quot;/&gt;
        /// &lt;/summary&gt;
        public ITaskService TaskService
        {
            get { return _taskService.Value; }
        }

        /// &lt;summary&gt;
        /// Gets the &lt;see cref=&quot;IDomainService&quot;/&gt;
        /// &lt;/summary&gt;
        public IDomainService DomainService
        {
            get { return _domainService.Value; }
        }

        /// &lt;summary&gt;
        /// Gets the &lt;see cref=&quot;IAuditService&quot;/&gt;
        /// &lt;/summary&gt;
        public IAuditService AuditService
        {
            get { return _auditService.Value; }
        }

        /// &lt;summary&gt;
        /// Gets the &lt;see cref=&quot;ILocalizedTextService&quot;/&gt;
        /// &lt;/summary&gt;
        public ILocalizedTextService TextService
        {
            get { return _localizedTextService.Value; }
        }

        /// &lt;summary&gt;
        /// Gets the &lt;see cref=&quot;INotificationService&quot;/&gt;
        /// &lt;/summary&gt;
        public INotificationService NotificationService
        {
            get { return _notificationService.Value; }
        }

        /// &lt;summary&gt;
        /// Gets the &lt;see cref=&quot;ServerRegistrationService&quot;/&gt;
        /// &lt;/summary&gt;
        public IServerRegistrationService ServerRegistrationService
        {
            get { return _serverRegistrationService.Value; }
        }

        /// &lt;summary&gt;
        /// Gets the &lt;see cref=&quot;ITagService&quot;/&gt;
        /// &lt;/summary&gt;
        public ITagService TagService
        {
            get { return _tagService.Value; }
        }

        /// &lt;summary&gt;
        /// Gets the &lt;see cref=&quot;IMacroService&quot;/&gt;
        /// &lt;/summary&gt;
        public IMacroService MacroService
        {
            get { return _macroService.Value; }
        }

        /// &lt;summary&gt;
        /// Gets the &lt;see cref=&quot;IEntityService&quot;/&gt;
        /// &lt;/summary&gt;
        public IEntityService EntityService
        {
            get { return _entityService.Value; }
        }

        /// &lt;summary&gt;
        /// Gets the &lt;see cref=&quot;IRelationService&quot;/&gt;
        /// &lt;/summary&gt;
        public IRelationService RelationService
        {
            get { return _relationService.Value; }
        }

        /// &lt;summary&gt;
        /// Gets the &lt;see cref=&quot;IContentService&quot;/&gt;
        /// &lt;/summary&gt;
        public IContentService ContentService
        {
            get { return _contentService.Value; }
        }

        /// &lt;summary&gt;
        /// Gets the &lt;see cref=&quot;IContentTypeService&quot;/&gt;
        /// &lt;/summary&gt;
        public IContentTypeService ContentTypeService
        {
            get { return _contentTypeService.Value; }
        }

        /// &lt;summary&gt;
        /// Gets the &lt;see cref=&quot;IDataTypeService&quot;/&gt;
        /// &lt;/summary&gt;
        public IDataTypeService DataTypeService
        {
            get { return _dataTypeService.Value; }
        }

        /// &lt;summary&gt;
        /// Gets the &lt;see cref=&quot;IFileService&quot;/&gt;
        /// &lt;/summary&gt;
        public IFileService FileService
        {
            get { return _fileService.Value; }
        }

        /// &lt;summary&gt;
        /// Gets the &lt;see cref=&quot;ILocalizationService&quot;/&gt;
        /// &lt;/summary&gt;
        public ILocalizationService LocalizationService
        {
            get { return _localizationService.Value; }
        }

        /// &lt;summary&gt;
        /// Gets the &lt;see cref=&quot;IMediaService&quot;/&gt;
        /// &lt;/summary&gt;
        public IMediaService MediaService
        {
            get { return _mediaService.Value; }
        }

        /// &lt;summary&gt;
        /// Gets the &lt;see cref=&quot;PackagingService&quot;/&gt;
        /// &lt;/summary&gt;
        public IPackagingService PackagingService
        {
            get { return _packagingService.Value; }
        }

        /// &lt;summary&gt;
        /// Gets the &lt;see cref=&quot;UserService&quot;/&gt;
        /// &lt;/summary&gt;
        public IUserService UserService
        {
            get { return _userService.Value; }
        }

        /// &lt;summary&gt;
        /// Gets the &lt;see cref=&quot;MemberService&quot;/&gt;
        /// &lt;/summary&gt;
        public IMemberService MemberService
        {
            get { return _memberService.Value; }
        }

        /// &lt;summary&gt;
        /// Gets the &lt;see cref=&quot;SectionService&quot;/&gt;
        /// &lt;/summary&gt;
        public ISectionService SectionService
        {
            get { return _sectionService.Value; }
        }

        /// &lt;summary&gt;
        /// Gets the &lt;see cref=&quot;ApplicationTreeService&quot;/&gt;
        /// &lt;/summary&gt;
        public IApplicationTreeService ApplicationTreeService
        {
            get { return _treeService.Value; }
        }

        /// &lt;summary&gt;
        /// Gets the MemberTypeService
        /// &lt;/summary&gt;
        public IMemberTypeService MemberTypeService
        {
            get { return _memberTypeService.Value; }
        }

        /// &lt;summary&gt;
        /// Gets the MemberGroupService
        /// &lt;/summary&gt;
        public IMemberGroupService MemberGroupService
        {
            get { return _memberGroupService.Value; }
        }

        public IExternalLoginService ExternalLoginService
        {
            get { return _externalLoginService.Value; }
        }

        /// &lt;summary&gt;
        /// Gets the RedirectUrlService.
        /// &lt;/summary&gt;
        public IRedirectUrlService RedirectUrlService
        {
            get { return _redirectUrlService.Value; }
        }
    }
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[23,9,23,10,1],[24,13,24,62,1],[25,9,25,10,1],[27,9,27,10,0],[28,13,28,58,0],[29,9,29,10,0],[96,9,122,59,1],[123,9,123,10,1],[124,13,124,47,1],[124,48,124,112,1],[124,112,124,133,1],[124,133,124,135,1],[124,48,124,135,1],[125,13,125,46,1],[125,47,125,109,0],[125,109,125,129,0],[125,129,125,131,0],[125,47,125,131,0],[126,13,126,38,1],[126,39,126,85,1],[126,85,126,97,0],[126,97,126,99,1],[126,39,126,99,1],[127,13,127,46,1],[127,47,127,109,1],[127,109,127,129,0],[127,129,127,131,1],[127,47,127,131,1],[128,13,128,36,1],[128,37,128,79,1],[128,79,128,89,0],[128,89,128,91,1],[128,37,128,91,1],[129,13,129,40,1],[129,41,129,91,1],[129,91,129,105,0],[129,105,129,107,1],[129,41,129,107,1],[130,13,130,38,1],[130,39,130,85,1],[130,85,130,97,0],[130,97,130,99,1],[130,39,130,99,1],[131,13,131,44,1],[131,45,131,103,1],[131,103,131,121,1],[131,121,131,123,1],[131,45,131,123,1],[132,13,132,41,1],[132,42,132,94,1],[132,94,132,109,1],[132,109,132,111,1],[132,42,132,111,1],[133,13,133,37,1],[133,38,133,82,1],[133,82,133,93,1],[133,93,133,95,1],[133,38,133,95,1],[134,13,134,45,1],[134,46,134,106,1],[134,106,134,125,1],[134,125,134,127,1],[134,46,134,127,1],[135,13,135,42,1],[135,43,135,97,1],[135,97,135,113,0],[135,113,135,115,1],[135,43,135,115,1],[136,13,136,39,1],[136,40,136,88,1],[136,88,136,101,0],[136,101,136,103,1],[136,40,136,103,1],[137,13,137,41,1],[137,42,137,94,1],[137,94,137,109,0],[137,109,137,111,1],[137,42,137,111,1],[138,13,138,40,1],[138,41,138,91,1],[138,91,138,105,0],[138,105,138,107,1],[138,41,138,107,1],[139,13,139,44,1],[139,45,139,103,1],[139,103,139,121,0],[139,121,139,123,1],[139,45,139,123,1],[140,13,140,43,1],[140,44,140,100,1],[140,100,140,117,0],[140,117,140,119,1],[140,44,140,119,1],[141,13,141,37,1],[141,38,141,93,1],[141,93,141,104,0],[141,104,141,106,1],[141,38,141,106,1],[142,13,142,39,1],[142,40,142,88,1],[142,88,142,101,0],[142,101,142,103,1],[142,40,142,103,1],[143,13,143,37,1],[143,38,143,82,1],[143,82,143,93,0],[143,93,143,95,1],[143,38,143,95,1],[144,13,144,45,1],[144,46,144,106,1],[144,106,144,125,0],[144,125,144,127,1],[144,46,144,127,1],[145,13,145,39,1],[145,40,145,88,1],[145,88,145,101,1],[145,101,145,103,1],[145,40,145,103,1],[146,13,146,37,1],[146,38,146,82,1],[146,82,146,93,0],[146,93,146,95,1],[146,38,146,95,1],[147,13,147,38,1],[147,39,147,85,1],[147,85,147,97,0],[147,97,147,99,1],[147,39,147,99,1],[148,13,148,45,1],[148,46,148,106,0],[148,106,148,125,0],[148,125,148,127,0],[148,46,148,127,0],[149,13,149,44,1],[149,45,149,103,0],[149,103,149,121,0],[149,121,149,123,0],[149,45,149,123,0],[150,9,150,10,1],[162,9,169,56,1],[170,9,170,10,1],[171,13,171,43,1],[171,44,171,97,0],[172,13,172,46,1],[172,47,172,103,0],[173,13,173,48,1],[173,49,173,107,0],[174,13,174,44,1],[174,45,174,99,0],[175,13,175,31,1],[175,32,175,73,0],[176,13,176,32,1],[176,33,176,75,0],[177,13,177,46,1],[177,47,177,103,0],[179,13,181,61,1],[182,9,182,10,1],[195,9,195,10,1],[196,13,196,49,1],[197,13,197,55,1],[199,13,199,48,1],[200,17,200,81,1],[200,81,200,165,1],[200,165,200,167,1],[200,17,200,167,1],[202,13,202,47,1],[203,17,203,79,1],[203,79,203,162,0],[203,162,203,164,1],[203,17,203,164,1],[205,13,205,46,1],[206,17,206,77,1],[206,77,206,159,1],[206,159,206,161,1],[206,17,206,161,1],[208,13,208,38,1],[209,17,209,61,1],[209,61,209,135,0],[209,135,209,137,1],[209,17,209,137,1],[211,13,211,40,1],[212,17,212,65,1],[212,65,212,141,1],[212,141,212,143,1],[212,17,212,143,1],[214,13,214,39,1],[215,17,215,63,1],[215,63,215,138,0],[215,138,215,140,1],[215,17,215,140,1],[217,13,217,47,1],[218,13,218,14,1],[220,17,220,79,1],[220,79,222,21,1],[222,21,222,22,1],[222,22,223,25,1],[223,25,223,127,1],[223,127,224,25,1],[224,25,224,108,1],[224,108,225,25,1],[225,25,225,121,1],[225,121,227,25,1],[227,25,230,50,1],[230,50,230,74,0],[230,74,231,50,1],[231,50,231,100,0],[231,100,232,45,1],[232,45,232,101,0],[232,101,233,46,1],[233,46,233,103,0],[233,103,233,105,1],[227,25,233,105,1],[233,105,236,25,1],[236,25,240,45,1],[240,45,240,102,0],[240,102,241,46,1],[241,46,241,102,0],[241,102,241,104,1],[236,25,241,104,1],[241,104,243,25,1],[243,25,247,72,1],[247,72,249,21,1],[249,21,249,22,1],[249,22,250,28,1],[220,79,250,28,1],[250,28,250,30,1],[220,17,250,30,1],[251,13,251,14,1],[254,13,254,46,1],[255,17,255,77,1],[255,77,255,161,1],[255,161,255,163,1],[255,17,255,163,1],[257,13,257,52,1],[258,17,258,89,1],[258,89,258,177,0],[258,177,258,179,1],[258,17,258,179,1],[260,13,260,38,1],[261,17,261,61,1],[261,61,261,135,1],[261,135,261,137,1],[261,17,261,137,1],[263,13,263,40,1],[264,17,264,65,1],[264,65,264,192,1],[264,192,264,194,1],[264,17,264,194,1],[266,13,266,41,1],[267,17,267,67,1],[267,67,267,208,1],[267,208,267,210,1],[267,17,267,210,1],[269,13,269,39,1],[270,17,270,63,1],[270,63,270,182,1],[270,182,270,184,1],[270,17,270,184,1],[272,13,272,45,1],[273,17,273,75,1],[273,75,273,200,1],[273,200,273,202,1],[273,17,273,202,1],[275,13,275,42,1],[276,17,276,69,1],[276,69,276,147,1],[276,147,276,149,1],[276,17,276,149,1],[278,13,278,38,1],[279,17,279,61,1],[279,61,279,149,1],[279,149,279,151,1],[279,17,279,151,1],[281,13,281,46,1],[282,17,282,77,1],[282,77,282,159,1],[282,159,282,161,1],[282,17,282,161,1],[284,13,284,40,1],[285,17,285,65,1],[285,65,289,40,1],[289,40,289,42,1],[285,17,289,42,1],[291,13,291,43,1],[292,17,292,71,1],[292,71,292,334,1],[292,334,292,336,1],[292,17,292,336,1],[294,13,294,42,1],[295,17,295,69,1],[295,69,295,169,1],[295,169,295,171,1],[295,17,295,171,1],[297,13,297,38,1],[298,17,298,72,1],[298,72,298,113,1],[298,113,298,115,1],[298,17,298,115,1],[300,13,300,41,1],[301,17,301,67,1],[301,67,301,142,1],[301,142,301,144,1],[301,17,301,144,1],[303,13,303,39,1],[304,17,304,63,1],[304,63,304,138,1],[304,138,304,140,1],[304,17,304,140,1],[306,13,306,44,1],[307,17,307,73,1],[307,73,307,175,1],[307,175,307,177,1],[307,17,307,177,1],[309,13,309,37,1],[310,17,310,59,1],[310,59,310,132,1],[310,132,310,134,1],[310,17,310,134,1],[312,13,312,45,1],[313,17,313,75,1],[313,75,313,156,1],[313,156,313,158,1],[313,17,313,158,1],[315,13,315,45,1],[316,17,316,75,1],[316,75,316,156,0],[316,156,316,158,1],[316,17,316,158,1],[317,9,317,10,1],[324,17,324,18,1],[324,19,324,55,1],[324,56,324,57,1],[332,17,332,18,1],[332,19,332,53,1],[332,54,332,55,1],[340,17,340,18,0],[340,19,340,45,0],[340,46,340,47,0],[348,17,348,18,1],[348,19,348,47,1],[348,48,348,49,1],[356,17,356,18,0],[356,19,356,46,0],[356,47,356,48,0],[364,17,364,18,1],[364,19,364,54,1],[364,55,364,56,1],[372,17,372,18,1],[372,19,372,53,1],[372,54,372,55,1],[380,17,380,18,0],[380,19,380,59,0],[380,60,380,61,0],[388,17,388,18,1],[388,19,388,44,1],[388,45,388,46,1],[396,17,396,18,1],[396,19,396,46,1],[396,47,396,48,1],[404,17,404,18,1],[404,19,404,47,1],[404,48,404,49,1],[412,17,412,18,1],[412,19,412,49,1],[412,50,412,51,1],[420,17,420,18,1],[420,19,420,48,1],[420,49,420,50,1],[428,17,428,18,1],[428,19,428,52,1],[428,53,428,54,1],[436,17,436,18,1],[436,19,436,49,1],[436,50,436,51,1],[444,17,444,18,1],[444,19,444,45,1],[444,46,444,47,1],[452,17,452,18,1],[452,19,452,53,1],[452,54,452,55,1],[460,17,460,18,1],[460,19,460,46,1],[460,47,460,48,1],[468,17,468,18,1],[468,19,468,50,1],[468,51,468,52,1],[476,17,476,18,1],[476,19,476,45,1],[476,46,476,47,1],[484,17,484,18,1],[484,19,484,47,1],[484,48,484,49,1],[492,17,492,18,1],[492,19,492,48,1],[492,49,492,50,1],[500,17,500,18,1],[500,19,500,45,1],[500,46,500,47,1],[508,17,508,18,1],[508,19,508,51,1],[508,52,508,53,1],[516,17,516,18,0],[516,19,516,52,0],[516,53,516,54,0],[521,17,521,18,0],[521,19,521,54,0],[521,55,521,56,0],[529,17,529,18,0],[529,19,529,52,0],[529,53,529,54,0]]);
    </script>
  </body>
</html>