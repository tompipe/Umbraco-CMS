<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\Umbraco.Tests\Web\Controllers\BackOfficeControllerUnitTests.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System.Linq;
using NUnit.Framework;
using Umbraco.Web.Editors;

namespace Umbraco.Tests.Web.Controllers
{
    [TestFixture]
    public class BackOfficeControllerUnitTests
    {
        public static object[] TestLegacyJsActionPaths = new object[] {
            new string[]
            {
                &quot;alert(&#39;hello&#39;);&quot;,
                &quot;function test() { window.location = &#39;http://www.google.com&#39;; }&quot;,
                &quot;function openCourierSecurity(userid){ UmbClientMgr.contentFrame(&#39;page?userid=123); }&quot;,
                @&quot;function openRepository(repo, folder){ UmbClientMgr.contentFrame(&#39;page?repo=repo&amp;folder=folder); }
                  function openTransfer(revision, repo, folder){ UmbClientMgr.contentFrame(&#39;page?revision=revision&amp;repo=repo&amp;folder=folder); }&quot;,
                &quot;umbraco/js/test.js&quot;,
                &quot;/umbraco/js/test.js&quot;,
                &quot;~/umbraco/js/test.js&quot;
            }
        };


        [TestCaseSource(&quot;TestLegacyJsActionPaths&quot;)]
        public void Separates_Legacy_JsActions_By_Block_Or_Url(object[] jsActions)
        {
            var jsBlocks =
                BackOfficeController.GetLegacyActionJsForActions(BackOfficeController.LegacyJsActionType.JsBlock,
                    jsActions.Select(n =&gt; n.ToString()));

            var jsUrls =
                BackOfficeController.GetLegacyActionJsForActions(BackOfficeController.LegacyJsActionType.JsUrl,
                    jsActions.Select(n =&gt; n.ToString()));

            Assert.That(jsBlocks.Count() == 4);
            Assert.That(jsUrls.Count() == 3);
            Assert.That(jsUrls.Last().StartsWith(&quot;~/&quot;) == false);
        }
    }
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[10,9,22,11,1],[27,9,27,10,1],[28,13,30,43,1],[30,43,30,55,1],[30,55,30,58,1],[28,13,30,58,1],[32,13,34,43,1],[34,43,34,55,1],[34,55,34,58,1],[32,13,34,58,1],[36,13,36,48,1],[37,13,37,46,1],[38,13,38,66,1],[39,9,39,10,1]]);
    </script>
  </body>
</html>