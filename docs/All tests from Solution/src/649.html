<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\Umbraco.Web\umbraco.presentation\umbraco\Trees\BaseContentTree.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.Collections.Generic;
using System.Globalization;
using System.Linq;
using System.Reflection;
using System.Text;
using System.Web;
using Umbraco.Core;
using Umbraco.Core.Models;
using umbraco.BasePages;
using umbraco.BusinessLogic;
using umbraco.cms.businesslogic.web;
using umbraco.interfaces;
using umbraco.BusinessLogic.Actions;


namespace umbraco.cms.presentation.Trees
{
    /// &lt;summary&gt;
    /// An abstract tree class for the content application.
    /// Has built in methods for handling all of the request parameters specific to the content tree.
    /// &lt;/summary&gt;
    [Obsolete(&quot;This is no longer used and will be removed from the codebase in the future&quot;)]
    public abstract class BaseContentTree : BaseTree
    {

        public BaseContentTree(string application) : base(application) { }

        private User _user;
        
        protected virtual bool LoadMinimalDocument { get; set; }

        /// &lt;summary&gt;
        /// Returns the current User. This ensures that we don&#39;t instantiate a new User object 
        /// each time.
        /// &lt;/summary&gt;
        protected User CurrentUser
        {
            get
            {
                return (_user == null ? (_user = UmbracoEnsuredPage.CurrentUser) : _user);
            }
        }

        /// &lt;summary&gt;
        /// Renders the Javascript.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;Javascript&quot;&gt;The javascript.&lt;/param&gt;
        public override void RenderJS(ref StringBuilder Javascript)
        {
            if (!String.IsNullOrEmpty(this.FunctionToCall))
            {
                Javascript.Append(&quot;function openContent(id) {\n&quot;);
                Javascript.Append(this.FunctionToCall + &quot;(id);\n&quot;);
                Javascript.Append(&quot;}\n&quot;);
            }
            else if (!this.IsDialog)
            {
                Javascript.Append(
					@&quot;
function openContent(id) {
	UmbClientMgr.contentFrame(&#39;editContent.aspx?id=&#39; + id);
}
&quot;);
            }
        }

        /// &lt;summary&gt;
        /// Renders the specified tree item.
        /// &lt;/summary&gt;        
        /// &lt;param name=&quot;Tree&quot;&gt;The tree.&lt;/param&gt;
        public override void Render(ref XmlTree Tree)
        {
            if (UseOptimizedRendering == false)
            {
                //We cannot run optimized mode since there are subscribers to events/methods that require document instances
                // so we&#39;ll render the original way by looking up the docs.

                //get documents to render
                var docs = Document.GetChildrenForTree(m_id);

                var args = new TreeEventArgs(Tree);
                OnBeforeTreeRender(docs, args);

                foreach (var dd in docs)
                {
                    var allowedUserOptions = GetUserActionsForNode(dd);
                    if (CanUserAccessNode(dd, allowedUserOptions))
                    {

                        var node = CreateNode(dd, allowedUserOptions);

                        OnRenderNode(ref node, dd);

                        OnBeforeNodeRender(ref Tree, ref node, EventArgs.Empty);
                        if (node != null)
                        {
                            Tree.Add(node);
                            OnAfterNodeRender(ref Tree, ref node, EventArgs.Empty);
                        }
                    }
                }
                OnAfterTreeRender(docs, args);
            }
            else
            {

                //We ARE running in optmized mode, this means we will NOT be raising the BeforeTreeRender or AfterTreeRender 
                // events and NOT calling the OnRenderNode method - we&#39;ve already detected that there are not subscribers or implementations
                // to call so that is fine.

                var entities = Services.EntityService.GetChildren(m_id, UmbracoObjectTypes.Document).ToArray();
                foreach (var entity in entities)
                {
                    var e = entity as UmbracoEntity;
                    var allowedUserOptions = GetUserActionsForNode(e);
                    if (CanUserAccessNode(e, allowedUserOptions))
                    {
                        var node = CreateNode(e, allowedUserOptions);

                        //in optimized mode the LoadMinimalDocument will ALWAYS be true, if it is not true then we will
                        // be rendering in non-optimized mode and this code will not get executed so we don&#39;t need to worry
                        // about performance here.
                        OnRenderNode(ref node, new Document(e, LoadMinimalDocument));
                        
                        OnBeforeNodeRender(ref Tree, ref node, EventArgs.Empty);
                        if (node != null)
                        {
                            Tree.Add(node);
                            OnAfterNodeRender(ref Tree, ref node, EventArgs.Empty);
                        }
                    }
                }
            }
        }

        #region Tree Create-node-helper Methods - Legacy
        /// &lt;summary&gt;
        /// Creates an XmlTreeNode based on the passed in Document
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;dd&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;allowedUserOptions&quot;&gt;&lt;/param&gt;
        /// &lt;returns&gt;&lt;/returns&gt;
        protected XmlTreeNode CreateNode(Document dd, List&lt;IAction&gt; allowedUserOptions)
        {
            XmlTreeNode node = XmlTreeNode.Create(this);
            SetMenuAttribute(ref node, allowedUserOptions);
            node.NodeID = dd.Id.ToString();
            node.Text = dd.Text;
            SetNonPublishedAttribute(ref node, dd);
            SetProtectedAttribute(ref node, dd);
            SetActionAttribute(ref node, dd);
            SetSourcesAttributes(ref node, dd);
            if (dd.ContentTypeIcon != null)
            {
                node.Icon = dd.ContentTypeIcon;
                node.OpenIcon = dd.ContentTypeIcon;
            }

            if (dd.HasPublishedVersion() == false)
                node.Style.DimNode();

            if (dd.HasPendingChanges())
                node.Style.HighlightNode();

            return node;
        }
        
        /// &lt;summary&gt;
        /// Creates the link for the current document 
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;dd&quot;&gt;&lt;/param&gt;
        /// &lt;returns&gt;&lt;/returns&gt;
        protected string CreateNodeLink(Document dd)
        {
            string nodeLink = library.NiceUrl(dd.Id);
            if (nodeLink == &quot;&quot;)
            {
                nodeLink = &quot;/&quot; + dd.Id;
                if (GlobalSettings.UseDirectoryUrls == false)
                    nodeLink += &quot;.aspx&quot;;
            }
            return nodeLink;
        }

        /// &lt;summary&gt;
        /// Inheritors override this method to modify the content node being created
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;xNode&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;doc&quot;&gt;&lt;/param&gt;
        protected virtual void OnRenderNode(ref XmlTreeNode xNode, Document doc) { }

        /// &lt;summary&gt;
        /// Determins if the user has access to view the node/document
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;doc&quot;&gt;The Document to check permissions against&lt;/param&gt;
        /// &lt;param name=&quot;allowedUserOptions&quot;&gt;A list of IActions that the user has permissions to execute on the current document&lt;/param&gt;
        /// &lt;remarks&gt;By default the user must have Browse permissions to see the node in the Content tree&lt;/remarks&gt;
        /// &lt;returns&gt;&lt;/returns&gt;        
        protected virtual bool CanUserAccessNode(Document doc, List&lt;IAction&gt; allowedUserOptions)
        {
            if (allowedUserOptions.Contains(ActionBrowse.Instance))
                return true;

            return false;
        }

        /// &lt;summary&gt;
        /// Builds a string of actions that the user is able to perform on the current document.
        /// The list of actions is subject to the user&#39;s rights assigned to the document and also
        /// is dependant on the type of node.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;dd&quot;&gt;&lt;/param&gt;
        /// &lt;returns&gt;&lt;/returns&gt;
        protected List&lt;IAction&gt; GetUserActionsForNode(Document dd)
        {
            List&lt;IAction&gt; actions = umbraco.BusinessLogic.Actions.Action.FromString(CurrentUser.GetPermissions(dd.Path));

            // A user is allowed to delete their own stuff
            if (dd.UserId == CurrentUser.Id &amp;&amp; actions.Contains(ActionDelete.Instance) == false)
                actions.Add(ActionDelete.Instance);

            return actions;
        }

        #endregion

        #region Tree Create-node-helper Methods - UmbracoEntity equivalent
        /// &lt;summary&gt;
        /// Creates an XmlTreeNode based on the passed in UmbracoEntity
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;dd&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;allowedUserOptions&quot;&gt;&lt;/param&gt;
        /// &lt;returns&gt;&lt;/returns&gt;
        internal XmlTreeNode CreateNode(UmbracoEntity dd, List&lt;IAction&gt; allowedUserOptions)
        {
            XmlTreeNode node = XmlTreeNode.Create(this);
            SetMenuAttribute(ref node, allowedUserOptions);
            node.NodeID = dd.Id.ToString();
            node.Text = dd.Name;
            SetNonPublishedAttribute(ref node, dd);
            SetProtectedAttribute(ref node, dd);
            SetActionAttribute(ref node, dd);
            SetSourcesAttributes(ref node, dd);
            if (dd.ContentTypeIcon != null)
            {
                node.Icon = dd.ContentTypeIcon;
                node.OpenIcon = dd.ContentTypeIcon;
            }

            if (dd.IsPublished == false)
                node.Style.DimNode();

            if (dd.HasPendingChanges)
                node.Style.HighlightNode();

            return node;
        }

        /// &lt;summary&gt;
        /// Creates the link for the current UmbracoEntity 
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;dd&quot;&gt;&lt;/param&gt;
        /// &lt;returns&gt;&lt;/returns&gt;
        internal string CreateNodeLink(UmbracoEntity dd)
        {
            string nodeLink = library.NiceUrl(dd.Id);
            if (nodeLink == &quot;&quot;)
            {
                nodeLink = &quot;/&quot; + dd.Id;
                if (GlobalSettings.UseDirectoryUrls == false)
                    nodeLink += &quot;.aspx&quot;;
            }
            return nodeLink;
        }

        /// &lt;summary&gt;
        /// Determins if the user has access to view the node/document
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;doc&quot;&gt;The Document to check permissions against&lt;/param&gt;
        /// &lt;param name=&quot;allowedUserOptions&quot;&gt;A list of IActions that the user has permissions to execute on the current document&lt;/param&gt;
        /// &lt;remarks&gt;By default the user must have Browse permissions to see the node in the Content tree&lt;/remarks&gt;
        /// &lt;returns&gt;&lt;/returns&gt;        
        internal virtual bool CanUserAccessNode(UmbracoEntity doc, List&lt;IAction&gt; allowedUserOptions)
        {
            if (allowedUserOptions.Contains(ActionBrowse.Instance))
                return true;

            return false;
        }

        /// &lt;summary&gt;
        /// Builds a string of actions that the user is able to perform on the current document.
        /// The list of actions is subject to the user&#39;s rights assigned to the document and also
        /// is dependant on the type of node.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;dd&quot;&gt;&lt;/param&gt;
        /// &lt;returns&gt;&lt;/returns&gt;
        internal List&lt;IAction&gt; GetUserActionsForNode(UmbracoEntity dd)
        {
            List&lt;IAction&gt; actions = umbraco.BusinessLogic.Actions.Action.FromString(CurrentUser.GetPermissions(dd.Path));

            // A user is allowed to delete their own stuff
            if (dd.CreatorId == CurrentUser.Id &amp;&amp; actions.Contains(ActionDelete.Instance) == false)
                actions.Add(ActionDelete.Instance);

            return actions;
        }
        #endregion

        #region Tree Attribute Setter Methods - Legacy

        protected void SetNonPublishedAttribute(ref XmlTreeNode treeElement, Document dd)
        {
            treeElement.NotPublished = false;
            if (dd.Published)
            {
                //if (Math.Round(new TimeSpan(dd.UpdateDate.Ticks - dd.VersionDate.Ticks).TotalSeconds, 0) &gt; 1)
                //    treeElement.NotPublished = true;
                treeElement.NotPublished = dd.HasPendingChanges();
            }
            else
                treeElement.NotPublished = true;
        }
        
        protected void SetProtectedAttribute(ref XmlTreeNode treeElement, Document dd)
        {
            if (Access.IsProtected(dd.Id, dd.Path))
                treeElement.IsProtected = true;
            else
                treeElement.IsProtected = false;
        }
        
        protected void SetActionAttribute(ref XmlTreeNode treeElement, Document dd)
        {
            
            // Check for dialog behaviour
            if (this.DialogMode == TreeDialogModes.fulllink )
            {
                string nodeLink = CreateNodeLink(dd);
                treeElement.Action = String.Format(&quot;javascript:openContent(&#39;{0}&#39;);&quot;, nodeLink);
            }
            else if (this.DialogMode == TreeDialogModes.locallink)
            {
                string nodeLink = string.Format(&quot;{{localLink:{0}}}&quot;, dd.Id);
                string nodeText = dd.Text.Replace(&quot;&#39;&quot;, &quot;\\&#39;&quot;);
                // try to make a niceurl too
                string niceUrl = umbraco.library.NiceUrl(dd.Id).Replace(&quot;&#39;&quot;, &quot;\\&#39;&quot;); ;
                if (niceUrl != &quot;#&quot; || niceUrl != &quot;&quot;) {
                    nodeLink += &quot;|&quot; + niceUrl + &quot;|&quot; + HttpContext.Current.Server.HtmlEncode(nodeText);
                } else {
                    nodeLink += &quot;||&quot; + HttpContext.Current.Server.HtmlEncode(nodeText);
                }
                
                treeElement.Action = String.Format(&quot;javascript:openContent(&#39;{0}&#39;);&quot;, nodeLink);
            }
            else if (this.DialogMode == TreeDialogModes.id || this.DialogMode == TreeDialogModes.none)
            {
                treeElement.Action = String.Format(&quot;javascript:openContent(&#39;{0}&#39;);&quot;, dd.Id.ToString());
            }
            else if (!this.IsDialog || (this.DialogMode == TreeDialogModes.id))
            {
                if (CurrentUser.GetPermissions(dd.Path).Contains(ActionUpdate.Instance.Letter.ToString()))
                {
                    treeElement.Action = String.Format(&quot;javascript:openContent({0});&quot;, dd.Id);
                }
            }
        }
        
        protected void SetSourcesAttributes(ref XmlTreeNode treeElement, Document dd)
        {
            treeElement.HasChildren = dd.ContentType.IsContainerContentType == false &amp;&amp; dd.HasChildren;
            treeElement.Source = IsDialog == false ? GetTreeServiceUrl(dd.Id) : GetTreeDialogUrl(dd.Id);
        }

        protected void SetMenuAttribute(ref XmlTreeNode treeElement, List&lt;IAction&gt; allowedUserActions)
        {
            //clear menu if we&#39;re to hide it
            treeElement.Menu = this.ShowContextMenu == false ? null : RemoveDuplicateMenuDividers(GetUserAllowedActions(AllowedActions, allowedUserActions));
        }

        #endregion

        #region Tree Attribute Setter Methods - UmbracoEntity equivalent

        internal void SetNonPublishedAttribute(ref XmlTreeNode treeElement, UmbracoEntity dd)
        {
            treeElement.NotPublished = false;
            if (dd.IsPublished)
                treeElement.NotPublished = dd.HasPendingChanges;
            else
                treeElement.NotPublished = true;
        }

        internal void SetProtectedAttribute(ref XmlTreeNode treeElement, UmbracoEntity dd)
        {
            if (Access.IsProtected(dd.Id, dd.Path))
                treeElement.IsProtected = true;
            else
                treeElement.IsProtected = false;
        }

        internal void SetActionAttribute(ref XmlTreeNode treeElement, UmbracoEntity dd)
        {

            // Check for dialog behaviour
            if (this.DialogMode == TreeDialogModes.fulllink)
            {
                string nodeLink = CreateNodeLink(dd);
                treeElement.Action = String.Format(&quot;javascript:openContent(&#39;{0}&#39;);&quot;, nodeLink);
            }
            else if (this.DialogMode == TreeDialogModes.locallink)
            {
                string nodeLink = string.Format(&quot;{{localLink:{0}}}&quot;, dd.Id);
                string nodeText = dd.Name.Replace(&quot;&#39;&quot;, &quot;\\&#39;&quot;);
                // try to make a niceurl too
                string niceUrl = umbraco.library.NiceUrl(dd.Id).Replace(&quot;&#39;&quot;, &quot;\\&#39;&quot;); ;
                if (niceUrl != &quot;#&quot; || niceUrl != &quot;&quot;)
                {
                    nodeLink += &quot;|&quot; + niceUrl + &quot;|&quot; + HttpContext.Current.Server.HtmlEncode(nodeText);
                }
                else
                {
                    nodeLink += &quot;||&quot; + HttpContext.Current.Server.HtmlEncode(nodeText);
                }

                treeElement.Action = String.Format(&quot;javascript:openContent(&#39;{0}&#39;);&quot;, nodeLink);
            }
            else if (this.DialogMode == TreeDialogModes.id || this.DialogMode == TreeDialogModes.none)
            {
                treeElement.Action = String.Format(&quot;javascript:openContent(&#39;{0}&#39;);&quot;, dd.Id.ToString(CultureInfo.InvariantCulture));
            }
            else if (this.IsDialog == false || (this.DialogMode == TreeDialogModes.id))
            {
                if (CurrentUser.GetPermissions(dd.Path).Contains(ActionUpdate.Instance.Letter.ToString(CultureInfo.InvariantCulture)))
                {
                    treeElement.Action = String.Format(&quot;javascript:openContent({0});&quot;, dd.Id);
                }
            }
        }

        internal void SetSourcesAttributes(ref XmlTreeNode treeElement, UmbracoEntity dd)
        {
            treeElement.HasChildren = dd.HasChildren;
            treeElement.Source = IsDialog == false ? GetTreeServiceUrl(dd.Id) : GetTreeDialogUrl(dd.Id);
        }

        #endregion

        /// &lt;summary&gt;
        /// The returned list is filtered based on the IActions that the user is allowed to perform based on the actions
        /// that are allowed for the current tree.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;actions&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;userAllowedActions&quot;&gt;&lt;/param&gt;
        /// &lt;returns&gt;&lt;/returns&gt;
        protected List&lt;IAction&gt; GetUserAllowedActions(List&lt;IAction&gt; actions, List&lt;IAction&gt; userAllowedActions)
        {
            return actions.FindAll(
                delegate(IAction a)
                {
                    return (!a.CanBePermissionAssigned || (a.CanBePermissionAssigned &amp;&amp; userAllowedActions.Contains(a)));
                }
            );

        }

        /// &lt;summary&gt;
        /// Once the context menu has been created, this utility will simply strip out duplicate dividers if they exist and also leading and trailing dividers.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;actions&quot;&gt;&lt;/param&gt;
        /// &lt;returns&gt;&lt;/returns&gt;
        protected List&lt;IAction&gt; RemoveDuplicateMenuDividers(List&lt;IAction&gt; actions)
        {
            string fullMenu = umbraco.BusinessLogic.Actions.Action.ToString(actions);
            while (fullMenu.IndexOf(&quot;,,&quot;) &gt; 0) //remove all occurances of duplicate dividers
                fullMenu = fullMenu.Replace(&quot;,,&quot;, &quot;,&quot;);
            fullMenu = fullMenu.Trim(new char[] { &#39;,&#39; }); //remove any ending dividers
            return umbraco.BusinessLogic.Actions.Action.FromString(fullMenu);
        }

        /// &lt;summary&gt;
        /// Returns true if we can use the EntityService to render the tree or revert to the original way 
        /// using normal documents
        /// &lt;/summary&gt;
        /// &lt;remarks&gt;
        /// We determine this by:
        /// * If there are any subscribers to the events: BeforeTreeRender or AfterTreeRender - then we cannot run optimized
        /// * If there are any overrides of the method: OnRenderNode - then we cannot run optimized
        /// &lt;/remarks&gt;
        internal bool UseOptimizedRendering
        {
            get
            {
                if (HasEntityBasedEventSubscribers)
                {
                    return false;
                }

                //now we need to check if the current tree type has OnRenderNode overridden with a custom implementation
                //Strangely - this even works in med trust!
                var method = this.GetType().GetMethod(&quot;OnRenderNode&quot;, BindingFlags.Instance | BindingFlags.NonPublic, null, new[] { typeof(XmlTreeNode).MakeByRefType(), typeof(Document) }, null);
                if (TypeHelper.IsOverride(method) &amp;&amp; LoadMinimalDocument == false)
                {
                    return false;
                }

                return true;
            }
        }

    }
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[27,54,27,71,1],[27,72,27,73,1],[27,74,27,75,1],[31,54,31,58,0],[31,59,31,63,0],[40,13,40,14,0],[41,17,41,91,0],[42,13,42,14,0],[50,9,50,10,0],[51,13,51,60,0],[52,13,52,14,0],[53,17,53,67,0],[54,17,54,68,0],[55,17,55,42,0],[56,13,56,14,0],[57,18,57,37,0],[58,13,58,14,0],[59,17,64,4,0],[65,13,65,14,0],[66,9,66,10,0],[73,9,73,10,0],[74,13,74,48,0],[75,13,75,14,0],[80,17,80,62,0],[82,17,82,52,0],[83,17,83,48,0],[85,17,85,24,0],[85,26,85,32,0],[85,33,85,35,0],[85,36,85,40,0],[86,17,86,18,0],[87,21,87,72,0],[88,21,88,67,0],[89,21,89,22,0],[91,25,91,71,0],[93,25,93,52,0],[95,25,95,81,0],[96,25,96,42,0],[97,25,97,26,0],[98,29,98,44,0],[99,29,99,84,0],[100,25,100,26,0],[101,21,101,22,0],[102,17,102,18,0],[103,17,103,47,0],[104,13,104,14,0],[106,13,106,14,0],[112,17,112,112,0],[113,17,113,24,0],[113,26,113,36,0],[113,37,113,39,0],[113,40,113,48,0],[114,17,114,18,0],[115,21,115,53,0],[116,21,116,71,0],[117,21,117,66,0],[118,21,118,22,0],[119,25,119,70,0],[124,25,124,86,0],[126,25,126,81,0],[127,25,127,42,0],[128,25,128,26,0],[129,29,129,44,0],[130,29,130,84,0],[131,25,131,26,0],[132,21,132,22,0],[133,17,133,18,0],[134,13,134,14,0],[135,9,135,10,0],[145,9,145,10,0],[146,13,146,57,0],[147,13,147,60,0],[148,13,148,44,0],[149,13,149,33,0],[150,13,150,52,0],[151,13,151,49,0],[152,13,152,46,0],[153,13,153,48,0],[154,13,154,44,0],[155,13,155,14,0],[156,17,156,48,0],[157,17,157,52,0],[158,13,158,14,0],[160,13,160,51,0],[161,17,161,38,0],[163,13,163,40,0],[164,17,164,44,0],[166,13,166,25,0],[167,9,167,10,0],[175,9,175,10,0],[176,13,176,54,0],[177,13,177,32,0],[178,13,178,14,0],[179,17,179,40,0],[180,17,180,62,0],[181,21,181,41,0],[182,13,182,14,0],[183,13,183,29,0],[184,9,184,10,0],[191,82,191,83,0],[191,84,191,85,0],[201,9,201,10,0],[202,13,202,68,0],[203,17,203,29,0],[205,13,205,26,0],[206,9,206,10,0],[216,9,216,10,0],[217,13,217,122,0],[220,13,220,97,0],[221,17,221,52,0],[223,13,223,28,0],[224,9,224,10,0],[236,9,236,10,0],[237,13,237,57,0],[238,13,238,60,0],[239,13,239,44,0],[240,13,240,33,0],[241,13,241,52,0],[242,13,242,49,0],[243,13,243,46,0],[244,13,244,48,0],[245,13,245,44,0],[246,13,246,14,0],[247,17,247,48,0],[248,17,248,52,0],[249,13,249,14,0],[251,13,251,41,0],[252,17,252,38,0],[254,13,254,38,0],[255,17,255,44,0],[257,13,257,25,0],[258,9,258,10,0],[266,9,266,10,0],[267,13,267,54,0],[268,13,268,32,0],[269,13,269,14,0],[270,17,270,40,0],[271,17,271,62,0],[272,21,272,41,0],[273,13,273,14,0],[274,13,274,29,0],[275,9,275,10,0],[285,9,285,10,0],[286,13,286,68,0],[287,17,287,29,0],[289,13,289,26,0],[290,9,290,10,0],[300,9,300,10,0],[301,13,301,122,0],[304,13,304,100,0],[305,17,305,52,0],[307,13,307,28,0],[308,9,308,10,0],[314,9,314,10,0],[315,13,315,46,0],[316,13,316,30,0],[317,13,317,14,0],[320,17,320,67,0],[321,13,321,14,0],[323,17,323,49,0],[324,9,324,10,0],[327,9,327,10,0],[328,13,328,52,0],[329,17,329,48,0],[331,17,331,49,0],[332,9,332,10,0],[335,9,335,10,0],[338,13,338,62,0],[339,13,339,14,0],[340,17,340,54,0],[341,17,341,96,0],[342,13,342,14,0],[343,18,343,67,0],[344,13,344,14,0],[345,17,345,77,0],[346,17,346,63,0],[348,17,348,85,0],[348,86,348,87,0],[349,17,349,53,0],[349,54,349,55,0],[350,21,350,103,0],[351,17,351,18,0],[351,24,351,25,0],[352,21,352,88,0],[353,17,353,18,0],[355,17,355,96,0],[356,13,356,14,0],[357,18,357,103,0],[358,13,358,14,0],[359,17,359,104,0],[360,13,360,14,0],[361,18,361,80,0],[362,13,362,14,0],[363,17,363,107,0],[364,17,364,18,0],[365,21,365,95,0],[366,17,366,18,0],[367,13,367,14,0],[368,9,368,10,0],[371,9,371,10,0],[372,13,372,104,0],[373,13,373,105,0],[374,9,374,10,0],[377,9,377,10,0],[379,13,379,158,0],[380,9,380,10,0],[387,9,387,10,0],[388,13,388,46,0],[389,13,389,32,0],[390,17,390,65,0],[392,17,392,49,0],[393,9,393,10,0],[396,9,396,10,0],[397,13,397,52,0],[398,17,398,48,0],[400,17,400,49,0],[401,9,401,10,0],[404,9,404,10,0],[407,13,407,61,0],[408,13,408,14,0],[409,17,409,54,0],[410,17,410,96,0],[411,13,411,14,0],[412,18,412,67,0],[413,13,413,14,0],[414,17,414,77,0],[415,17,415,63,0],[417,17,417,85,0],[417,86,417,87,0],[418,17,418,53,0],[419,17,419,18,0],[420,21,420,103,0],[421,17,421,18,0],[423,17,423,18,0],[424,21,424,88,0],[425,17,425,18,0],[427,17,427,96,0],[428,13,428,14,0],[429,18,429,103,0],[430,13,430,14,0],[431,17,431,132,0],[432,13,432,14,0],[433,18,433,88,0],[434,13,434,14,0],[435,17,435,135,0],[436,17,436,18,0],[437,21,437,95,0],[438,17,438,18,0],[439,13,439,14,0],[440,9,440,10,0],[443,9,443,10,0],[444,13,444,54,0],[445,13,445,105,0],[446,9,446,10,0],[458,9,458,10,0],[459,13,461,17,0],[461,17,461,18,0],[461,18,462,21,0],[462,21,462,122,0],[462,122,463,17,0],[463,17,463,18,0],[463,18,464,15,0],[459,13,464,15,0],[466,9,466,10,0],[474,9,474,10,0],[475,13,475,86,0],[476,13,476,47,0],[477,17,477,56,0],[478,13,478,58,0],[479,13,479,78,0],[480,9,480,10,0],[494,13,494,14,1],[495,17,495,52,1],[496,17,496,18,1],[497,21,497,34,1],[502,17,502,196,1],[503,17,503,83,1],[504,17,504,18,1],[505,21,505,34,1],[508,17,508,29,1],[509,13,509,14,1]]);
    </script>
  </body>
</html>