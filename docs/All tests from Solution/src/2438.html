<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\umbraco.cms\businesslogic\media\UmbracoImageMediaFactory.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.Collections.Generic;
using Umbraco.Core.Models;
using umbraco.BusinessLogic;
using Umbraco.Core;

namespace umbraco.cms.businesslogic.media
{
    [Obsolete(&quot;This interface is no longer used and will be removed from the codebase in future versions&quot;)]
    public class UmbracoImageMediaFactory : UmbracoMediaFactory
    {
        public override string MediaTypeAlias
        {
            get { return Constants.Conventions.MediaTypes.Image; }
        }

        public override List&lt;string&gt; Extensions
        {
            get { return new List&lt;string&gt; { &quot;jpeg&quot;, &quot;jpg&quot;, &quot;gif&quot;, &quot;bmp&quot;, &quot;png&quot;, &quot;tiff&quot;, &quot;tif&quot; }; }
        }

        public override void DoHandleMedia(Media media, PostedMediaFile postedFile, User user)
        {
            // Set media property to upload the file as well as set all related properties
            media.MediaItem.SetValue(Constants.Conventions.Media.File, postedFile.FileName, postedFile.InputStream);

            // Copy back the values from the internal IMedia to ensure that the values are persisted when saved
            foreach (var property in media.MediaItem.Properties)
            {
                media.getProperty(property.Alias).Value = property.Value;
            }

            // Save media (using legacy media object to ensure the usage of the legacy events).
            media.Save();
        }
    }
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[14,17,14,18,0],[14,19,14,65,0],[14,66,14,67,0],[19,17,19,18,0],[19,19,19,97,0],[19,98,19,99,0],[23,9,23,10,0],[25,13,25,117,0],[28,13,28,20,0],[28,22,28,34,0],[28,35,28,37,0],[28,38,28,64,0],[29,13,29,14,0],[30,17,30,74,0],[31,13,31,14,0],[34,13,34,26,0],[35,9,35,10,0]]);
    </script>
  </body>
</html>