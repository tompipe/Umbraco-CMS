<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\umbraco.cms\businesslogic\Files\UmbracoFile.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.Drawing;
using System.Drawing.Drawing2D;
using System.Drawing.Imaging;
using System.IO;
using System.Linq;
using System.Web;
using Umbraco.Core;
using Umbraco.Core.IO;

namespace umbraco.cms.businesslogic.Files
{
    [Obsolete(&quot;Use Umbraco.Core.IO.UmbracoMediaFile instead&quot;)]
    public class UmbracoFile : IFile
    {
        private readonly UmbracoMediaFile _mediaFile;
        
        #region Constructors

        public UmbracoFile()
        {
            _mediaFile = new UmbracoMediaFile();
        }

        public UmbracoFile(string path)
        {
            _mediaFile = new UmbracoMediaFile(path);
        }

        internal UmbracoFile(UmbracoMediaFile mediaFile)
        {
            _mediaFile = mediaFile;
        }

        #endregion

        #region Static Methods

        //MB: Do we really need all these overloads? looking through the code, only one of them is actually used

        public static UmbracoFile Save(HttpPostedFile file, string path)
        {
            return new UmbracoFile(UmbracoMediaFile.Save(file.InputStream, path));
        }

        public static UmbracoFile Save(HttpPostedFileBase file, string path)
        {
            return new UmbracoFile(UmbracoMediaFile.Save(file.InputStream, path));
        }

        public static UmbracoFile Save(Stream inputStream, string path)
        {
            return new UmbracoFile(UmbracoMediaFile.Save(inputStream, path));
        }

        public static UmbracoFile Save(byte[] file, string relativePath)
        {
            return new UmbracoFile(UmbracoMediaFile.Save(new MemoryStream(file), relativePath));
        }

        public static UmbracoFile Save(HttpPostedFile file)
        {
            return new UmbracoFile(UmbracoMediaFile.Save(file));
        }

        //filebase overload...
        public static UmbracoFile Save(HttpPostedFileBase file)
        {
            return new UmbracoFile(UmbracoMediaFile.Save(file));
        }

        #endregion
        
        public string Filename
        {
            get { return _mediaFile.Filename; }
        }

        public string Extension
        {
            get { return _mediaFile.Extension; }
        }

        [Obsolete(&quot;LocalName is obsolete, please use Url instead&quot;, false)]
        public string LocalName
        {
            get { return Url; }
        }

        public string Path
        {
            get { return _mediaFile.Path; }
        }

        public string Url
        {
            get { return _mediaFile.Url; }
        }

        public long Length
        {
            get { return _mediaFile.Length; }
        }

        public bool SupportsResizing
        {
            get { return _mediaFile.SupportsResizing; }
        }

        public string GetFriendlyName()
        {
            return _mediaFile.GetFriendlyName();
        }

        public System.Tuple&lt;int, int&gt; GetDimensions()
        {
            var size = _mediaFile.GetDimensions();
            return new System.Tuple&lt;int, int&gt;(size.Width, size.Height);
        }

        public string Resize(int width, int height)
        {
            return _mediaFile.Resize(width, height);
        }

        public string Resize(int maxWidthHeight, string fileNameAddition)
        {
            return _mediaFile.Resize(maxWidthHeight, fileNameAddition);
        }

    }

}

    </pre>
    <script type="text/javascript">
      highlightRanges([[20,9,20,29,0],[21,9,21,10,0],[22,13,22,49,0],[23,9,23,10,0],[25,9,25,40,0],[26,9,26,10,0],[27,13,27,53,0],[28,9,28,10,0],[30,9,30,57,0],[31,9,31,10,0],[32,13,32,36,0],[33,9,33,10,0],[42,9,42,10,0],[43,13,43,83,0],[44,9,44,10,0],[47,9,47,10,0],[48,13,48,83,0],[49,9,49,10,0],[52,9,52,10,0],[53,13,53,78,0],[54,9,54,10,0],[57,9,57,10,0],[58,13,58,97,0],[59,9,59,10,0],[62,9,62,10,0],[63,13,63,65,0],[64,9,64,10,0],[68,9,68,10,0],[69,13,69,65,0],[70,9,70,10,0],[76,17,76,18,0],[76,19,76,46,0],[76,47,76,48,0],[81,17,81,18,0],[81,19,81,47,0],[81,48,81,49,0],[87,17,87,18,0],[87,19,87,30,0],[87,31,87,32,0],[92,17,92,18,0],[92,19,92,42,0],[92,43,92,44,0],[97,17,97,18,0],[97,19,97,41,0],[97,42,97,43,0],[102,17,102,18,0],[102,19,102,44,0],[102,45,102,46,0],[107,17,107,18,0],[107,19,107,54,0],[107,55,107,56,0],[111,9,111,10,0],[112,13,112,49,0],[113,9,113,10,0],[116,9,116,10,0],[117,13,117,51,0],[118,13,118,72,0],[119,9,119,10,0],[122,9,122,10,0],[123,13,123,53,0],[124,9,124,10,0],[127,9,127,10,0],[128,13,128,72,0],[129,9,129,10,0]]);
    </script>
  </body>
</html>