<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\umbraco.editorControls\datepicker\dateField.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.Web.UI;
using System.Web.UI.WebControls;
using System.ComponentModel;
using System.Collections;
using System.Globalization;
using umbraco.uicontrols.DatePicker;

namespace umbraco.editorControls
{
	/// &lt;summary&gt;
	/// Summary description for dateField.
	/// &lt;/summary&gt;
    [Obsolete(&quot;IDataType and all other references to the legacy property editors are no longer used this will be removed from the codebase in future versions&quot;)]
	public class dateField : DateTimePicker, interfaces.IDataEditor
	{

		interfaces.IData _data;

		public dateField(interfaces.IData Data) {
			_data = Data;
		}
	
		public virtual bool TreatAsRichTextEditor 
		{
			get {return false;}
		}
		public bool ShowLabel 
		{
			get {return true;}
		}

		public Control Editor {
			get {return this;}
		}

		public void Save() 
		{
			try 
			{
				if (this.Text == String.Empty) 
                    throw new FormatException();

				//DateTime date = DateTime.Parse(this.Text);
                //this.Text = date.ToString(&quot;yyyy-MM-dd&quot;) + &quot; &quot; + date.ToLongTimeString();
                //_data.Value = date;
                _data.Value = this.DateTime;
			} 
			catch {
				//this.Text = &quot;&quot;;
				_data.Value = null;
			}
		}

		protected override void OnInit(EventArgs e)
		{
			//base.ShowTime = false;
			//base.CustomMinutes = &quot;00, 05, 10, 15, 20, 25, 30, 35, 40, 45, 50, 55&quot;;

            if (_data != null &amp;&amp; _data.Value != null &amp;&amp; _data.Value is DateTime)
            {
                this.DateTime = (DateTime)_data.Value;
            }
            else
            {
                //base.EmptyDateAsDefault = true;
                //this.Text = &quot;&quot;;
            }
			base.OnInit(e);
		}
	}
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[20,3,20,42,0],[20,43,20,44,0],[21,4,21,17,0],[22,3,22,4,0],[26,8,26,9,0],[26,9,26,22,0],[26,22,26,23,0],[30,8,30,9,0],[30,9,30,21,0],[30,21,30,22,0],[34,8,34,9,0],[34,9,34,21,0],[34,21,34,22,0],[38,3,38,4,0],[40,4,40,5,0],[41,5,41,35,0],[42,21,42,49,0],[47,17,47,45,0],[48,4,48,5,0],[49,4,49,9,0],[49,10,49,11,0],[51,5,51,24,0],[52,4,52,5,0],[53,3,53,4,0],[56,3,56,4,0],[60,13,60,81,0],[61,13,61,14,0],[62,17,62,55,0],[63,13,63,14,0],[65,13,65,14,0],[68,13,68,14,0],[69,4,69,19,0],[70,3,70,4,0]]);
    </script>
  </body>
</html>