<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\Umbraco.Web\UmbracoApplication.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.Collections.Generic;
using System.Diagnostics;
using System.IO;
using System.Linq;
using System.Runtime.InteropServices;
using System.Text;
using System.Web;
using System.Web.Hosting;
using System.Web.Mvc;
using Umbraco.Core;
using Umbraco.Core.Configuration;
using Umbraco.Core.IO;
using Umbraco.Core.Logging;
using Umbraco.Core.Manifest;
using Umbraco.Web.Routing;
using umbraco.businesslogic;

namespace Umbraco.Web
{
	/// &lt;summary&gt;
	/// The Umbraco global.asax class
	/// &lt;/summary&gt;
    public class UmbracoApplication : UmbracoApplicationBase
	{
	    private ManifestWatcher _mw;

	    protected override void OnApplicationStarted(object sender, EventArgs e)
	    {
	        base.OnApplicationStarted(sender, e);

	        if (ApplicationContext.Current.IsConfigured &amp;&amp; GlobalSettings.DebugMode)
	        {                   
	            var appPluginFolder = IOHelper.MapPath(&quot;~/App_Plugins/&quot;);
	            if (Directory.Exists(appPluginFolder))
	            {
                    _mw = new ManifestWatcher(LoggerResolver.Current.Logger);
                    _mw.Start(Directory.GetDirectories(IOHelper.MapPath(&quot;~/App_Plugins/&quot;)));
                }
	        }
	    }

	    protected override void OnApplicationEnd(object sender, EventArgs e)
	    {
	        base.OnApplicationEnd(sender, e);

	        if (_mw != null)
	        {
                _mw.Dispose();    
	        }
	    }

	    protected override IBootManager GetBootManager()
	    {
            return new WebBootManager(this);	        
	    }
	}
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[29,6,29,7,0],[30,10,30,47,0],[32,10,32,82,0],[33,10,33,11,0],[34,14,34,71,0],[35,14,35,52,0],[36,14,36,15,0],[37,21,37,78,0],[38,21,38,93,0],[39,17,39,18,0],[40,10,40,11,0],[41,6,41,7,0],[44,6,44,7,0],[45,10,45,43,0],[47,10,47,26,0],[48,10,48,11,0],[49,17,49,31,0],[50,10,50,11,0],[51,6,51,7,0],[54,6,54,7,0],[55,13,55,45,0],[56,6,56,7,0]]);
    </script>
  </body>
</html>