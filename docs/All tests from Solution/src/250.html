<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\Umbraco.Tests\Web\Mvc\UmbracoViewPageTests.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.Globalization;
using System.Linq;
using System.Web.Mvc;
using System.Web.Routing;
using Moq;
using NUnit.Framework;
using umbraco.BusinessLogic;
using Umbraco.Core;
using Umbraco.Core.Configuration.UmbracoSettings;
using Umbraco.Core.Events;
using Umbraco.Core.Logging;
using Umbraco.Core.Models;
using Umbraco.Core.Models.PublishedContent;
using Umbraco.Core.Persistence;
using Umbraco.Core.Persistence.SqlSyntax;
using Umbraco.Core.Persistence.UnitOfWork;
using Umbraco.Core.Profiling;
using Umbraco.Core.Services;
using Umbraco.Tests.TestHelpers;
using Umbraco.Tests.TestHelpers.Stubs;
using Umbraco.Web;
using Umbraco.Web.Models;
using Umbraco.Web.Mvc;
using Umbraco.Web.PublishedCache;
using Umbraco.Web.PublishedCache.XmlPublishedCache;
using Umbraco.Web.Routing;
using Umbraco.Web.Security;

namespace Umbraco.Tests.Web.Mvc
{
    [TestFixture]
    public class UmbracoViewPageTests
    {
        #region RenderModel To ...

        [Test]
        public void RenderModel_To_RenderModel()
        {
            var content = new ContentType1(null);
            var model = new RenderModel(content, CultureInfo.InvariantCulture);
            var view = new RenderModelTestPage();
            var viewData = new ViewDataDictionary(model);

            view.ViewContext = GetViewContext();
            view.SetViewDataX(viewData);

            Assert.AreSame(model, view.Model);
        }

        [Test]
        public void RenderModel_ContentType1_To_ContentType1()
        {
            var content = new ContentType1(null);
            var model = new RenderModel(content, CultureInfo.InvariantCulture);
            var view = new ContentType1TestPage();
            var viewData = new ViewDataDictionary(model);

            view.ViewContext = GetViewContext();
            view.SetViewDataX(viewData);

            Assert.IsInstanceOf&lt;ContentType1&gt;(view.Model);
        }

        [Test]
        public void RenderModel_ContentType2_To_ContentType1()
        {
            var content = new ContentType2(null);
            var model = new RenderModel(content, CultureInfo.InvariantCulture);
            var view = new ContentType1TestPage();
            var viewData = new ViewDataDictionary(model);

            view.ViewContext = GetViewContext();
            view.SetViewDataX(viewData);

            Assert.IsInstanceOf&lt;ContentType1&gt;(view.Model);
        }

        [Test]
        public void RenderModel_ContentType1_To_ContentType2()
        {
            var content = new ContentType1(null);
            var model = new RenderModel(content, CultureInfo.InvariantCulture);
            var view = new ContentType2TestPage();
            var viewData = new ViewDataDictionary(model);

            view.ViewContext = GetViewContext();

            Assert.Throws&lt;ModelBindingException&gt;(() =&gt; view.SetViewDataX(viewData));
        }

        [Test]
        public void RenderModel_ContentType1_To_RenderModelOf_ContentType1()
        {
            var content = new ContentType1(null);
            var model = new RenderModel(content, CultureInfo.InvariantCulture);
            var view = new RenderModelOfContentType1TestPage();
            var viewData = new ViewDataDictionary(model);

            view.ViewContext = GetViewContext();
            view.SetViewDataX(viewData);

            Assert.IsInstanceOf&lt;RenderModel&lt;ContentType1&gt;&gt;(view.Model);
            Assert.IsInstanceOf&lt;ContentType1&gt;(view.Model.Content);
        }

        [Test]
        public void RenderModel_ContentType2_To_RenderModelOf_ContentType1()
        {
            var content = new ContentType2(null);
            var model = new RenderModel(content, CultureInfo.InvariantCulture);
            var view = new RenderModelOfContentType1TestPage();
            var viewData = new ViewDataDictionary(model);

            view.ViewContext = GetViewContext();
            view.SetViewDataX(viewData);

            Assert.IsInstanceOf&lt;RenderModel&lt;ContentType1&gt;&gt;(view.Model);
            Assert.IsInstanceOf&lt;ContentType2&gt;(view.Model.Content);
        }

        [Test]
        public void RenderModel_ContentType1_To_RenderModelOf_ContentType2()
        {
            var content = new ContentType1(null);
            var model = new RenderModel(content, CultureInfo.InvariantCulture);
            var view = new RenderModelOfContentType2TestPage();
            var viewData = new ViewDataDictionary(model);

            view.ViewContext = GetViewContext();

            Assert.Throws&lt;ModelBindingException&gt;(() =&gt; view.SetViewDataX(viewData));
        }

        #endregion

        #region RenderModelOf To ...

        [Test]
        public void RenderModelOf_ContentType1_To_RenderModel()
        {
            var content = new ContentType1(null);
            var model = new RenderModel&lt;ContentType1&gt;(content, CultureInfo.InvariantCulture);
            var view = new RenderModelTestPage();
            var viewData = new ViewDataDictionary(model);

            view.ViewContext = GetViewContext();
            view.SetViewDataX(viewData);

            Assert.AreSame(model, view.Model);
        }

        [Test]
        public void RenderModelOf_ContentType1_To_ContentType1()
        {
            var content = new ContentType1(null);
            var model = new RenderModel&lt;ContentType1&gt;(content, CultureInfo.InvariantCulture);
            var view = new ContentType1TestPage();
            var viewData = new ViewDataDictionary(model);

            view.ViewContext = GetViewContext();
            view.SetViewDataX(viewData);

            Assert.IsInstanceOf&lt;ContentType1&gt;(view.Model);
        }

        [Test]
        public void RenderModelOf_ContentType2_To_ContentType1()
        {
            var content = new ContentType2(null);
            var model = new RenderModel&lt;ContentType2&gt;(content, CultureInfo.InvariantCulture);
            var view = new ContentType1TestPage();
            var viewData = new ViewDataDictionary(model);

            view.ViewContext = GetViewContext();
            view.SetViewDataX(viewData);

            Assert.IsInstanceOf&lt;ContentType1&gt;(view.Model);
        }

        [Test]
        public void RenderModelOf_ContentType1_To_ContentType2()
        {
            var content = new ContentType1(null);
            var model = new RenderModel&lt;ContentType1&gt;(content, CultureInfo.InvariantCulture);
            var view = new ContentType2TestPage();
            var viewData = new ViewDataDictionary(model);

            view.ViewContext = GetViewContext();
            Assert.Throws&lt;ModelBindingException&gt;(() =&gt; view.SetViewDataX(viewData));
        }

        [Test]
        public void RenderModelOf_ContentType1_To_RenderModelOf_ContentType1()
        {
            var content = new ContentType1(null);
            var model = new RenderModel&lt;ContentType1&gt;(content, CultureInfo.InvariantCulture);
            var view = new RenderModelOfContentType1TestPage();
            var viewData = new ViewDataDictionary(model);

            view.ViewContext = GetViewContext();
            view.SetViewDataX(viewData);

            Assert.IsInstanceOf&lt;RenderModel&lt;ContentType1&gt;&gt;(view.Model);
            Assert.IsInstanceOf&lt;ContentType1&gt;(view.Model.Content);
        }

        [Test]
        public void RenderModelOf_ContentType2_To_RenderModelOf_ContentType1()
        {
            var content = new ContentType2(null);
            var model = new RenderModel&lt;ContentType2&gt;(content, CultureInfo.InvariantCulture);
            var view = new RenderModelOfContentType1TestPage();
            var viewData = new ViewDataDictionary(model);

            view.ViewContext = GetViewContext();
            view.SetViewDataX(viewData);

            Assert.IsInstanceOf&lt;RenderModel&lt;ContentType1&gt;&gt;(view.Model);
            Assert.IsInstanceOf&lt;ContentType2&gt;(view.Model.Content);
        }

        [Test]
        public void RenderModelOf_ContentType1_To_RenderModelOf_ContentType2()
        {
            var content = new ContentType1(null);
            var model = new RenderModel&lt;ContentType1&gt;(content, CultureInfo.InvariantCulture);
            var view = new RenderModelOfContentType2TestPage();
            var viewData = new ViewDataDictionary(model);

            view.ViewContext = GetViewContext();
            Assert.Throws&lt;ModelBindingException&gt;(() =&gt; view.SetViewDataX(viewData));
        }

        #endregion

        #region ContentType To ...

        [Test]
        public void ContentType1_To_RenderModel()
        {
            var content = new ContentType1(null);
            var view = new RenderModelTestPage();
            var viewData = new ViewDataDictionary(content);

            view.ViewContext = GetViewContext();
            view.SetViewDataX(viewData);

            Assert.IsInstanceOf&lt;RenderModel&gt;(view.Model);
        }

        [Test]
        public void ContentType1_To_RenderModelOf_ContentType1()
        {
            var content = new ContentType1(null);
            var view = new RenderModelOfContentType1TestPage();
            var viewData = new ViewDataDictionary(content);

            view.ViewContext = GetViewContext();
            view.SetViewDataX(viewData);

            Assert.IsInstanceOf&lt;RenderModel&lt;ContentType1&gt;&gt;(view.Model);
            Assert.IsInstanceOf&lt;ContentType1&gt;(view.Model.Content);
        }

        [Test]
        public void ContentType2_To_RenderModelOf_ContentType1()
        {
            var content = new ContentType2(null);
            var view = new RenderModelOfContentType1TestPage();
            var viewData = new ViewDataDictionary(content);

            view.ViewContext = GetViewContext();
            view.SetViewDataX(viewData);

            Assert.IsInstanceOf&lt;RenderModel&lt;ContentType1&gt;&gt;(view.Model);
            Assert.IsInstanceOf&lt;ContentType1&gt;(view.Model.Content);
        }

        [Test]
        public void ContentType1_To_RenderModelOf_ContentType2()
        {
            var content = new ContentType1(null);
            var view = new RenderModelOfContentType2TestPage();
            var viewData = new ViewDataDictionary(content);

            view.ViewContext = GetViewContext();
            Assert.Throws&lt;ModelBindingException&gt;(() =&gt;view.SetViewDataX(viewData));
        }
        
        [Test]
        public void ContentType1_To_ContentType1()
        {
            var content = new ContentType1(null);
            var view = new ContentType1TestPage();
            var viewData = new ViewDataDictionary(content);

            view.ViewContext = GetViewContext();
            view.SetViewDataX(viewData);

            Assert.IsInstanceOf&lt;ContentType1&gt;(view.Model);
        }

        [Test]
        public void ContentType1_To_ContentType2()
        {
            var content = new ContentType1(null);
            var view = new ContentType2TestPage();
            var viewData = new ViewDataDictionary(content);

            view.ViewContext = GetViewContext();
            Assert.Throws&lt;ModelBindingException&gt;(() =&gt; view.SetViewDataX(viewData));
        }

        [Test]
        public void ContentType2_To_ContentType1()
        {
            var content = new ContentType2(null);
            var view = new ContentType1TestPage();
            var viewData = new ViewDataDictionary(content);

            view.ViewContext = GetViewContext();
            view.SetViewDataX(viewData);

            Assert.IsInstanceOf&lt;ContentType1&gt;(view.Model);
        }
        
        #endregion

        #region Test elements

        public class TestPage&lt;TModel&gt; : UmbracoViewPage&lt;TModel&gt;
        {
            public override void Execute()
            {
                throw new NotImplementedException();
            }

            public void SetViewDataX(ViewDataDictionary viewData)
            {
                SetViewData(viewData);
            }
        }

        public class RenderModelTestPage : TestPage&lt;RenderModel&gt;
        { }

        public class RenderModelOfContentType1TestPage : TestPage&lt;RenderModel&lt;ContentType1&gt;&gt;
        { }

        public class RenderModelOfContentType2TestPage : TestPage&lt;RenderModel&lt;ContentType2&gt;&gt;
        { }

        public class ContentType1TestPage : TestPage&lt;ContentType1&gt;
        { }

        public class ContentType2TestPage : TestPage&lt;ContentType2&gt;
        { }

        public class ContentType1 : PublishedContentWrapped
        {
            public ContentType1(IPublishedContent content) : base(content) {}
        }

        public class ContentType2 : ContentType1
        {
            public ContentType2(IPublishedContent content) : base(content) { }
        }

        #endregion

        #region Test helpers

        ServiceContext GetServiceContext(IUmbracoSettingsSection umbracoSettings, ILogger logger)
        {
            var svcCtx = new ServiceContext(
                new Mock&lt;IContentService&gt;().Object,
                new Mock&lt;IMediaService&gt;().Object,
                new Mock&lt;IContentTypeService&gt;().Object,
                new Mock&lt;IDataTypeService&gt;().Object,
                new Mock&lt;IFileService&gt;().Object,
                new Mock&lt;ILocalizationService&gt;().Object,
                new PackagingService(
                    new Mock&lt;ILogger&gt;().Object,
                    new Mock&lt;IContentService&gt;().Object,
                    new Mock&lt;IContentTypeService&gt;().Object,
                    new Mock&lt;IMediaService&gt;().Object,
                    new Mock&lt;IMacroService&gt;().Object,
                    new Mock&lt;IDataTypeService&gt;().Object,
                    new Mock&lt;IFileService&gt;().Object,
                    new Mock&lt;ILocalizationService&gt;().Object,
                    new Mock&lt;IEntityService&gt;().Object,
                    new Mock&lt;IUserService&gt;().Object,
                    new RepositoryFactory(CacheHelper.CreateDisabledCacheHelper(), logger, Mock.Of&lt;ISqlSyntaxProvider&gt;(), umbracoSettings),
                    new Mock&lt;IDatabaseUnitOfWorkProvider&gt;().Object),
                new Mock&lt;IEntityService&gt;().Object,
                new RelationService(
                    new Mock&lt;IDatabaseUnitOfWorkProvider&gt;().Object,
                    new RepositoryFactory(CacheHelper.CreateDisabledCacheHelper(), logger, Mock.Of&lt;ISqlSyntaxProvider&gt;(), umbracoSettings),
                    logger,
                    new TransientMessagesFactory(),
                    new Mock&lt;IEntityService&gt;().Object),
                new Mock&lt;IMemberGroupService&gt;().Object,
                new Mock&lt;IMemberTypeService&gt;().Object,
                new Mock&lt;IMemberService&gt;().Object,
                new Mock&lt;IUserService&gt;().Object,
            new Mock&lt;ISectionService&gt;().Object,
                new Mock&lt;IApplicationTreeService&gt;().Object,
                new Mock&lt;ITagService&gt;().Object,
                new Mock&lt;INotificationService&gt;().Object,
                Mock.Of&lt;ILocalizedTextService&gt;(),
                Mock.Of&lt;IAuditService&gt;(),
                Mock.Of&lt;IDomainService&gt;());
            return svcCtx;
        }

        ViewContext GetViewContext()
        {
            var settings = SettingsForTests.GetDefault();
            var logger = Mock.Of&lt;ILogger&gt;();
            var umbracoContext = GetUmbracoContext(
                logger, settings,
                &quot;/dang&quot;, 0);

            var urlProvider = new UrlProvider(umbracoContext, settings.WebRouting, new IUrlProvider[] { new DefaultUrlProvider(settings.RequestHandler) });
            var routingContext = new RoutingContext(
                umbracoContext,
                Enumerable.Empty&lt;IContentFinder&gt;(),
                new FakeLastChanceFinder(),
                urlProvider);
            umbracoContext.RoutingContext = routingContext;

            var request = new PublishedContentRequest(
                new Uri(&quot;http://localhost/dang&quot;), 
                routingContext,
               settings.WebRouting,
                s =&gt; Enumerable.Empty&lt;string&gt;());

            request.Culture = CultureInfo.InvariantCulture;
            umbracoContext.PublishedContentRequest = request;

            var context = new ViewContext();
            context.RouteData = new RouteData();
            context.RouteData.DataTokens.Add(Umbraco.Core.Constants.Web.UmbracoContextDataToken, umbracoContext);

            return context;
        }

        protected UmbracoContext GetUmbracoContext(ILogger logger, IUmbracoSettingsSection umbracoSettings, string url, int templateId, RouteData routeData = null, bool setSingleton = false)
        {
            var cache = new PublishedContentCache();

            //cache.GetXmlDelegate = (context, preview) =&gt;
            //{
            //    var doc = new XmlDocument();
            //    doc.LoadXml(GetXmlContent(templateId));
            //    return doc;
            //};

            //PublishedContentCache.UnitTesting = true;

            // ApplicationContext.Current = new ApplicationContext(false) { IsReady = true };
            var svcCtx = GetServiceContext(umbracoSettings, logger);

            var appCtx = new ApplicationContext(
                new DatabaseContext(Mock.Of&lt;IDatabaseFactory&gt;(), logger, Mock.Of&lt;ISqlSyntaxProvider&gt;(), &quot;test&quot;),
                svcCtx,
                CacheHelper.CreateDisabledCacheHelper(),
                new ProfilingLogger(logger, Mock.Of&lt;IProfiler&gt;())) { IsReady = true };

            var http = GetHttpContextFactory(url, routeData).HttpContext;
            var ctx = new UmbracoContext(
                GetHttpContextFactory(url, routeData).HttpContext,
                appCtx,
                new PublishedCaches(cache, new PublishedMediaCache(appCtx)),
                new WebSecurity(http, appCtx));

            //if (setSingleton)
            //{
            //    UmbracoContext.Current = ctx;
            //}

            return ctx;
        }

        protected FakeHttpContextFactory GetHttpContextFactory(string url, RouteData routeData = null)
        {
            var factory = routeData != null
                            ? new FakeHttpContextFactory(url, routeData)
                            : new FakeHttpContextFactory(url);


            //set the state helper
            StateHelper.HttpContext = factory.HttpContext;

            return factory;
        }

        #endregion
    }
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[39,9,39,10,1],[40,13,40,50,1],[41,13,41,80,1],[42,13,42,50,1],[43,13,43,58,1],[45,13,45,49,1],[46,13,46,41,1],[48,13,48,47,1],[49,9,49,10,1],[53,9,53,10,1],[54,13,54,50,1],[55,13,55,80,1],[56,13,56,51,1],[57,13,57,58,1],[59,13,59,49,1],[60,13,60,41,1],[62,13,62,59,1],[63,9,63,10,1],[67,9,67,10,1],[68,13,68,50,1],[69,13,69,80,1],[70,13,70,51,1],[71,13,71,58,1],[73,13,73,49,1],[74,13,74,41,1],[76,13,76,59,1],[77,9,77,10,1],[81,9,81,10,1],[82,13,82,50,1],[83,13,83,80,1],[84,13,84,51,1],[85,13,85,58,1],[87,13,87,49,1],[89,13,89,56,1],[89,56,89,83,1],[89,83,89,85,1],[89,13,89,85,1],[90,9,90,10,1],[94,9,94,10,1],[95,13,95,50,1],[96,13,96,80,1],[97,13,97,64,1],[98,13,98,58,1],[100,13,100,49,1],[101,13,101,41,1],[103,13,103,72,1],[104,13,104,67,1],[105,9,105,10,1],[109,9,109,10,1],[110,13,110,50,1],[111,13,111,80,1],[112,13,112,64,1],[113,13,113,58,1],[115,13,115,49,1],[116,13,116,41,1],[118,13,118,72,1],[119,13,119,67,1],[120,9,120,10,1],[124,9,124,10,1],[125,13,125,50,1],[126,13,126,80,1],[127,13,127,64,1],[128,13,128,58,1],[130,13,130,49,1],[132,13,132,56,1],[132,56,132,83,1],[132,83,132,85,1],[132,13,132,85,1],[133,9,133,10,1],[141,9,141,10,1],[142,13,142,50,1],[143,13,143,94,1],[144,13,144,50,1],[145,13,145,58,1],[147,13,147,49,1],[148,13,148,41,1],[150,13,150,47,1],[151,9,151,10,1],[155,9,155,10,1],[156,13,156,50,1],[157,13,157,94,1],[158,13,158,51,1],[159,13,159,58,1],[161,13,161,49,1],[162,13,162,41,1],[164,13,164,59,1],[165,9,165,10,1],[169,9,169,10,1],[170,13,170,50,1],[171,13,171,94,1],[172,13,172,51,1],[173,13,173,58,1],[175,13,175,49,1],[176,13,176,41,1],[178,13,178,59,1],[179,9,179,10,1],[183,9,183,10,1],[184,13,184,50,1],[185,13,185,94,1],[186,13,186,51,1],[187,13,187,58,1],[189,13,189,49,1],[190,13,190,56,1],[190,56,190,83,1],[190,83,190,85,1],[190,13,190,85,1],[191,9,191,10,1],[195,9,195,10,1],[196,13,196,50,1],[197,13,197,94,1],[198,13,198,64,1],[199,13,199,58,1],[201,13,201,49,1],[202,13,202,41,1],[204,13,204,72,1],[205,13,205,67,1],[206,9,206,10,1],[210,9,210,10,1],[211,13,211,50,1],[212,13,212,94,1],[213,13,213,64,1],[214,13,214,58,1],[216,13,216,49,1],[217,13,217,41,1],[219,13,219,72,1],[220,13,220,67,1],[221,9,221,10,1],[225,9,225,10,1],[226,13,226,50,1],[227,13,227,94,1],[228,13,228,64,1],[229,13,229,58,1],[231,13,231,49,1],[232,13,232,56,1],[232,56,232,83,1],[232,83,232,85,1],[232,13,232,85,1],[233,9,233,10,1],[241,9,241,10,1],[242,13,242,50,1],[243,13,243,50,1],[244,13,244,60,1],[246,13,246,49,1],[247,13,247,41,1],[249,13,249,58,1],[250,9,250,10,1],[254,9,254,10,1],[255,13,255,50,1],[256,13,256,64,1],[257,13,257,60,1],[259,13,259,49,1],[260,13,260,41,1],[262,13,262,72,1],[263,13,263,67,1],[264,9,264,10,1],[268,9,268,10,1],[269,13,269,50,1],[270,13,270,64,1],[271,13,271,60,1],[273,13,273,49,1],[274,13,274,41,1],[276,13,276,72,1],[277,13,277,67,1],[278,9,278,10,1],[282,9,282,10,1],[283,13,283,50,1],[284,13,284,64,1],[285,13,285,60,1],[287,13,287,49,1],[288,13,288,55,1],[288,55,288,82,1],[288,82,288,84,1],[288,13,288,84,1],[289,9,289,10,1],[293,9,293,10,1],[294,13,294,50,1],[295,13,295,51,1],[296,13,296,60,1],[298,13,298,49,1],[299,13,299,41,1],[301,13,301,59,1],[302,9,302,10,1],[306,9,306,10,1],[307,13,307,50,1],[308,13,308,51,1],[309,13,309,60,1],[311,13,311,49,1],[312,13,312,56,1],[312,56,312,83,1],[312,83,312,85,1],[312,13,312,85,1],[313,9,313,10,1],[317,9,317,10,1],[318,13,318,50,1],[319,13,319,51,1],[320,13,320,60,1],[322,13,322,49,1],[323,13,323,41,1],[325,13,325,59,1],[326,9,326,10,1],[335,13,335,14,0],[336,17,336,53,0],[340,13,340,14,1],[341,17,341,39,1],[342,13,342,14,1],[362,62,362,75,1],[362,76,362,77,1],[362,77,362,78,1],[367,62,367,75,1],[367,76,367,77,1],[367,78,367,79,1],[375,9,375,10,1],[376,13,413,44,1],[414,13,414,27,1],[415,9,415,10,1],[418,9,418,10,1],[419,13,419,58,1],[420,13,420,45,1],[421,13,423,29,1],[425,13,425,156,1],[426,13,430,30,1],[431,13,431,60,1],[433,13,437,22,1],[437,22,437,48,0],[437,48,437,50,1],[433,13,437,50,1],[439,13,439,60,1],[440,13,440,62,1],[442,13,442,45,1],[443,13,443,49,1],[444,13,444,114,1],[446,13,446,28,1],[447,9,447,10,1],[450,9,450,10,1],[451,13,451,53,1],[463,13,463,69,1],[465,13,469,87,1],[471,13,471,74,1],[472,13,476,48,1],[483,13,483,24,1],[484,9,484,10,1],[487,9,487,10,1],[488,13,490,63,1],[494,13,494,59,1],[496,13,496,28,1],[497,9,497,10,1]]);
    </script>
  </body>
</html>