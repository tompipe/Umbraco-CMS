<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\Umbraco.Tests\PropertyEditors\LegacyPropertyEditorIdToAliasConverterTests.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using NUnit.Framework;
using Umbraco.Core.PropertyEditors;

namespace Umbraco.Tests.PropertyEditors
{
    [TestFixture]
    public class LegacyPropertyEditorIdToAliasConverterTests
    {
        [TearDown]
        public void Reset()
        {
            LegacyPropertyEditorIdToAliasConverter.Reset();
        }

        [Test]
        public void Doesnt_Create_Duplicates_Without_Exception()
        {
            var id = Guid.NewGuid();
            LegacyPropertyEditorIdToAliasConverter.CreateMap(id, &quot;test&quot;);
            LegacyPropertyEditorIdToAliasConverter.CreateMap(id, &quot;test&quot;);
            Assert.AreEqual(1, LegacyPropertyEditorIdToAliasConverter.Count());
        }

        [Test]
        public void Can_Get_Legacy_Id_From_Alias()
        {
            var id = Guid.NewGuid();
            LegacyPropertyEditorIdToAliasConverter.CreateMap(id, &quot;test&quot;);

            Assert.AreEqual(
                id,
                LegacyPropertyEditorIdToAliasConverter.GetLegacyIdFromAlias(
                    &quot;test&quot;,
                    LegacyPropertyEditorIdToAliasConverter.NotFoundLegacyIdResponseBehavior.ThrowException));
        }

        [Test]
        public void Can_Get_Alias_From_Legacy_Id()
        {
            var id = Guid.NewGuid();
            LegacyPropertyEditorIdToAliasConverter.CreateMap(id, &quot;test&quot;);

            Assert.AreEqual(
                &quot;test&quot;,
                LegacyPropertyEditorIdToAliasConverter.GetAliasFromLegacyId(
                    id,
                    true));
        }

        [Test]
        public void Can_Generate_Id_From_Missing_Alias()
        {
            var gen1 = LegacyPropertyEditorIdToAliasConverter.GetLegacyIdFromAlias(&quot;Donotfindthisone&quot;, LegacyPropertyEditorIdToAliasConverter.NotFoundLegacyIdResponseBehavior.GenerateId);
            var gen2 = LegacyPropertyEditorIdToAliasConverter.GetLegacyIdFromAlias(&quot;Donotfindthisone&quot;, LegacyPropertyEditorIdToAliasConverter.NotFoundLegacyIdResponseBehavior.GenerateId);

            Assert.IsNotNull(gen1);
            Assert.IsNotNull(gen2);
            Assert.AreEqual(gen1, gen2);
        }

        [Test]
        public void Creates_Map_For_Core_Editors()
        {
            LegacyPropertyEditorIdToAliasConverter.CreateMappingsForCoreEditors();

            Assert.AreEqual(36, LegacyPropertyEditorIdToAliasConverter.Count());
        }
    }
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[12,9,12,10,1],[13,13,13,60,1],[14,9,14,10,1],[18,9,18,10,1],[19,13,19,37,1],[20,13,20,74,1],[21,13,21,74,1],[22,13,22,80,1],[23,9,23,10,1],[27,9,27,10,1],[28,13,28,37,1],[29,13,29,74,1],[31,13,35,110,1],[36,9,36,10,1],[40,9,40,10,1],[41,13,41,37,1],[42,13,42,74,1],[44,13,48,28,1],[49,9,49,10,1],[53,9,53,10,1],[54,13,54,188,1],[55,13,55,188,1],[57,13,57,36,1],[58,13,58,36,1],[59,13,59,41,1],[60,9,60,10,1],[64,9,64,10,1],[65,13,65,83,1],[67,13,67,81,1],[68,9,68,10,1]]);
    </script>
  </body>
</html>