<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\umbraco.datalayer\SqlHelpers\MySql\MySqlParameter.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
/************************************************************************************
 * 
 *  Umbraco Data Layer
 *  MIT Licensed work
 *  ï¿½2008 Ruben Verborgh
 * 
 ***********************************************************************************/

using System;
using MySqlClient = MySql.Data.MySqlClient;
using System.Text;

namespace umbraco.DataLayer.SqlHelpers.MySql
{
    /// &lt;summary&gt;
    /// Parameter class for the MySqlHelper.
    /// &lt;/summary&gt;
    public class MySqlParameter : SqlParameterAdapter&lt;MySqlClient.MySqlParameter&gt;
    {
        #region Public Constructors
        
        /// &lt;summary&gt;
        /// Initializes a new instance of the &lt;see cref=&quot;MySqlParameter&quot;/&gt; class.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;parameterName&quot;&gt;Name of the parameter.&lt;/param&gt;
        /// &lt;param name=&quot;value&quot;&gt;Value of the parameter.&lt;/param&gt;
        public MySqlParameter(string parameterName, object value)
            : base(new MySqlClient.MySqlParameter(CorrectParameterName(parameterName), value))
        { }

        #endregion

        #region Private Methods

        /// &lt;summary&gt;
        /// Changes the parameter name to the MySQL equivalent.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;parameterName&quot;&gt;The name of the parameter, preceded by an at sign.&lt;/param&gt;
        /// &lt;returns&gt;The name of the parameter, preceded by a question mark.&lt;/returns&gt;
        private static string CorrectParameterName(string parameterName)
        {
            // check parameters
            if(String.IsNullOrEmpty(parameterName))
                throw new ArgumentNullException(&quot;parameterName&quot;);

            // do nothing if parameter doesn&#39;t begin with at sign
            if (parameterName[0] != &#39;@&#39;)
                return parameterName;

            // replace the at sign by a question mark
            StringBuilder sb = new StringBuilder(parameterName);
            sb[0] = &#39;?&#39;;
            return sb.ToString();
        }

        #endregion
    }
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[28,15,28,95,0],[29,9,29,10,0],[29,11,29,12,0],[41,9,41,10,0],[43,13,43,52,0],[44,17,44,66,0],[47,13,47,41,0],[48,17,48,38,0],[51,13,51,65,0],[52,13,52,25,0],[53,13,53,34,0],[54,9,54,10,0]]);
    </script>
  </body>
</html>