<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\Umbraco.Web\umbraco.presentation\umbraco\Trees\MediaRecycleBin.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.Collections;
using System.Collections.Generic;
using System.Data;
using System.IO;
using System.Text;
using System.Web;
using System.Xml;
using System.Linq;
using System.Configuration;
using umbraco.BasePages;
using umbraco.BusinessLogic;
using umbraco.businesslogic;
using umbraco.cms.businesslogic;
using umbraco.cms.businesslogic.cache;
using umbraco.cms.businesslogic.contentitem;
using umbraco.cms.businesslogic.datatype;
using umbraco.cms.businesslogic.language;
using umbraco.cms.businesslogic.media;
using umbraco.cms.businesslogic.member;
using umbraco.cms.businesslogic.property;
using umbraco.cms.businesslogic.web;
using umbraco.interfaces;
using umbraco.DataLayer;
using umbraco.BusinessLogic.Actions;
using umbraco.BusinessLogic.Utils;
using umbraco.cms.presentation.Trees;
using Umbraco.Core;


namespace umbraco.cms.presentation.Trees
{
    [Obsolete(&quot;This is no longer used and will be removed from the codebase in the future&quot;)]
	public class MediaRecycleBin : BaseMediaTree
	{
		public MediaRecycleBin(string application) : base(application) { }

		protected override void CreateRootNodeActions(ref List&lt;IAction&gt; actions)
		{
			actions.Clear();
			actions.Add(ActionEmptyTranscan.Instance);
			actions.Add(ContextMenuSeperator.Instance);
			actions.Add(ActionRefresh.Instance);
		}

		protected override void CreateAllowedActions(ref List&lt;IAction&gt; actions)
		{
			actions.Clear();
			actions.Add(ActionMove.Instance);
			actions.Add(ContextMenuSeperator.Instance);
			actions.Add(ActionDelete.Instance);
			actions.Add(ContextMenuSeperator.Instance);
			actions.Add(ActionRefresh.Instance);
		}

		/// &lt;summary&gt;
		/// By default the Recycle bin start node is -21
		/// &lt;/summary&gt;
		public override int StartNodeID
		{
			get
			{
				return (int)RecycleBin.RecycleBinType.Media;
			}
		}

        /// &lt;summary&gt;
        /// Override the render js so no duplicate js is rendered.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;Javascript&quot;&gt;&lt;/param&gt;
        public override void RenderJS(ref StringBuilder Javascript) { }

		protected override void CreateRootNode(ref XmlTreeNode rootNode)
		{
			rootNode.Icon = &quot;bin_empty.png&quot;;
			rootNode.OpenIcon = &quot;bin.png&quot;;
			//we made this alias the same as media, so the node name would be media,
			//we need to make it recycle bin
			TreeDefinition treeDef = TreeDefinitionCollection.Instance.FindTree(this);
			rootNode.Text = rootNode.Text = GetTreeHeader(treeDef.Tree.Alias);
			if (new RecycleBin(Media._objectType, RecycleBin.RecycleBinType.Media).Smells())
			{
				rootNode.Icon = &quot;bin.png&quot;;
			}
			else
				rootNode.Source = null;
		}

		protected override void OnBeforeNodeRender(ref XmlTree sender, ref XmlTreeNode node, EventArgs e)
		{
			base.OnBeforeNodeRender(ref sender, ref node, e);
			node.Style.DimNode();
		}

	}
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[36,48,36,65,0],[36,66,36,67,0],[36,68,36,69,0],[39,3,39,4,0],[40,4,40,20,0],[41,4,41,46,0],[42,4,42,47,0],[43,4,43,40,0],[44,3,44,4,0],[47,3,47,4,0],[48,4,48,20,0],[49,4,49,37,0],[50,4,50,47,0],[51,4,51,39,0],[52,4,52,47,0],[53,4,53,40,0],[54,3,54,4,0],[62,4,62,5,0],[63,5,63,49,0],[64,4,64,5,0],[71,69,71,70,0],[71,71,71,72,0],[74,3,74,4,0],[75,4,75,36,0],[76,4,76,34,0],[79,4,79,78,0],[80,4,80,70,0],[81,4,81,84,0],[82,4,82,5,0],[83,5,83,31,0],[84,4,84,5,0],[86,5,86,28,0],[87,3,87,4,0],[90,3,90,4,0],[91,4,91,53,0],[92,4,92,25,0],[93,3,93,4,0]]);
    </script>
  </body>
</html>