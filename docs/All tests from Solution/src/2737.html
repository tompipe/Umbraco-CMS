<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\umbraco.editorControls\imagecropper\SmartListBox.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.Web.UI.WebControls;

namespace umbraco.editorControls.imagecropper
{
    [Obsolete(&quot;IDataType and all other references to the legacy property editors are no longer used this will be removed from the codebase in future versions&quot;)]
    public class SmartListBox : ListBox
    {
        //Moves the selected items up one level
        public void MoveUp()
        {

            for (int i = 0; i &lt; Items.Count; i++)
            {
                if (Items[i].Selected)//identify the selected item
                {
                    //swap with the top item(move up)
                    if (i &gt; 0 &amp;&amp; !Items[i - 1].Selected)
                    {
                        ListItem bottom = Items[i];
                        Items.Remove(bottom);
                        Items.Insert(i - 1, bottom);
                        Items[i - 1].Selected = true;
                    }
                }
            }
        }
        //Moves the selected items one level down
        public void MoveDown()
        {
            int startindex = Items.Count - 1;
            for (int i = startindex; i &gt; -1; i--)
            {
                if (Items[i].Selected)//identify the selected item
                {
                    //swap with the lower item(move down)
                    if (i &lt; startindex &amp;&amp; !Items[i + 1].Selected)
                    {
                        ListItem bottom = Items[i];
                        Items.Remove(bottom);
                        Items.Insert(i + 1, bottom);
                        Items[i + 1].Selected = true;
                    }

                }
            }
        }
    }
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[11,9,11,10,0],[13,18,13,27,0],[13,29,13,44,0],[13,46,13,49,0],[14,13,14,14,0],[15,17,15,39,0],[16,17,16,18,0],[18,21,18,57,0],[19,21,19,22,0],[20,25,20,52,0],[21,25,21,46,0],[22,25,22,53,0],[23,25,23,54,0],[24,21,24,22,0],[25,17,25,18,0],[26,13,26,14,0],[27,9,27,10,0],[30,9,30,10,0],[31,13,31,46,0],[32,18,32,36,0],[32,38,32,44,0],[32,46,32,49,0],[33,13,33,14,0],[34,17,34,39,0],[35,17,35,18,0],[37,21,37,66,0],[38,21,38,22,0],[39,25,39,52,0],[40,25,40,46,0],[41,25,41,53,0],[42,25,42,54,0],[43,21,43,22,0],[45,17,45,18,0],[46,13,46,14,0],[47,9,47,10,0]]);
    </script>
  </body>
</html>