<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\Umbraco.Core\Security\UmbracoMembershipProviderBase.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System.Text;
using System.Web.Security;

namespace Umbraco.Core.Security
{
    /// &lt;summary&gt;
    /// A base membership provider class for umbraco providers
    /// &lt;/summary&gt;
    public abstract class UmbracoMembershipProviderBase : MembershipProviderBase
    {


        public abstract string DefaultMemberTypeAlias { get; }
        
        /// &lt;summary&gt;
        /// Adds a new membership user to the data source.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;username&quot;&gt;The user name for the new user.&lt;/param&gt;
        /// &lt;param name=&quot;password&quot;&gt;The password for the new user.&lt;/param&gt;
        /// &lt;param name=&quot;email&quot;&gt;The e-mail address for the new user.&lt;/param&gt;
        /// &lt;param name=&quot;passwordQuestion&quot;&gt;The password question for the new user.&lt;/param&gt;
        /// &lt;param name=&quot;passwordAnswer&quot;&gt;The password answer for the new user&lt;/param&gt;
        /// &lt;param name=&quot;isApproved&quot;&gt;Whether or not the new user is approved to be validated.&lt;/param&gt;
        /// &lt;param name=&quot;providerUserKey&quot;&gt;The unique identifier from the membership data source for the user.&lt;/param&gt;
        /// &lt;param name=&quot;status&quot;&gt;A &lt;see cref=&quot;T:System.Web.Security.MembershipCreateStatus&quot;&gt;&lt;/see&gt; enumeration value indicating whether the user was created successfully.&lt;/param&gt;
        /// &lt;returns&gt;
        /// A &lt;see cref=&quot;T:System.Web.Security.MembershipUser&quot;&gt;&lt;/see&gt; object populated with the information for the newly created user.
        /// &lt;/returns&gt;
        protected sealed override MembershipUser PerformCreateUser(string username, string password, string email, string passwordQuestion, string passwordAnswer, bool isApproved, object providerUserKey, out MembershipCreateStatus status)
        {
            return PerformCreateUser(DefaultMemberTypeAlias, username, password, email, passwordQuestion, passwordAnswer, isApproved, providerUserKey, out status);
        }

        /// &lt;summary&gt;
        /// Adds a new membership user to the data source.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;memberTypeAlias&quot;&gt;The member type alias to use when creating the member&lt;/param&gt;
        /// &lt;param name=&quot;username&quot;&gt;The user name for the new user.&lt;/param&gt;
        /// &lt;param name=&quot;password&quot;&gt;The password for the new user.&lt;/param&gt;
        /// &lt;param name=&quot;email&quot;&gt;The e-mail address for the new user.&lt;/param&gt;
        /// &lt;param name=&quot;passwordQuestion&quot;&gt;The password question for the new user.&lt;/param&gt;
        /// &lt;param name=&quot;passwordAnswer&quot;&gt;The password answer for the new user&lt;/param&gt;
        /// &lt;param name=&quot;isApproved&quot;&gt;Whether or not the new user is approved to be validated.&lt;/param&gt;
        /// &lt;param name=&quot;providerUserKey&quot;&gt;The unique identifier from the membership data source for the user.&lt;/param&gt;
        /// &lt;param name=&quot;status&quot;&gt;A &lt;see cref=&quot;T:System.Web.Security.MembershipCreateStatus&quot;&gt;&lt;/see&gt; enumeration value indicating whether the user was created successfully.&lt;/param&gt;
        /// &lt;returns&gt;
        /// A &lt;see cref=&quot;T:System.Web.Security.MembershipUser&quot;&gt;&lt;/see&gt; object populated with the information for the newly created user.
        /// &lt;/returns&gt;
        public MembershipUser CreateUser(string memberTypeAlias, string username, string password, string email, string passwordQuestion, string passwordAnswer, bool isApproved, object providerUserKey, out MembershipCreateStatus status)
        {
            //do the base validation first
            var valStatus = ValidateNewUser(username, password, email, passwordQuestion, passwordAnswer, isApproved, providerUserKey);
            if (valStatus != MembershipCreateStatus.Success)
            {
                status = valStatus;
                return null;
            }
            
            return PerformCreateUser(memberTypeAlias, username, password, email, passwordQuestion, passwordAnswer, isApproved, providerUserKey, out status);
        }

        /// &lt;summary&gt;
        /// Adds a new membership user to the data source.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;memberTypeAlias&quot;&gt;The member type alias to use when creating the member&lt;/param&gt;
        /// &lt;param name=&quot;username&quot;&gt;The user name for the new user.&lt;/param&gt;
        /// &lt;param name=&quot;password&quot;&gt;The password for the new user.&lt;/param&gt;
        /// &lt;param name=&quot;email&quot;&gt;The e-mail address for the new user.&lt;/param&gt;
        /// &lt;param name=&quot;passwordQuestion&quot;&gt;The password question for the new user.&lt;/param&gt;
        /// &lt;param name=&quot;passwordAnswer&quot;&gt;The password answer for the new user&lt;/param&gt;
        /// &lt;param name=&quot;isApproved&quot;&gt;Whether or not the new user is approved to be validated.&lt;/param&gt;
        /// &lt;param name=&quot;providerUserKey&quot;&gt;The unique identifier from the membership data source for the user.&lt;/param&gt;
        /// &lt;param name=&quot;status&quot;&gt;A &lt;see cref=&quot;T:System.Web.Security.MembershipCreateStatus&quot;&gt;&lt;/see&gt; enumeration value indicating whether the user was created successfully.&lt;/param&gt;
        /// &lt;returns&gt;
        /// A &lt;see cref=&quot;T:System.Web.Security.MembershipUser&quot;&gt;&lt;/see&gt; object populated with the information for the newly created user.
        /// &lt;/returns&gt;
        protected abstract MembershipUser PerformCreateUser(string memberTypeAlias, string username, string password, string email, string passwordQuestion, string passwordAnswer, bool isApproved, object providerUserKey, out MembershipCreateStatus status);

        public override string ToString()
        {
            var result = base.ToString();
            var sb = new StringBuilder(result);
            sb.AppendLine(&quot;DefaultMemberTypeAlias=&quot; + DefaultMemberTypeAlias);
            return sb.ToString();
        }
    }
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[30,9,30,10,0],[31,13,31,164,0],[32,9,32,10,0],[50,9,50,10,1],[52,13,52,135,1],[53,13,53,61,1],[54,13,54,14,0],[55,17,55,36,0],[56,17,56,29,0],[59,13,59,157,1],[60,9,60,10,1],[80,9,80,10,0],[81,13,81,42,0],[82,13,82,48,0],[83,13,83,79,0],[84,13,84,34,0],[85,9,85,10,0]]);
    </script>
  </body>
</html>