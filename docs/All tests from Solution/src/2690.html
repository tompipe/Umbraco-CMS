<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\umbraco.editorControls\SettingControls\Pickers\Path.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using umbraco.cms.businesslogic.datatype;
using System.Web.UI.WebControls;


namespace umbraco.editorControls.SettingControls.Pickers
{
    [Obsolete(&quot;IDataType and all other references to the legacy property editors are no longer used this will be removed from the codebase in future versions&quot;)]
    public class Path : DataEditorSettingType
    {
        private PathPicker pp = new PathPicker();

        private string _val = string.Empty;
        public override string Value
        {
            get
            {
                return pp.Value;
            }
            set
            {
                if (!string.IsNullOrEmpty(value))
                    _val = value;
            }
        }

        public override System.Web.UI.Control RenderControl(DataEditorSetting sender)
        {

            
            pp.ID = sender.GetName().Replace(&quot; &quot;, &quot;_&quot;);

            if (string.IsNullOrEmpty(_val) &amp;&amp; !string.IsNullOrEmpty(DefaultValue))
                pp.Value = DefaultValue;
            else
                pp.Value = _val;

            return pp;
        }
    }

    [Obsolete(&quot;IDataType and all other references to the legacy property editors are no longer used this will be removed from the codebase in future versions&quot;)]
    public class PathPicker : WebControl
    {
        private TextBox tb;

        public PathPicker()
        {
            EnsureChildControls();
        }

        protected override void CreateChildControls()
        {

            tb = new TextBox();
            tb.CssClass = &quot;guiInputText guiInputStandardSize&quot;;
            tb.ID = this.ID + &quot;input&quot;;
            this.Controls.Add(tb);

        }

        protected override void Render(System.Web.UI.HtmlTextWriter writer)
        {
            tb.RenderControl(writer);

            writer.WriteLine(string.Format(&quot; &lt;a onclick=\&quot;{0}\&quot;href=\&quot;javascript:void(0);\&quot;&gt;Select&lt;/a&gt;&quot;,
                string.Format(&quot;javascript:UmbClientMgr.openModalWindow(&#39;developer/packages/directoryBrowser.aspx?target={0}&#39;, &#39;Choose a file or a folder&#39;, true, 400, 500, 0, 0); return false;&quot;, tb.ClientID)));

        }

        private string _val = string.Empty;
        public string Value
        {
            get
            {
                return tb.Text;

            }
            set
            {
                if (!string.IsNullOrEmpty(value))
                {
                    _val = value;
                    tb.Text = _val;
                }
            }
        }
    }

}
    </pre>
    <script type="text/javascript">
      highlightRanges([[14,9,14,50,0],[16,9,16,44,0],[20,13,20,14,0],[21,17,21,33,0],[22,13,22,14,0],[24,13,24,14,0],[25,17,25,50,0],[26,21,26,34,0],[27,13,27,14,0],[31,9,31,10,0],[34,13,34,56,0],[36,13,36,83,0],[37,17,37,41,0],[39,17,39,33,0],[41,13,41,23,0],[42,9,42,10,0],[50,9,50,28,0],[51,9,51,10,0],[52,13,52,35,0],[53,9,53,10,0],[56,9,56,10,0],[58,13,58,32,0],[59,13,59,63,0],[60,13,60,39,0],[61,13,61,35,0],[63,9,63,10,0],[66,9,66,10,0],[67,13,67,38,0],[69,13,70,210,0],[72,9,72,10,0],[74,9,74,44,0],[78,13,78,14,0],[79,17,79,32,0],[81,13,81,14,0],[83,13,83,14,0],[84,17,84,50,0],[85,17,85,18,0],[86,21,86,34,0],[87,21,87,36,0],[88,17,88,18,0],[89,13,89,14,0]]);
    </script>
  </body>
</html>