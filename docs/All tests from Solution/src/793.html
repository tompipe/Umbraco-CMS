<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\Umbraco.Web\WebApi\WebApiHelper.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.Net.Http;
using System.Web;
using System.Web.Http;
using System.Web.Http.Controllers;
using System.Web.Http.Hosting;
using System.Web.Http.Routing;

namespace Umbraco.Web.WebApi
{
    internal static class WebApiHelper
    {
        /// &lt;summary&gt;
        /// A helper method to create a WebAPI HttpControllerContext which can be used to execute a controller manually
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;method&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;uri&quot;&gt;&lt;/param&gt;
        /// &lt;param name=&quot;httpContext&quot;&gt;&lt;/param&gt;
        /// &lt;returns&gt;&lt;/returns&gt;
        internal static HttpControllerContext CreateContext(HttpMethod method, Uri uri, HttpContextBase httpContext)
        {
            var config = new HttpConfiguration(GlobalConfiguration.Configuration.Routes);
            IHttpRouteData route = new HttpRouteData(new HttpRoute());
            var req = new HttpRequestMessage(method, uri);
            req.Properties[HttpPropertyKeys.HttpConfigurationKey] = config;
            req.Properties[HttpPropertyKeys.HttpRouteDataKey] = route;
            req.Properties[&quot;MS_HttpContext&quot;] = httpContext;
            return new HttpControllerContext(config, route, req);
        }
    }
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[21,9,21,10,0],[22,13,22,90,0],[23,13,23,71,0],[24,13,24,59,0],[25,13,25,76,0],[26,13,26,71,0],[27,13,27,60,0],[28,13,28,66,0],[29,9,29,10,0]]);
    </script>
  </body>
</html>