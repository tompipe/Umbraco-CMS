<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\Umbraco.Web\Mvc\UmbracoController.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.Web;
using System.Web.Mvc;
using Microsoft.Owin;
using Umbraco.Core;
using Umbraco.Core.Logging;
using Umbraco.Core.Services;
using Umbraco.Web.Security;

namespace Umbraco.Web.Mvc
{
    /// &lt;summary&gt;
    /// A base controller class containing all of the Umbraco objects as properties that a developer requires
    /// &lt;/summary&gt;
    public abstract class UmbracoController : Controller
    {
        protected UmbracoController(UmbracoContext umbracoContext)
        {
            if (umbracoContext == null) throw new ArgumentNullException(&quot;umbracoContext&quot;);
            UmbracoContext = umbracoContext;
        }

        protected UmbracoController(UmbracoContext umbracoContext, UmbracoHelper umbracoHelper)
        {
            if (umbracoContext == null) throw new ArgumentNullException(&quot;umbracoContext&quot;);
            if (umbracoHelper == null) throw new ArgumentNullException(&quot;umbracoHelper&quot;);
            UmbracoContext = umbracoContext;
            _umbraco = umbracoHelper;
        }

        protected UmbracoController()
            : this(UmbracoContext.Current)
        {
            
        }

        protected IOwinContext OwinContext
        {
            get { return Request.GetOwinContext(); }
        }

        private UmbracoHelper _umbraco;

        /// &lt;summary&gt;
        /// Returns the MemberHelper instance
        /// &lt;/summary&gt;
        public MembershipHelper Members
        {
            get { return Umbraco.MembershipHelper; }
        }

        /// &lt;summary&gt;
        /// Returns an UmbracoHelper object
        /// &lt;/summary&gt;
        public virtual UmbracoHelper Umbraco
        {
            get { return _umbraco ?? (_umbraco = new UmbracoHelper(UmbracoContext)); }
        }

        /// &lt;summary&gt;
        /// Returns an ILogger
        /// &lt;/summary&gt;
        public ILogger Logger
        {
            get { return ProfilingLogger.Logger; }
        }

        /// &lt;summary&gt;
        /// Returns a ProfilingLogger
        /// &lt;/summary&gt;
        public virtual ProfilingLogger ProfilingLogger
        {
            get { return UmbracoContext.Application.ProfilingLogger; }
        }

        /// &lt;summary&gt;
        /// Returns the current UmbracoContext
        /// &lt;/summary&gt;
        public virtual UmbracoContext UmbracoContext { get; private set; }

        /// &lt;summary&gt;
        /// Returns the current ApplicationContext
        /// &lt;/summary&gt;
        public virtual ApplicationContext ApplicationContext
        {
            get { return UmbracoContext.Application; }
        }

        /// &lt;summary&gt;
        /// Returns a ServiceContext
        /// &lt;/summary&gt;
        public ServiceContext Services
        {
            get { return ApplicationContext.Services; }
        }

        /// &lt;summary&gt;
        /// Returns a DatabaseContext
        /// &lt;/summary&gt;
        public DatabaseContext DatabaseContext
        {
            get { return ApplicationContext.DatabaseContext; }
        }

        /// &lt;summary&gt;
        /// Returns the WebSecurity instance
        /// &lt;/summary&gt;
        public virtual WebSecurity Security
        {
            get { return UmbracoContext.Security; }
        }
    }
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[17,9,17,67,1],[18,9,18,10,1],[19,13,19,40,1],[19,41,19,91,0],[20,13,20,45,1],[21,9,21,10,1],[23,9,23,96,0],[24,9,24,10,0],[25,13,25,40,0],[25,41,25,91,0],[26,13,26,39,0],[26,40,26,89,0],[27,13,27,45,0],[28,13,28,38,0],[29,9,29,10,0],[32,15,32,43,0],[33,9,33,10,0],[35,9,35,10,0],[39,17,39,18,0],[39,19,39,51,0],[39,52,39,53,0],[49,17,49,18,0],[49,19,49,51,0],[49,52,49,53,0],[57,17,57,18,0],[57,19,57,85,0],[57,86,57,87,0],[65,17,65,18,0],[65,19,65,49,0],[65,50,65,51,0],[73,17,73,18,0],[73,19,73,69,0],[73,70,73,71,0],[79,56,79,60,0],[79,61,79,73,1],[86,17,86,18,0],[86,19,86,53,0],[86,54,86,55,0],[94,17,94,18,0],[94,19,94,54,0],[94,55,94,56,0],[102,17,102,18,0],[102,19,102,61,0],[102,62,102,63,0],[110,17,110,18,0],[110,19,110,50,0],[110,51,110,52,0]]);
    </script>
  </body>
</html>