<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\Umbraco.Web\Models\TemplateQuery\QueryCondition.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
namespace Umbraco.Web.Models.TemplateQuery
{
    public class QueryCondition
    {
        
        public PropertyModel Property { get; set; }
        public OperathorTerm Term { get; set; }
        public string ConstraintValue { get; set; }
    }


    internal static class QueryConditionExtensions
    {
        private static string MakeBinaryOperation(this QueryCondition condition, string operand, int token)
        {
            return string.Format(&quot;{0}{1}@{2}&quot;, condition.Property.Name, operand, token);
        }


        public static string BuildCondition(this QueryCondition condition, int token)
        {
            var operand = string.Empty;
            var value = string.Empty;

            switch (condition.Term.Operathor)
            {
                case Operathor.Equals:
                    operand =   &quot; == &quot;;
                    break;
                case Operathor.NotEquals:
                    operand = &quot; != &quot;;
                    break;
                case Operathor.GreaterThan:
                    operand = &quot; &gt; &quot;;
                    break;
                case Operathor.GreaterThanEqualTo:
                    operand = &quot; &gt;= &quot;;
                    break;
                case Operathor.LessThan:
                    operand = &quot; &lt; &quot;;
                    break;
                case Operathor.LessThanEqualTo:
                    operand = &quot; &lt;= &quot;;
                    break;
                case Operathor.Contains:
                    value = string.Format(&quot;{0}.Contains(@{1})&quot;, condition.Property.Name, token);
                    break;
                case Operathor.NotContains:
                    value =  string.Format(&quot;!{0}.Contains(@{1})&quot;, condition.Property.Name, token);
                    break;
                default :
                    operand = &quot; == &quot;;
                    break;
            }

            return string.IsNullOrEmpty(value) ? condition.MakeBinaryOperation(operand, token) : value;
        }

    }
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[6,41,6,45,0],[6,46,6,50,0],[7,37,7,41,0],[7,42,7,46,0],[8,41,8,45,0],[8,46,8,50,0],[15,9,15,10,0],[16,13,16,89,0],[17,9,17,10,0],[21,9,21,10,0],[22,13,22,40,0],[23,13,23,38,0],[25,13,25,46,0],[28,21,28,40,0],[29,21,29,27,0],[31,21,31,38,0],[32,21,32,27,0],[34,21,34,37,0],[35,21,35,27,0],[37,21,37,38,0],[38,21,38,27,0],[40,21,40,37,0],[41,21,41,27,0],[43,21,43,38,0],[44,21,44,27,0],[46,21,46,97,0],[47,21,47,27,0],[49,21,49,99,0],[50,21,50,27,0],[52,21,52,38,0],[53,21,53,27,0],[56,13,56,104,0],[57,9,57,10,0]]);
    </script>
  </body>
</html>