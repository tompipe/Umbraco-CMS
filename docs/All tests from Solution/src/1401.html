<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\Umbraco.Core\Enum.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;

namespace Umbraco.Core
{
	/// &lt;summary&gt;
	/// A very useful class for parsing, enumerating and querying Enum objects
	/// &lt;/summary&gt;
	/// &lt;typeparam name=&quot;T&quot;&gt;&lt;/typeparam&gt;
	/// &lt;remarks&gt;
	/// Taken from http://damieng.com/blog/2010/10/17/enums-better-syntax-improved-performance-and-tryparse-in-net-3-5
	/// &lt;/remarks&gt;
	public static class Enum&lt;T&gt; where T : struct
	{
		private static readonly IEnumerable&lt;T&gt; All = Enum.GetValues(typeof(T)).Cast&lt;T&gt;();
		private static readonly Dictionary&lt;string, T&gt; InsensitiveNames = All.ToDictionary(k =&gt; Enum.GetName(typeof(T), k).ToLowerInvariant());
		private static readonly Dictionary&lt;string, T&gt; SensitiveNames = All.ToDictionary(k =&gt; Enum.GetName(typeof(T), k));
		private static readonly Dictionary&lt;int, T&gt; Values = All.ToDictionary(k =&gt; Convert.ToInt32(k));
		private static readonly Dictionary&lt;T, string&gt; Names = All.ToDictionary(k =&gt; k, v =&gt; v.ToString());

		public static bool IsDefined(T value)
		{
			return Names.Keys.Contains(value);
		}

		public static bool IsDefined(string value)
		{
			return SensitiveNames.Keys.Contains(value);
		}

		public static bool IsDefined(int value)
		{
			return Values.Keys.Contains(value);
		}

		public static IEnumerable&lt;T&gt; GetValues()
		{
			return All;
		}

		public static string[] GetNames()
		{
			return Names.Values.ToArray();
		}

		public static string GetName(T value)
		{
			string name;
			Names.TryGetValue(value, out name);
			return name;
		}

		public static T Parse(string value)
		{
			T parsed = default(T);
			if (!SensitiveNames.TryGetValue(value, out parsed))
				throw new ArgumentException(&quot;Value is not one of the named constants defined for the enumeration&quot;, &quot;value&quot;);
			return parsed;
		}

		public static T Parse(string value, bool ignoreCase)
		{
			if (!ignoreCase)
				return Parse(value);

			T parsed = default(T);
			if (!InsensitiveNames.TryGetValue(value.ToLowerInvariant(), out parsed))
				throw new ArgumentException(&quot;Value is not one of the named constants defined for the enumeration&quot;, &quot;value&quot;);
			return parsed;
		}

		public static bool TryParse(string value, out T returnValue)
		{
			return SensitiveNames.TryGetValue(value, out returnValue);
		}

		public static bool TryParse(string value, bool ignoreCase, out T returnValue)
		{
			if (!ignoreCase)
				return TryParse(value, out returnValue);

			return InsensitiveNames.TryGetValue(value.ToLowerInvariant(), out returnValue);
		}

		public static T? ParseOrNull(string value)
		{
			if (String.IsNullOrEmpty(value))
				return null;

			T foundValue;
			if (InsensitiveNames.TryGetValue(value.ToLowerInvariant(), out foundValue))
				return foundValue;

			return null;
		}

		public static T? CastOrNull(int value)
		{
			T foundValue;
			if (Values.TryGetValue(value, out foundValue))
				return foundValue;

			return null;
		}
	}
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[17,3,17,84,1],[18,3,18,90,1],[18,90,18,135,1],[18,135,18,137,1],[18,3,18,137,1],[19,3,19,88,1],[19,88,19,114,1],[19,114,19,116,1],[19,3,19,116,1],[20,3,20,77,1],[20,77,20,95,1],[20,95,20,97,1],[20,3,20,97,1],[21,3,21,79,1],[21,79,21,80,1],[21,80,21,87,1],[21,87,21,99,1],[21,99,21,101,1],[21,3,21,101,1],[24,3,24,4,0],[25,4,25,38,0],[26,3,26,4,0],[29,3,29,4,0],[30,4,30,47,0],[31,3,31,4,0],[34,3,34,4,0],[35,4,35,39,0],[36,3,36,4,0],[39,3,39,4,0],[40,4,40,15,0],[41,3,41,4,0],[44,3,44,4,0],[45,4,45,34,0],[46,3,46,4,0],[49,3,49,4,0],[51,4,51,39,0],[52,4,52,16,0],[53,3,53,4,0],[56,3,56,4,1],[57,4,57,26,1],[58,4,58,55,1],[59,5,59,113,0],[60,4,60,18,1],[61,3,61,4,1],[64,3,64,4,0],[65,4,65,20,0],[66,5,66,25,0],[68,4,68,26,0],[69,4,69,76,0],[70,5,70,113,0],[71,4,71,18,0],[72,3,72,4,0],[75,3,75,4,1],[76,4,76,62,1],[77,3,77,4,1],[80,3,80,4,0],[81,4,81,20,0],[82,5,82,45,0],[84,4,84,83,0],[85,3,85,4,0],[88,3,88,4,0],[89,4,89,36,0],[90,5,90,17,0],[93,4,93,79,0],[94,5,94,23,0],[96,4,96,16,0],[97,3,97,4,0],[100,3,100,4,0],[102,4,102,50,0],[103,5,103,23,0],[105,4,105,16,0],[106,3,106,4,0]]);
    </script>
  </body>
</html>