<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tom Pipe\Documents\Hexadigital\Code\Umbraco\Umbraco-CMS\src\Umbraco.Core\Models\PublishedContent\PublishedContentExtensionsForModels.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;

namespace Umbraco.Core.Models.PublishedContent
{
    /// &lt;summary&gt;
    /// Provides strongly typed published content models services.
    /// &lt;/summary&gt;
    internal static class PublishedContentExtensionsForModels
    {
        /// &lt;summary&gt;
        /// Creates a strongly typed published content model for an internal published content.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;content&quot;&gt;The internal published content.&lt;/param&gt;
        /// &lt;returns&gt;The strongly typed published content model.&lt;/returns&gt;
        public static IPublishedContent CreateModel(this IPublishedContent content)
        {
            if (content == null)
                return null;

            if (PublishedContentModelFactoryResolver.Current.HasValue == false)
                return content;

            // get model
            // if factory returns nothing, throw
            // if factory just returns what it got, return
            var model = PublishedContentModelFactoryResolver.Current.Factory.CreateModel(content);
            if (model == null)
                throw new Exception(&quot;IPublishedContentFactory returned null.&quot;);
            if (ReferenceEquals(model, content))
                return content;

            // at the moment, other parts of our code assume that all models will
            // somehow implement IPublishedContentExtended and not just be IPublishedContent,
            // so we&#39;d better check this here to fail as soon as we can.
            //
            // see also PublishedContentExtended.Extend

            var extended = model as IPublishedContentExtended;
            if (extended == null)
                throw new Exception(&quot;IPublishedContentFactory created an object that does not implement IPublishedContentModelExtended.&quot;);

            return model;
        }
    }
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[16,9,16,10,1],[17,13,17,33,1],[18,17,18,29,0],[20,13,20,80,1],[21,17,21,32,1],[26,13,26,99,1],[27,13,27,31,1],[28,17,28,80,0],[29,13,29,49,1],[30,17,30,32,1],[38,13,38,63,1],[39,13,39,34,1],[40,17,40,139,0],[42,13,42,26,1],[43,9,43,10,1]]);
    </script>
  </body>
</html>